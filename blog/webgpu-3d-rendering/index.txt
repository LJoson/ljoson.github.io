2:I[313,["754","static/chunks/754-2d7956d0ca320083.js","308","static/chunks/app/blog/%5Bslug%5D/page-4898a743cdf7fc4a.js"],"BlogDetail"]
4:I[1270,["754","static/chunks/754-2d7956d0ca320083.js","308","static/chunks/app/blog/%5Bslug%5D/page-4898a743cdf7fc4a.js"],"BlogSidebar"]
5:I[4420,["754","static/chunks/754-2d7956d0ca320083.js","308","static/chunks/app/blog/%5Bslug%5D/page-4898a743cdf7fc4a.js"],"RelatedPosts"]
c:I[4707,[],""]
e:I[6423,[],""]
f:I[3529,["185","static/chunks/app/layout-f6c41656a6971b66.js"],"ThemeProvider"]
10:I[4326,["185","static/chunks/app/layout-f6c41656a6971b66.js"],"ClientLayout"]
11:I[3164,["185","static/chunks/app/layout-f6c41656a6971b66.js"],"PageTransition"]
12:I[3157,["185","static/chunks/app/layout-f6c41656a6971b66.js"],"Header"]
13:I[3490,["601","static/chunks/app/error-aca96ac5bb368170.js"],"default"]
14:I[5447,["160","static/chunks/app/not-found-b4a85d88d4259f8a.js"],"default"]
15:I[2063,["185","static/chunks/app/layout-f6c41656a6971b66.js"],"Footer"]
16:I[9615,["555","static/chunks/app/loading-14670c1b72ad4c70.js"],"default"]
3:T7d9e,
# WebGPUæ·±åº¦æ¢ç´¢ï¼šæŠ€æœ¯åºŸæŸ´çš„å›¾å½¢ç¼–ç¨‹è¿›åŒ–å²

> ä»"Hello Triangle"åˆ°"å®æ—¶æ¸²æŸ“å¼•æ“"ï¼Œæˆ‘çš„WebGPUæŠ€æœ¯æ¢ç´¢ä¹‹æ—…

## æˆ‘ä¸WebGPUçš„"ç¬¬ä¸€æ¬¡äº²å¯†æ¥è§¦"

### ç¬¬ä¸€æ¬¡"ç¿»è½¦"ï¼šWebGLçš„å±€é™æ€§

è¿˜è®°å¾—ç¬¬ä¸€æ¬¡å°è¯•ç”¨WebGLåšå¤æ‚3Dæ¸²æŸ“æ—¶ï¼Œæˆ‘ä¿¡å¿ƒæ»¡æ»¡åœ°å¼€å§‹ç¼–ç ï¼š

```javascript
// æˆ‘çš„ç¬¬ä¸€ä¸ª"æ°ä½œ" - WebGLå¤æ‚æ¸²æŸ“
const vertexShaderSource = `
  attribute vec4 a_position;
  attribute vec3 a_normal;
  uniform mat4 u_modelViewMatrix;
  uniform mat4 u_projectionMatrix;
  uniform mat3 u_normalMatrix;
  varying vec3 v_normal;
  varying vec3 v_position;

  void main() {
    v_position = vec3(u_modelViewMatrix * a_position);
    v_normal = normalize(u_normalMatrix * a_normal);
    gl_Position = u_projectionMatrix * u_modelViewMatrix * a_position;
  }
`;

const fragmentShaderSource = `
  precision mediump float;
  varying vec3 v_normal;
  varying vec3 v_position;
  uniform vec3 u_lightPosition;
  uniform vec3 u_lightColor;
  uniform vec3 u_ambientColor;

  void main() {
    vec3 normal = normalize(v_normal);
    vec3 lightDirection = normalize(u_lightPosition - v_position);
    float diffuse = max(dot(normal, lightDirection), 0.0);
    vec3 color = u_ambientColor + diffuse * u_lightColor;
    gl_FragColor = vec4(color, 1.0);
  }
`;
```

ç»“æœå‘¢ï¼Ÿæ€§èƒ½ç“¶é¢ˆã€å†…å­˜æ³„æ¼ã€æ¸²æŸ“ç®¡çº¿å›ºå®šï¼Œå¤æ‚åœºæ™¯ç›´æ¥å¡æˆPPTã€‚å¯¼å¸ˆçœ‹åˆ°åç›´æ¥ç»™æˆ‘å‘äº†ä¸ª"ğŸ¤¦â€â™‚ï¸"çš„è¡¨æƒ…ï¼š"ä½ è¿™æ˜¯åœ¨åš'WebGLæ€§èƒ½ç¾éš¾'å—ï¼Ÿ"

### ç¬¬äºŒæ¬¡å°è¯•ï¼šWebGPUçš„è§‰é†’

å¥½ä¸å®¹æ˜“æ¥è§¦äº†WebGPUï¼Œæˆ‘åˆå¼€å§‹æŒ‘æˆ˜ç°ä»£å›¾å½¢ç¼–ç¨‹ï¼š

```javascript
// æˆ‘çš„"WebGPUç°ä»£æ¸²æŸ“"æ°ä½œ
const device = await adapter.requestDevice();
const commandEncoder = device.createCommandEncoder();

// åˆ›å»ºæ¸²æŸ“ç®¡çº¿
const renderPipeline = device.createRenderPipeline({
  vertex: {
    module: device.createShaderModule({
      code: `
        struct VertexOutput {
          @builtin(position) position: vec4<f32>,
          @location(0) color: vec4<f32>,
        }

        @vertex
        fn vertex_main(@location(0) position: vec3<f32>) -> VertexOutput {
          var output: VertexOutput;
          output.position = vec4<f32>(position, 1.0);
          output.color = vec4<f32>(position * 0.5 + 0.5, 1.0);
          return output;
        }
      `
    }),
    entryPoint: 'vertex_main'
  },
  fragment: {
    module: device.createShaderModule({
      code: `
        @fragment
        fn fragment_main(@location(0) color: vec4<f32>) -> @location(0) vec4<f32> {
          return color;
        }
      `
    }),
    entryPoint: 'fragment_main',
    targets: [{
      format: presentationFormat
    }]
  },
  primitive: {
    topology: 'triangle-list'
  }
});
```

è¿™æ¬¡æ›´æƒ¨ï¼Œè™½ç„¶æ€§èƒ½æå‡äº†ï¼Œä½†ä»£ç å¤æ‚åº¦ç›´çº¿ä¸Šå‡ï¼Œè°ƒè¯•å›°éš¾ï¼Œé”™è¯¯ä¿¡æ¯æ™¦æ¶©éš¾æ‡‚ã€‚æˆ‘çš„"ç°ä»£æ¸²æŸ“å¼•æ“"å˜æˆäº†"è°ƒè¯•å™©æ¢¦"ã€‚

### è§‰é†’æ—¶åˆ»ï¼šWebGPUä¸æ˜¯å·¥å…·ï¼Œæ˜¯è‰ºæœ¯

ç»è¿‡æ— æ•°æ¬¡çš„"ç¿»è½¦"ç»å†ï¼Œæˆ‘ç»ˆäºæ˜ç™½ï¼šWebGPUä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯ä¸€é—¨è‰ºæœ¯ã€‚æ¯ä¸€ä¸ªç®¡çº¿éƒ½éœ€è¦ç²¾å¿ƒè®¾è®¡ï¼Œæ¯ä¸€ä¸ªèµ„æºéƒ½éœ€è¦ç²¾ç¡®ç®¡ç†ã€‚

## WebGPUæ ¸å¿ƒæŠ€æœ¯ï¼šä»åŸç†åˆ°å®è·µ

### 1. æ¶æ„è®¾è®¡ï¼šç°ä»£GPUç¼–ç¨‹çš„å“²å­¦

#### å†…å­˜æ¨¡å‹ï¼šæ˜¾å¼å†…å­˜ç®¡ç†

**WebGPUå†…å­˜å±‚æ¬¡ç»“æ„ï¼š**

```javascript
// å†…å­˜ç±»å‹å®šä¹‰
const memoryTypes = {
  // ä¸»æœºå†…å­˜ (CPUå¯è®¿é—®)
  hostMemory: {
    mappedAtCreation: true,    // åˆ›å»ºæ—¶å¯æ˜ å°„
    copySrc: true,             // å¯ä½œä¸ºå¤åˆ¶æº
    copyDst: true              // å¯ä½œä¸ºå¤åˆ¶ç›®æ ‡
  },

  // è®¾å¤‡å†…å­˜ (GPUä¸“ç”¨)
  deviceMemory: {
    uniform: true,             // ç»Ÿä¸€ç¼“å†²åŒº
    storage: true,             // å­˜å‚¨ç¼“å†²åŒº
    vertex: true,              // é¡¶ç‚¹ç¼“å†²åŒº
    index: true,               // ç´¢å¼•ç¼“å†²åŒº
    indirect: true,            // é—´æ¥ç»˜åˆ¶ç¼“å†²åŒº
    queryResolve: true         // æŸ¥è¯¢è§£æç¼“å†²åŒº
  },

  // å…±äº«å†…å­˜ (CPU/GPUå…±äº«)
  sharedMemory: {
    mappedAtCreation: false,   // åˆ›å»ºæ—¶ä¸å¯æ˜ å°„
    copySrc: true,             // å¯ä½œä¸ºå¤åˆ¶æº
    copyDst: true              // å¯ä½œä¸ºå¤åˆ¶ç›®æ ‡
  }
};

// å†…å­˜åˆ†é…ç­–ç•¥
class MemoryManager {
  constructor(device) {
    this.device = device;
    this.buffers = new Map();
    this.textures = new Map();
  }

  // åˆ›å»ºé¡¶ç‚¹ç¼“å†²åŒº
  createVertexBuffer(data, usage = GPUBufferUsage.VERTEX) {
    const buffer = this.device.createBuffer({
      size: data.byteLength,
      usage: usage | GPUBufferUsage.COPY_DST,
      mappedAtCreation: true
    });

    new Float32Array(buffer.getMappedRange()).set(data);
    buffer.unmap();

    this.buffers.set(buffer, { type: 'vertex', data });
    return buffer;
  }

  // åˆ›å»ºç»Ÿä¸€ç¼“å†²åŒº
  createUniformBuffer(data) {
    const buffer = this.device.createBuffer({
      size: data.byteLength,
      usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST
    });

    this.device.queue.writeBuffer(buffer, 0, data);
    this.buffers.set(buffer, { type: 'uniform', data });
    return buffer;
  }

  // åˆ›å»ºå­˜å‚¨ç¼“å†²åŒº
  createStorageBuffer(data) {
    const buffer = this.device.createBuffer({
      size: data.byteLength,
      usage: GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST
    });

    this.device.queue.writeBuffer(buffer, 0, data);
    this.buffers.set(buffer, { type: 'storage', data });
    return buffer;
  }

  // å†…å­˜æ¸…ç†
  dispose() {
    for (const [buffer] of this.buffers) {
      buffer.destroy();
    }
    for (const [texture] of this.textures) {
      texture.destroy();
    }
    this.buffers.clear();
    this.textures.clear();
  }
}
```

#### æ¸²æŸ“ç®¡çº¿ï¼šå¯ç¼–ç¨‹æ¸²æŸ“æ¶æ„

**ç°ä»£æ¸²æŸ“ç®¡çº¿è®¾è®¡ï¼š**

```javascript
// æ¸²æŸ“ç®¡çº¿æ„å»ºå™¨
class RenderPipelineBuilder {
  constructor(device) {
    this.device = device;
    this.vertexState = {};
    this.fragmentState = {};
    this.primitiveState = {};
    this.depthStencilState = {};
    this.multisampleState = {};
  }

  // è®¾ç½®é¡¶ç‚¹ç€è‰²å™¨
  setVertexShader(module, entryPoint = 'vertex_main') {
    this.vertexState = {
      module,
      entryPoint,
      buffers: []
    };
    return this;
  }

  // æ·»åŠ é¡¶ç‚¹ç¼“å†²åŒºå¸ƒå±€
  addVertexBuffer(layout) {
    this.vertexState.buffers.push(layout);
    return this;
  }

  // è®¾ç½®ç‰‡æ®µç€è‰²å™¨
  setFragmentShader(module, entryPoint = 'fragment_main', targets = []) {
    this.fragmentState = {
      module,
      entryPoint,
      targets
    };
    return this;
  }

  // è®¾ç½®å›¾å…ƒæ‹“æ‰‘
  setPrimitiveTopology(topology = 'triangle-list') {
    this.primitiveState = {
      topology,
      stripIndexFormat: undefined,
      frontFace: 'ccw',
      cullMode: 'back'
    };
    return this;
  }

  // è®¾ç½®æ·±åº¦æ¨¡æ¿æµ‹è¯•
  setDepthStencil(depthWriteEnabled = true, depthCompare = 'less') {
    this.depthStencilState = {
      depthWriteEnabled,
      depthCompare,
      format: 'depth24plus'
    };
    return this;
  }

  // æ„å»ºæ¸²æŸ“ç®¡çº¿
  build() {
    return this.device.createRenderPipeline({
      vertex: this.vertexState,
      fragment: this.fragmentState,
      primitive: this.primitiveState,
      depthStencil: this.depthStencilState,
      multisample: this.multisampleState
    });
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const pipeline = new RenderPipelineBuilder(device)
  .setVertexShader(vertexShaderModule)
  .addVertexBuffer({
    arrayStride: 24, // 3ä¸ªfloat32 (ä½ç½®) + 3ä¸ªfloat32 (æ³•çº¿)
    attributes: [
      { format: 'float32x3', offset: 0, shaderLocation: 0 },  // ä½ç½®
      { format: 'float32x3', offset: 12, shaderLocation: 1 }  // æ³•çº¿
    ]
  })
  .setFragmentShader(fragmentShaderModule, 'fragment_main', [{
    format: presentationFormat
  }])
  .setPrimitiveTopology('triangle-list')
  .setDepthStencil()
  .build();
```

### 2. ç€è‰²å™¨ç¼–ç¨‹ï¼šç°ä»£GPUè®¡ç®—çš„è‰ºæœ¯

#### WGSLè¯­è¨€ï¼šWebGPUç€è‰²å™¨è¯­è¨€

**åŸºç¡€ç€è‰²å™¨ç»“æ„ï¼š**

```wgsl
// é¡¶ç‚¹ç€è‰²å™¨ï¼šå‡ ä½•å˜æ¢ä¸æ•°æ®ä¼ é€’
struct VertexInput {
  @location(0) position: vec3<f32>,
  @location(1) normal: vec3<f32>,
  @location(2) texCoord: vec2<f32>,
  @location(3) color: vec4<f32>
};

struct VertexOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) worldPosition: vec3<f32>,
  @location(1) normal: vec3<f32>,
  @location(2) texCoord: vec2<f32>,
  @location(3) color: vec4<f32>
};

struct Uniforms {
  modelViewProjection: mat4x4<f32>,
  model: mat4x4<f32>,
  normalMatrix: mat3x3<f32>,
  lightPosition: vec3<f32>,
  lightColor: vec3<f32>,
  ambientColor: vec3<f32>
};

@group(0) @binding(0) var<uniform> uniforms: Uniforms;

@vertex
fn vertex_main(input: VertexInput) -> VertexOutput {
  var output: VertexOutput;

  // ä¸–ç•Œç©ºé—´ä½ç½®
  output.worldPosition = vec3<f32>(uniforms.model * vec4<f32>(input.position, 1.0));

  // è£å‰ªç©ºé—´ä½ç½®
  output.position = uniforms.modelViewProjection * vec4<f32>(input.position, 1.0);

  // æ³•çº¿å˜æ¢
  output.normal = uniforms.normalMatrix * input.normal;

  // ä¼ é€’çº¹ç†åæ ‡å’Œé¢œè‰²
  output.texCoord = input.texCoord;
  output.color = input.color;

  return output;
}
```

```wgsl
// ç‰‡æ®µç€è‰²å™¨ï¼šå…‰ç…§è®¡ç®—ä¸æè´¨æ¸²æŸ“
@fragment
fn fragment_main(input: VertexOutput) -> @location(0) vec4<f32> {
  // æ³•çº¿å½’ä¸€åŒ–
  let normal = normalize(input.normal);

  // å…‰ç…§æ–¹å‘
  let lightDirection = normalize(uniforms.lightPosition - input.worldPosition);

  // æ¼«åå°„è®¡ç®—
  let diffuse = max(dot(normal, lightDirection), 0.0);

  // ç¯å¢ƒå…‰
  let ambient = uniforms.ambientColor;

  // æœ€ç»ˆé¢œè‰²
  let finalColor = ambient + diffuse * uniforms.lightColor;

  return vec4<f32>(finalColor * input.color.rgb, input.color.a);
}
```

#### é«˜çº§ç€è‰²å™¨æŠ€å·§ï¼šPBRæè´¨ç³»ç»Ÿ

**åŸºäºç‰©ç†çš„æ¸²æŸ“ (PBR)ï¼š**

```wgsl
// PBRæè´¨ç»“æ„
struct Material {
  albedo: vec3<f32>,      // åŸºç¡€é¢œè‰²
  metallic: f32,          // é‡‘å±åº¦
  roughness: f32,         // ç²—ç³™åº¦
  ao: f32,                // ç¯å¢ƒå…‰é®è”½
  emissive: vec3<f32>     // è‡ªå‘å…‰
};

// PBRå…‰ç…§å‡½æ•°
fn calculatePBR(
  worldPos: vec3<f32>,
  normal: vec3<f32>,
  viewDir: vec3<f32>,
  lightDir: vec3<f32>,
  lightColor: vec3<f32>,
  material: Material
) -> vec3<f32> {
  // åŠç¨‹å‘é‡
  let halfwayDir = normalize(viewDir + lightDir);

  // åŸºç¡€åå°„ç‡
  let F0 = mix(vec3<f32>(0.04), material.albedo, material.metallic);

  // æ³•çº¿åˆ†å¸ƒå‡½æ•° (GGX/Trowbridge-Reitz)
  let NdotH = max(dot(normal, halfwayDir), 0.0);
  let alpha = material.roughness * material.roughness;
  let alpha2 = alpha * alpha;
  let denom = NdotH * NdotH * (alpha2 - 1.0) + 1.0;
  let NDF = alpha2 / (PI * denom * denom);

  // å‡ ä½•å‡½æ•° (Schlick-GGX)
  let NdotV = max(dot(normal, viewDir), 0.0);
  let NdotL = max(dot(normal, lightDir), 0.0);
  let k = (material.roughness + 1.0) * (material.roughness + 1.0) / 8.0;
  let G1_v = NdotV / (NdotV * (1.0 - k) + k);
  let G1_l = NdotL / (NdotL * (1.0 - k) + k);
  let G = G1_v * G1_l;

  // Fresnelæ–¹ç¨‹ (Schlickè¿‘ä¼¼)
  let F = F0 + (1.0 - F0) * pow(1.0 - max(dot(halfwayDir, viewDir), 0.0), 5.0);

  // Cook-Torrance BRDF
  let numerator = NDF * G * F;
  let denominator = 4.0 * NdotV * NdotL + 0.0001;
  let specular = numerator / denominator;

  // æ¼«åå°„é¡¹
  let kS = F;
  let kD = vec3<f32>(1.0) - kS;
  kD *= 1.0 - material.metallic;

  // æœ€ç»ˆé¢œè‰²
  let Lo = (kD * material.albedo / PI + specular) * lightColor * NdotL;

  return Lo;
}

// PBRç‰‡æ®µç€è‰²å™¨
@fragment
fn pbr_fragment_main(input: VertexOutput) -> @location(0) vec4<f32> {
  let material = Material(
    albedo: input.albedo,
    metallic: input.metallic,
    roughness: input.roughness,
    ao: input.ao,
    emissive: input.emissive
  );

  let normal = normalize(input.normal);
  let viewDir = normalize(uniforms.cameraPosition - input.worldPosition);

  // è®¡ç®—æ‰€æœ‰å…‰æºçš„è´¡çŒ®
  var Lo = vec3<f32>(0.0);

  for (var i = 0u; i < uniforms.lightCount; i++) {
    let light = lights[i];
    let lightDir = normalize(light.position - input.worldPosition);
    let distance = length(light.position - input.worldPosition);
    let attenuation = 1.0 / (1.0 + light.linear * distance + light.quadratic * distance * distance);

    Lo += calculatePBR(
      input.worldPosition,
      normal,
      viewDir,
      lightDir,
      light.color * attenuation,
      material
    );
  }

  // ç¯å¢ƒå…‰
  let ambient = uniforms.ambientColor * material.albedo * material.ao;

  // æœ€ç»ˆé¢œè‰²
  let color = ambient + Lo + material.emissive;

  // HDRè‰²è°ƒæ˜ å°„
  color = color / (color + vec3<f32>(1.0));

  // Gammaæ ¡æ­£
  color = pow(color, vec3<f32>(1.0 / 2.2));

  return vec4<f32>(color, 1.0);
}
```

### 3. è®¡ç®—ç€è‰²å™¨ï¼šGPUå¹¶è¡Œè®¡ç®—çš„å¨åŠ›

#### é€šç”¨è®¡ç®—ï¼šè¶…è¶Šå›¾å½¢æ¸²æŸ“

**ç²’å­ç³»ç»Ÿè®¡ç®—ç€è‰²å™¨ï¼š**

```wgsl
// ç²’å­æ•°æ®ç»“æ„
struct Particle {
  position: vec3<f32>,
  velocity: vec3<f32>,
  life: f32,
  maxLife: f32,
  color: vec4<f32>
};

// è®¡ç®—ç€è‰²å™¨ï¼šç²’å­æ›´æ–°
@group(0) @binding(0) var<storage, read_write> particles: array<Particle>;
@group(0) @binding(1) var<uniform> deltaTime: f32;
@group(0) @binding(2) var<uniform> gravity: vec3<f32>;
@group(0) @binding(3) var<uniform> emitterPosition: vec3<f32>;

@compute @workgroup_size(256)
fn update_particles(@builtin(global_invocation_id) globalId: vec3<u32>) {
  let index = globalId.x;
  if (index >= arrayLength(&particles)) {
    return;
  }

  var particle = particles[index];

  // æ›´æ–°ç”Ÿå‘½å€¼
  particle.life -= deltaTime;

  // å¦‚æœç²’å­æ­»äº¡ï¼Œé‡æ–°ç”Ÿæˆ
  if (particle.life <= 0.0) {
    particle.position = emitterPosition;
    particle.velocity = vec3<f32>(
      random_f32() * 2.0 - 1.0,
      random_f32() * 2.0 + 1.0,
      random_f32() * 2.0 - 1.0
    ) * 5.0;
    particle.life = particle.maxLife;
    particle.color = vec4<f32>(1.0, 0.5, 0.0, 1.0);
  } else {
    // åº”ç”¨é‡åŠ›
    particle.velocity += gravity * deltaTime;

    // æ›´æ–°ä½ç½®
    particle.position += particle.velocity * deltaTime;

    // æ›´æ–°é¢œè‰²ï¼ˆåŸºäºç”Ÿå‘½å€¼ï¼‰
    let lifeRatio = particle.life / particle.maxLife;
    particle.color.a = lifeRatio;
    particle.color.rgb = mix(vec3<f32>(1.0, 0.5, 0.0), vec3<f32>(1.0, 0.0, 0.0), 1.0 - lifeRatio);
  }

  particles[index] = particle;
}

// éšæœºæ•°ç”Ÿæˆå‡½æ•°
fn random_f32() -> f32 {
  // ç®€å•çš„ä¼ªéšæœºæ•°ç”Ÿæˆ
  return fract(sin(globalId.x * 12.9898 + globalId.y * 78.233) * 43758.5453);
}
```

**å›¾åƒå¤„ç†è®¡ç®—ç€è‰²å™¨ï¼š**

```wgsl
// å›¾åƒå¤„ç†ï¼šé«˜æ–¯æ¨¡ç³Š
@group(0) @binding(0) var inputTexture: texture_2d<f32>;
@group(0) @binding(1) var outputTexture: texture_storage_2d<rgba8unorm, write>;
@group(0) @binding(2) var<uniform> kernelSize: u32;
@group(0) @binding(3) var<uniform> sigma: f32;

@compute @workgroup_size(16, 16)
fn gaussian_blur(@builtin(global_invocation_id) globalId: vec3<u32>) {
  let texCoord = vec2<i32>(globalId.xy);
  let textureSize = textureDimensions(inputTexture);

  if (texCoord.x >= textureSize.x || texCoord.y >= textureSize.y) {
    return;
  }

  var result = vec4<f32>(0.0);
  var totalWeight = 0.0;

  // è®¡ç®—é«˜æ–¯æ ¸
  for (var i = -i32(kernelSize); i <= i32(kernelSize); i++) {
    for (var j = -i32(kernelSize); j <= i32(kernelSize); j++) {
      let offset = vec2<i32>(i, j);
      let sampleCoord = texCoord + offset;

      // è¾¹ç•Œæ£€æŸ¥
      if (sampleCoord.x >= 0 && sampleCoord.x < textureSize.x &&
          sampleCoord.y >= 0 && sampleCoord.y < textureSize.y) {

        // é«˜æ–¯æƒé‡
        let distance = sqrt(f32(i * i + j * j));
        let weight = exp(-(distance * distance) / (2.0 * sigma * sigma));

        result += textureLoad(inputTexture, sampleCoord, 0) * weight;
        totalWeight += weight;
      }
    }
  }

  // å½’ä¸€åŒ–
  result /= totalWeight;

  textureStore(outputTexture, texCoord, result);
}
```

### 4. æ€§èƒ½ä¼˜åŒ–ï¼šç°ä»£å›¾å½¢ç¼–ç¨‹çš„ç²¾é«“

#### æ¸²æŸ“ä¼˜åŒ–ç­–ç•¥

**å®ä¾‹åŒ–æ¸²æŸ“ï¼š**

```javascript
// å®ä¾‹åŒ–æ¸²æŸ“ç®¡ç†å™¨
class InstancedRenderer {
  constructor(device, pipeline, vertexBuffer, indexBuffer) {
    this.device = device;
    this.pipeline = pipeline;
    this.vertexBuffer = vertexBuffer;
    this.indexBuffer = indexBuffer;
    this.instanceBuffer = null;
    this.instanceCount = 0;
  }

  // è®¾ç½®å®ä¾‹æ•°æ®
  setInstanceData(instanceData) {
    if (this.instanceBuffer) {
      this.instanceBuffer.destroy();
    }

    this.instanceBuffer = this.device.createBuffer({
      size: instanceData.byteLength,
      usage: GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST,
      mappedAtCreation: true
    });

    new Float32Array(this.instanceBuffer.getMappedRange()).set(instanceData);
    this.instanceBuffer.unmap();

    this.instanceCount = instanceData.length / 16; // å‡è®¾æ¯ä¸ªå®ä¾‹16ä¸ªfloat
  }

  // æ‰§è¡Œå®ä¾‹åŒ–æ¸²æŸ“
  render(renderPassEncoder) {
    renderPassEncoder.setPipeline(this.pipeline);
    renderPassEncoder.setVertexBuffer(0, this.vertexBuffer);
    renderPassEncoder.setVertexBuffer(1, this.instanceBuffer);
    renderPassEncoder.setIndexBuffer(this.indexBuffer, 'uint16');
    renderPassEncoder.drawIndexed(this.indexCount, this.instanceCount);
  }
}

// ä½¿ç”¨ç¤ºä¾‹ï¼šæ¸²æŸ“å¤§é‡ç«‹æ–¹ä½“
const instanceData = new Float32Array(1000 * 16); // 1000ä¸ªå®ä¾‹
for (let i = 0; i < 1000; i++) {
  const offset = i * 16;
  // æ¨¡å‹çŸ©é˜µ (4x4)
  const matrix = mat4.create();
  mat4.translate(matrix, matrix, [
    (Math.random() - 0.5) * 20,
    (Math.random() - 0.5) * 20,
    (Math.random() - 0.5) * 20
  ]);
  mat4.scale(matrix, matrix, [0.5, 0.5, 0.5]);

  instanceData.set(matrix, offset);
}

instancedRenderer.setInstanceData(instanceData);
```

**æ¸²æŸ“çŠ¶æ€ç®¡ç†ï¼š**

```javascript
// æ¸²æŸ“çŠ¶æ€ç®¡ç†å™¨
class RenderStateManager {
  constructor(device) {
    this.device = device;
    this.currentPipeline = null;
    this.currentBindGroup = null;
    this.currentVertexBuffers = [];
    this.currentIndexBuffer = null;
  }

  // è®¾ç½®æ¸²æŸ“ç®¡çº¿
  setPipeline(pipeline) {
    if (this.currentPipeline !== pipeline) {
      this.renderPassEncoder.setPipeline(pipeline);
      this.currentPipeline = pipeline;
    }
  }

  // è®¾ç½®ç»‘å®šç»„
  setBindGroup(index, bindGroup) {
    if (this.currentBindGroup !== bindGroup) {
      this.renderPassEncoder.setBindGroup(index, bindGroup);
      this.currentBindGroup = bindGroup;
    }
  }

  // è®¾ç½®é¡¶ç‚¹ç¼“å†²åŒº
  setVertexBuffer(slot, buffer, offset = 0, size = undefined) {
    const key = `${slot}-${buffer}-${offset}-${size}`;
    if (!this.currentVertexBuffers.includes(key)) {
      this.renderPassEncoder.setVertexBuffer(slot, buffer, offset, size);
      this.currentVertexBuffers.push(key);
    }
  }

  // è®¾ç½®ç´¢å¼•ç¼“å†²åŒº
  setIndexBuffer(buffer, format = 'uint16', offset = 0, size = undefined) {
    const key = `${buffer}-${format}-${offset}-${size}`;
    if (this.currentIndexBuffer !== key) {
      this.renderPassEncoder.setIndexBuffer(buffer, format, offset, size);
      this.currentIndexBuffer = key;
    }
  }

  // é‡ç½®çŠ¶æ€
  reset() {
    this.currentPipeline = null;
    this.currentBindGroup = null;
    this.currentVertexBuffers = [];
    this.currentIndexBuffer = null;
  }
}
```

#### å†…å­˜ä¼˜åŒ–ç­–ç•¥

**èµ„æºæ± ç®¡ç†ï¼š**

```javascript
// èµ„æºæ± ç®¡ç†å™¨
class ResourcePool {
  constructor(device) {
    this.device = device;
    this.bufferPool = new Map();
    this.texturePool = new Map();
    this.samplerPool = new Map();
  }

  // è·å–ç¼“å†²åŒº
  getBuffer(size, usage) {
    const key = `${size}-${usage}`;

    if (this.bufferPool.has(key)) {
      const buffers = this.bufferPool.get(key);
      if (buffers.length > 0) {
        return buffers.pop();
      }
    }

    return this.device.createBuffer({ size, usage });
  }

  // å½’è¿˜ç¼“å†²åŒº
  returnBuffer(buffer, size, usage) {
    const key = `${size}-${usage}`;

    if (!this.bufferPool.has(key)) {
      this.bufferPool.set(key, []);
    }

    this.bufferPool.get(key).push(buffer);
  }

  // è·å–çº¹ç†
  getTexture(descriptor) {
    const key = JSON.stringify(descriptor);

    if (this.texturePool.has(key)) {
      const textures = this.texturePool.get(key);
      if (textures.length > 0) {
        return textures.pop();
      }
    }

    return this.device.createTexture(descriptor);
  }

  // å½’è¿˜çº¹ç†
  returnTexture(texture, descriptor) {
    const key = JSON.stringify(descriptor);

    if (!this.texturePool.has(key)) {
      this.texturePool.set(key, []);
    }

    this.texturePool.get(key).push(texture);
  }

  // æ¸…ç†èµ„æºæ± 
  clear() {
    for (const [key, buffers] of this.bufferPool) {
      for (const buffer of buffers) {
        buffer.destroy();
      }
    }

    for (const [key, textures] of this.texturePool) {
      for (const texture of textures) {
        texture.destroy();
      }
    }

    this.bufferPool.clear();
    this.texturePool.clear();
  }
}
```

## å®æˆ˜åº”ç”¨ï¼šä»ç†è®ºåˆ°å®è·µ

### 1. å®æ—¶æ¸²æŸ“å¼•æ“æ¶æ„

**ç°ä»£æ¸²æŸ“å¼•æ“è®¾è®¡ï¼š**

```javascript
// æ¸²æŸ“å¼•æ“æ ¸å¿ƒ
class WebGPURenderer {
  constructor(canvas) {
    this.canvas = canvas;
    this.device = null;
    this.context = null;
    this.commandEncoder = null;
    this.renderPassEncoder = null;

    this.scenes = new Map();
    this.materials = new Map();
    this.textures = new Map();
    this.meshes = new Map();

    this.resourcePool = new ResourcePool();
    this.stateManager = new RenderStateManager();
  }

  // åˆå§‹åŒ–æ¸²æŸ“å™¨
  async initialize() {
    if (!navigator.gpu) {
      throw new Error('WebGPU not supported');
    }

    const adapter = await navigator.gpu.requestAdapter();
    this.device = await adapter.requestDevice();

    this.context = this.canvas.getContext('webgpu');
    const format = navigator.gpu.getPreferredCanvasFormat();

    this.context.configure({
      device: this.device,
      format: format,
      alphaMode: 'premultiplied'
    });
  }

  // åˆ›å»ºåœºæ™¯
  createScene(name) {
    const scene = {
      objects: [],
      lights: [],
      camera: null,
      ambient: [0.1, 0.1, 0.1]
    };

    this.scenes.set(name, scene);
    return scene;
  }

  // æ·»åŠ æ¸²æŸ“å¯¹è±¡
  addObject(sceneName, object) {
    const scene = this.scenes.get(sceneName);
    if (scene) {
      scene.objects.push(object);
    }
  }

  // æ¸²æŸ“åœºæ™¯
  render(sceneName) {
    const scene = this.scenes.get(sceneName);
    if (!scene) return;

    this.commandEncoder = this.device.createCommandEncoder();

    const renderPassDescriptor = {
      colorAttachments: [{
        view: this.context.getCurrentTexture().createView(),
        clearValue: { r: 0.1, g: 0.1, b: 0.1, a: 1.0 },
        loadOp: 'clear',
        storeOp: 'store'
      }]
    };

    this.renderPassEncoder = this.commandEncoder.beginRenderPass(renderPassDescriptor);
    this.stateManager.renderPassEncoder = this.renderPassEncoder;

    // æ¸²æŸ“æ‰€æœ‰å¯¹è±¡
    for (const object of scene.objects) {
      this.renderObject(object, scene);
    }

    this.renderPassEncoder.end();
    this.device.queue.submit([this.commandEncoder.finish()]);
  }

  // æ¸²æŸ“å•ä¸ªå¯¹è±¡
  renderObject(object, scene) {
    const mesh = this.meshes.get(object.meshId);
    const material = this.materials.get(object.materialId);

    if (!mesh || !material) return;

    // è®¾ç½®æ¸²æŸ“ç®¡çº¿
    this.stateManager.setPipeline(material.pipeline);

    // è®¾ç½®ç»‘å®šç»„
    this.stateManager.setBindGroup(0, material.bindGroup);

    // è®¾ç½®é¡¶ç‚¹ç¼“å†²åŒº
    this.stateManager.setVertexBuffer(0, mesh.vertexBuffer);
    if (mesh.indexBuffer) {
      this.stateManager.setIndexBuffer(mesh.indexBuffer);
    }

    // ç»˜åˆ¶
    if (mesh.indexBuffer) {
      this.renderPassEncoder.drawIndexed(mesh.indexCount);
    } else {
      this.renderPassEncoder.draw(mesh.vertexCount);
    }
  }
}
```

### 2. é«˜çº§æ¸²æŸ“æ•ˆæœ

**åå¤„ç†æ•ˆæœç³»ç»Ÿï¼š**

```javascript
// åå¤„ç†æ•ˆæœç®¡ç†å™¨
class PostProcessManager {
  constructor(renderer) {
    this.renderer = renderer;
    this.effects = [];
    this.intermediateTextures = [];
  }

  // æ·»åŠ åå¤„ç†æ•ˆæœ
  addEffect(effect) {
    this.effects.push(effect);
  }

  // æ‰§è¡Œåå¤„ç†
  process(inputTexture, outputTexture) {
    let currentInput = inputTexture;
    let currentOutput = null;

    for (let i = 0; i < this.effects.length; i++) {
      const effect = this.effects[i];
      const isLast = i === this.effects.length - 1;

      if (isLast) {
        currentOutput = outputTexture;
      } else {
        currentOutput = this.getIntermediateTexture();
      }

      effect.render(currentInput, currentOutput);

      if (!isLast) {
        currentInput = currentOutput;
      }
    }
  }

  // è·å–ä¸­é—´çº¹ç†
  getIntermediateTexture() {
    if (this.intermediateTextures.length > 0) {
      return this.intermediateTextures.pop();
    }

    return this.renderer.device.createTexture({
      size: [this.renderer.canvas.width, this.renderer.canvas.height],
      format: 'rgba8unorm',
      usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.TEXTURE_BINDING
    });
  }
}

// æ¨¡ç³Šæ•ˆæœ
class BlurEffect {
  constructor(renderer, radius = 5) {
    this.renderer = renderer;
    this.radius = radius;
    this.pipeline = this.createPipeline();
  }

  createPipeline() {
    return this.renderer.device.createRenderPipeline({
      vertex: {
        module: this.renderer.device.createShaderModule({
          code: `
            @vertex
            fn vertex_main(@builtin(vertex_index) vertex_index: u32) -> @builtin(position) vec4<f32> {
              var pos = array<vec2<f32>, 6>(
                vec2<f32>(-1.0, -1.0),
                vec2<f32>( 1.0, -1.0),
                vec2<f32>(-1.0,  1.0),
                vec2<f32>(-1.0,  1.0),
                vec2<f32>( 1.0, -1.0),
                vec2<f32>( 1.0,  1.0)
              );
              return vec4<f32>(pos[vertex_index], 0.0, 1.0);
            }
          `
        }),
        entryPoint: 'vertex_main'
      },
      fragment: {
        module: this.renderer.device.createShaderModule({
          code: `
            @group(0) @binding(0) var inputTexture: texture_2d<f32>;
            @group(0) @binding(1) var inputSampler: sampler;
            @group(0) @binding(2) var<uniform> radius: f32;

            @fragment
            fn fragment_main(@builtin(position) position: vec4<f32>) -> @location(0) vec4<f32> {
              let texCoord = position.xy / vec2<f32>(textureDimensions(inputTexture));
              var result = vec4<f32>(0.0);
              var totalWeight = 0.0;

              for (var i = -i32(radius); i <= i32(radius); i++) {
                for (var j = -i32(radius); j <= i32(radius); j++) {
                  let offset = vec2<f32>(f32(i), f32(j)) / vec2<f32>(textureDimensions(inputTexture));
                  let sampleCoord = texCoord + offset;
                  let distance = sqrt(f32(i * i + j * j));
                  let weight = exp(-(distance * distance) / (2.0 * radius * radius));

                  result += textureSample(inputTexture, inputSampler, sampleCoord) * weight;
                  totalWeight += weight;
                }
              }

              return result / totalWeight;
            }
          `
        }),
        entryPoint: 'fragment_main',
        targets: [{
          format: 'rgba8unorm'
        }]
      },
      primitive: {
        topology: 'triangle-list'
      }
    });
  }

  render(inputTexture, outputTexture) {
    const commandEncoder = this.renderer.device.createCommandEncoder();
    const renderPass = commandEncoder.beginRenderPass({
      colorAttachments: [{
        view: outputTexture.createView(),
        clearValue: { r: 0, g: 0, b: 0, a: 1 },
        loadOp: 'clear',
        storeOp: 'store'
      }]
    });

    renderPass.setPipeline(this.pipeline);
    renderPass.setBindGroup(0, this.createBindGroup(inputTexture));
    renderPass.draw(6);
    renderPass.end();

    this.renderer.device.queue.submit([commandEncoder.finish()]);
  }

  createBindGroup(inputTexture) {
    return this.renderer.device.createBindGroup({
      layout: this.pipeline.getBindGroupLayout(0),
      entries: [
        {
          binding: 0,
          resource: inputTexture.createView()
        },
        {
          binding: 1,
          resource: this.renderer.device.createSampler({
            magFilter: 'linear',
            minFilter: 'linear'
          })
        },
        {
          binding: 2,
          resource: this.renderer.device.createBuffer({
            size: 4,
            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST
          })
        }
      ]
    });
  }
}
```

## æ€»ç»“ä¸åæ€

### WebGPUçš„æŠ€æœ¯ä»·å€¼

1. **æ€§èƒ½æå‡**ï¼šç›¸æ¯”WebGLæœ‰æ˜¾è‘—çš„æ€§èƒ½æå‡
2. **åŠŸèƒ½å¼ºå¤§**ï¼šæ”¯æŒç°ä»£GPUçš„æ‰€æœ‰ç‰¹æ€§
3. **å¼€å‘å‹å¥½**ï¼šæä¾›æ›´æ¸…æ™°çš„APIè®¾è®¡
4. **æœªæ¥å¯¼å‘**ï¼šä¸ºWebå›¾å½¢ç¼–ç¨‹æŒ‡æ˜æ–¹å‘

### æˆ‘çš„å­¦ä¹ å¿ƒå¾—

1. **ä»åŸºç¡€å¼€å§‹**ï¼šå…ˆæŒæ¡WebGPUçš„åŸºæœ¬æ¦‚å¿µå’ŒAPI
2. **å®è·µä¸ºä¸»**ï¼šåœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨å’Œä¼˜åŒ–
3. **æŒç»­å­¦ä¹ **ï¼šå…³æ³¨WebGPUçš„æœ€æ–°å‘å±•å’Œæœ€ä½³å®è·µ
4. **æ€§èƒ½ä¼˜å…ˆ**ï¼šå§‹ç»ˆå…³æ³¨æ€§èƒ½ä¼˜åŒ–å’Œèµ„æºç®¡ç†

### ç»™å…¶ä»–"åºŸæŸ´"çš„å»ºè®®

1. **ä¸è¦å®³æ€•å¤æ‚**ï¼šWebGPUè™½ç„¶å¤æ‚ï¼Œä½†å­¦ä¹ æ›²çº¿æ˜¯å€¼å¾—çš„
2. **ä¿æŒè€å¿ƒ**ï¼šå›¾å½¢ç¼–ç¨‹éœ€è¦æ—¶é—´å’Œå®è·µ
3. **å­¦ä¹ ä»–äºº**ï¼šå‚è€ƒä¼˜ç§€çš„WebGPUé¡¹ç›®å’Œæ•™ç¨‹
4. **è®°å½•æ€»ç»“**ï¼šå»ºç«‹è‡ªå·±çš„WebGPUçŸ¥è¯†åº“

## å‚è€ƒèµ„æ–™

- [WebGPUå®˜æ–¹æ–‡æ¡£](https://www.w3.org/TR/webgpu/)
- [WebGPUç¤ºä¾‹](https://webgpu.github.io/webgpu-samples/)
- [WGSLè§„èŒƒ](https://www.w3.org/TR/WGSL/)
- [WebGPUæœ€ä½³å®è·µ](https://web.dev/webgpu/)

## ç»“è¯­

WebGPUä»£è¡¨äº†Webå›¾å½¢ç¼–ç¨‹çš„æœªæ¥ï¼Œè™½ç„¶å­¦ä¹ æ›²çº¿è¾ƒé™¡ï¼Œä½†å¸¦æ¥çš„æ€§èƒ½æå‡å’ŒåŠŸèƒ½æ‰©å±•æ˜¯å€¼å¾—çš„ã€‚

è®°ä½ï¼Œå¥½çš„å›¾å½¢ç¨‹åºä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œè€Œæ˜¯é€šè¿‡ä¸æ–­ä¼˜åŒ–å’Œæ”¹è¿›å¾—æ¥çš„ã€‚ä¸è¦å®³æ€•çŠ¯é”™ï¼Œä¸è¦å®³æ€•å°è¯•ï¼Œæ¯ä¸€æ¬¡ä¼˜åŒ–éƒ½æ˜¯å­¦ä¹ çš„æœºä¼šã€‚

## å®ç”¨å°è´´å£«

### ğŸ¯ WebGPUå­¦ä¹ è·¯å¾„
- [ ] æŒæ¡åŸºç¡€æ¦‚å¿µï¼ˆè®¾å¤‡ã€é€‚é…å™¨ã€é˜Ÿåˆ—ï¼‰
- [ ] å­¦ä¹ ç€è‰²å™¨ç¼–ç¨‹ï¼ˆWGSLè¯­è¨€ï¼‰
- [ ] å®è·µæ¸²æŸ“ç®¡çº¿ï¼ˆé¡¶ç‚¹ã€ç‰‡æ®µç€è‰²å™¨ï¼‰
- [ ] æ¢ç´¢è®¡ç®—ç€è‰²å™¨ï¼ˆé€šç”¨è®¡ç®—ï¼‰
- [ ] ä¼˜åŒ–æ€§èƒ½ä½“éªŒï¼ˆèµ„æºç®¡ç†ã€æ¸²æŸ“ä¼˜åŒ–ï¼‰

### ğŸš€ å¿«é€Ÿå¼€å§‹
```javascript
// 1. æ£€æŸ¥WebGPUæ”¯æŒ
if (!navigator.gpu) {
  console.error('WebGPU not supported');
  return;
}

// 2. è·å–é€‚é…å™¨
const adapter = await navigator.gpu.requestAdapter();

// 3. åˆ›å»ºè®¾å¤‡
const device = await adapter.requestDevice();

// 4. é…ç½®ç”»å¸ƒ
const context = canvas.getContext('webgpu');
context.configure({
  device: device,
  format: navigator.gpu.getPreferredCanvasFormat()
});

// 5. å¼€å§‹æ¸²æŸ“
// ... æ¸²æŸ“ä»£ç 
```

### ğŸ’¡ è¿›é˜¶æŠ€å·§
- ä½¿ç”¨è®¡ç®—ç€è‰²å™¨è¿›è¡Œå¹¶è¡Œè®¡ç®—
- å®ç°PBRæè´¨ç³»ç»Ÿ
- ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½
- é›†æˆåå¤„ç†æ•ˆæœ
- æ„å»ºå®Œæ•´çš„æ¸²æŸ“å¼•æ“
6:T61c9,
# è®¾è®¡æ¨¡å¼å®æˆ˜ï¼šæŠ€æœ¯åºŸæŸ´çš„ä»£ç é‡æ„ä¹‹æ—…

> ä»"é¢æ¡ä»£ç "åˆ°"ä¼˜é›…æ¶æ„"ï¼Œæˆ‘çš„è®¾è®¡æ¨¡å¼è¿›åŒ–å²

## æˆ‘ä¸è®¾è®¡æ¨¡å¼çš„"ç›¸çˆ±ç›¸æ€"

### ç¬¬ä¸€æ¬¡"ç¿»è½¦"ï¼šé¢æ¡ä»£ç çš„è¯ç”Ÿ

è¿˜è®°å¾—ç¬¬ä¸€æ¬¡å†™æ¸¸æˆç®¡ç†ç³»ç»Ÿæ—¶ï¼Œæˆ‘ä¿¡å¿ƒæ»¡æ»¡åœ°å¼€å§‹ç¼–ç ï¼š

```csharp
// æˆ‘çš„ç¬¬ä¸€ä¸ª"æ°ä½œ" - é¢æ¡ä»£ç 
public class GameController : MonoBehaviour
{
    public int playerHealth = 100;
    public int playerScore = 0;
    public bool isGamePaused = false;
    public string currentLevel = "Level1";
    public float gameTime = 0f;

    // ç©å®¶ç›¸å…³
    public void TakeDamage(int damage) {
        playerHealth -= damage;
        if (playerHealth <= 0) {
            GameOver();
        }
    }

    public void AddScore(int points) {
        playerScore += points;
        UpdateUI();
    }

    public void PauseGame() {
        isGamePaused = true;
        Time.timeScale = 0;
    }

    public void ResumeGame() {
        isGamePaused = false;
        Time.timeScale = 1;
    }

    // UIç›¸å…³
    public void UpdateUI() {
        // æ›´æ–°æ‰€æœ‰UIå…ƒç´ 
        healthText.text = "Health: " + playerHealth;
        scoreText.text = "Score: " + playerScore;
        levelText.text = "Level: " + currentLevel;
        timeText.text = "Time: " + gameTime;
    }

    // éŸ³é¢‘ç›¸å…³
    public void PlaySound(string soundName) {
        // æ’­æ”¾éŸ³æ•ˆ
    }

    // åœºæ™¯ç›¸å…³
    public void LoadLevel(string levelName) {
        // åŠ è½½åœºæ™¯
    }

    // æ•°æ®ç›¸å…³
    public void SaveGame() {
        // ä¿å­˜æ¸¸æˆæ•°æ®
    }

    public void LoadGame() {
        // åŠ è½½æ¸¸æˆæ•°æ®
    }

    // ç½‘ç»œç›¸å…³
    public void SendScoreToServer() {
        // å‘é€åˆ†æ•°åˆ°æœåŠ¡å™¨
    }
}
```

ç»“æœå‘¢ï¼Ÿè¿™ä¸ªç±»è¶Šæ¥è¶Šå¤§ï¼ŒåŠŸèƒ½è¶Šæ¥è¶Šæ··ä¹±ï¼Œç»´æŠ¤èµ·æ¥ç—›è‹¦ä¸å ªã€‚å¯¼å¸ˆçœ‹åˆ°åç›´æ¥ç»™æˆ‘å‘äº†ä¸ª"ğŸ¤¦â€â™‚ï¸"çš„è¡¨æƒ…ï¼š"ä½ è¿™æ˜¯åœ¨åš'é¢æ¡ä»£ç 'å—ï¼Ÿ"

### ç¬¬äºŒæ¬¡å°è¯•ï¼šè¿‡åº¦è®¾è®¡çš„"ç¾éš¾"

å¥½ä¸å®¹æ˜“å­¦ä¼šäº†è®¾è®¡æ¨¡å¼ï¼Œæˆ‘åˆå¼€å§‹"è¿‡åº¦è®¾è®¡"ï¼š

```csharp
// æˆ‘çš„"è¿‡åº¦è®¾è®¡"æ°ä½œ
public interface IGameState {
    void Enter();
    void Exit();
    void Update();
}

public abstract class AbstractGameState : IGameState {
    protected GameStateMachine stateMachine;

    public virtual void Enter() {}
    public virtual void Exit() {}
    public virtual void Update() {}
}

public class PlayingState : AbstractGameState {
    public override void Enter() {
        // è¿›å…¥æ¸¸æˆçŠ¶æ€
    }
}

public class PausedState : AbstractGameState {
    public override void Enter() {
        // è¿›å…¥æš‚åœçŠ¶æ€
    }
}

public class GameOverState : AbstractGameState {
    public override void Enter() {
        // è¿›å…¥æ¸¸æˆç»“æŸçŠ¶æ€
    }
}

public class GameStateMachine {
    private IGameState currentState;
    private Dictionary<Type, IGameState> states;

    public void ChangeState<T>() where T : IGameState {
        // çŠ¶æ€åˆ‡æ¢é€»è¾‘
    }
}

// å·¥å‚æ¨¡å¼
public interface IGameObjectFactory {
    GameObject CreateGameObject(string type);
}

public class GameObjectFactory : IGameObjectFactory {
    public GameObject CreateGameObject(string type) {
        // åˆ›å»ºæ¸¸æˆå¯¹è±¡
    }
}

// è§‚å¯Ÿè€…æ¨¡å¼
public interface IObserver {
    void OnNotify(string eventName, object data);
}

public class GameEventSystem {
    private Dictionary<string, List<IObserver>> observers;

    public void AddObserver(string eventName, IObserver observer) {
        // æ·»åŠ è§‚å¯Ÿè€…
    }

    public void Notify(string eventName, object data) {
        // é€šçŸ¥è§‚å¯Ÿè€…
    }
}
```

è¿™æ¬¡æ›´æƒ¨ï¼Œä¸ºäº†ä¸€ä¸ªç®€å•çš„æ¸¸æˆç®¡ç†ç³»ç»Ÿï¼Œæˆ‘å†™äº†åå‡ ä¸ªç±»å’Œæ¥å£ï¼Œä»£ç å¤æ‚åº¦ç›´çº¿ä¸Šå‡ã€‚æˆ‘çš„"ä¼˜é›…æ¶æ„"å˜æˆäº†"è¿‡åº¦è®¾è®¡"çš„ç¾éš¾ã€‚

### è§‰é†’æ—¶åˆ»ï¼šè®¾è®¡æ¨¡å¼ä¸æ˜¯é“¶å¼¹ï¼Œæ˜¯å·¥å…·

ç»è¿‡æ— æ•°æ¬¡çš„"ç¿»è½¦"ç»å†ï¼Œæˆ‘ç»ˆäºæ˜ç™½ï¼šè®¾è®¡æ¨¡å¼ä¸æ˜¯é“¶å¼¹ï¼Œè€Œæ˜¯å·¥å…·ã€‚å…³é”®æ˜¯è¦åœ¨åˆé€‚çš„åœ°æ–¹ä½¿ç”¨åˆé€‚çš„è®¾è®¡æ¨¡å¼ï¼Œè€Œä¸æ˜¯ä¸ºäº†ä½¿ç”¨è®¾è®¡æ¨¡å¼è€Œä½¿ç”¨è®¾è®¡æ¨¡å¼ã€‚

## å®ç”¨è®¾è®¡æ¨¡å¼ï¼šä»é—®é¢˜åˆ°è§£å†³æ–¹æ¡ˆ

### 1. å•ä¾‹æ¨¡å¼ï¼šå…¨å±€ç®¡ç†å™¨çš„æ•‘æ˜Ÿ

#### é—®é¢˜åœºæ™¯ï¼šæ¸¸æˆç®¡ç†å™¨

**é—®é¢˜æè¿°ï¼š**
- éœ€è¦å…¨å±€è®¿é—®æ¸¸æˆçŠ¶æ€
- é¿å…åˆ›å»ºå¤šä¸ªå®ä¾‹
- è·¨åœºæ™¯ä¿æŒæ•°æ®

**è§£å†³æ–¹æ¡ˆï¼š**

```csharp
public class GameManager : MonoBehaviour
{
    // ç§æœ‰é™æ€å®ä¾‹
    private static GameManager _instance;

    // å…¬å…±è®¿é—®ç‚¹
    public static GameManager Instance
    {
        get
        {
            if (_instance == null)
            {
                _instance = FindObjectOfType<GameManager>();

                if (_instance == null)
                {
                    GameObject go = new GameObject("GameManager");
                    _instance = go.AddComponent<GameManager>();
                    DontDestroyOnLoad(go);
                }
            }
            return _instance;
        }
    }

    // æ¸¸æˆæ•°æ®
    public int PlayerHealth { get; private set; } = 100;
    public int PlayerScore { get; private set; } = 0;
    public bool IsGamePaused { get; private set; } = false;

    // æ¸¸æˆæ–¹æ³•
    public void TakeDamage(int damage)
    {
        PlayerHealth = Mathf.Max(0, PlayerHealth - damage);
        if (PlayerHealth <= 0)
        {
            GameOver();
        }
    }

    public void AddScore(int points)
    {
        PlayerScore += points;
    }

    public void PauseGame()
    {
        IsGamePaused = true;
        Time.timeScale = 0;
    }

    public void ResumeGame()
    {
        IsGamePaused = false;
        Time.timeScale = 1;
    }

    private void GameOver()
    {
        // æ¸¸æˆç»“æŸé€»è¾‘
        Debug.Log("Game Over!");
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public class PlayerController : MonoBehaviour
{
    void Update()
    {
        if (Input.GetKeyDown(KeyCode.Space))
        {
            GameManager.Instance.AddScore(10);
        }

        if (Input.GetKeyDown(KeyCode.P))
        {
            if (GameManager.Instance.IsGamePaused)
                GameManager.Instance.ResumeGame();
            else
                GameManager.Instance.PauseGame();
        }
    }
}
```

**ä½¿ç”¨åœºæ™¯ï¼š**
- æ¸¸æˆç®¡ç†å™¨
- éŸ³é¢‘ç®¡ç†å™¨
- é…ç½®ç®¡ç†å™¨
- ç½‘ç»œç®¡ç†å™¨

### 2. è§‚å¯Ÿè€…æ¨¡å¼ï¼šè§£è€¦äº‹ä»¶ç³»ç»Ÿ

#### é—®é¢˜åœºæ™¯ï¼šUIæ›´æ–°å’Œæ¸¸æˆäº‹ä»¶

**é—®é¢˜æè¿°ï¼š**
- æ¸¸æˆçŠ¶æ€å˜åŒ–æ—¶éœ€è¦æ›´æ–°å¤šä¸ªUI
- é¿å…ç›´æ¥ä¾èµ–
- æ”¯æŒåŠ¨æ€æ·»åŠ /ç§»é™¤ç›‘å¬è€…

**è§£å†³æ–¹æ¡ˆï¼š**

```csharp
// äº‹ä»¶ç³»ç»Ÿ
public class GameEventSystem
{
    private static GameEventSystem _instance;
    public static GameEventSystem Instance
    {
        get
        {
            if (_instance == null)
                _instance = new GameEventSystem();
            return _instance;
        }
    }

    private Dictionary<string, List<Action<object>>> _events;

    private GameEventSystem()
    {
        _events = new Dictionary<string, List<Action<object>>>();
    }

    public void Subscribe(string eventName, Action<object> callback)
    {
        if (!_events.ContainsKey(eventName))
            _events[eventName] = new List<Action<object>>();

        _events[eventName].Add(callback);
    }

    public void Unsubscribe(string eventName, Action<object> callback)
    {
        if (_events.ContainsKey(eventName))
            _events[eventName].Remove(callback);
    }

    public void Publish(string eventName, object data = null)
    {
        if (_events.ContainsKey(eventName))
        {
            foreach (var callback in _events[eventName])
            {
                callback?.Invoke(data);
            }
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public class HealthUI : MonoBehaviour
{
    public Text healthText;

    void Start()
    {
        // è®¢é˜…å¥åº·å€¼å˜åŒ–äº‹ä»¶
        GameEventSystem.Instance.Subscribe("HealthChanged", OnHealthChanged);
    }

    void OnDestroy()
    {
        // å–æ¶ˆè®¢é˜…
        GameEventSystem.Instance.Unsubscribe("HealthChanged", OnHealthChanged);
    }

    void OnHealthChanged(object data)
    {
        int health = (int)data;
        healthText.text = $"Health: {health}";
    }
}

public class ScoreUI : MonoBehaviour
{
    public Text scoreText;

    void Start()
    {
        // è®¢é˜…åˆ†æ•°å˜åŒ–äº‹ä»¶
        GameEventSystem.Instance.Subscribe("ScoreChanged", OnScoreChanged);
    }

    void OnDestroy()
    {
        GameEventSystem.Instance.Unsubscribe("ScoreChanged", OnScoreChanged);
    }

    void OnScoreChanged(object data)
    {
        int score = (int)data;
        scoreText.text = $"Score: {score}";
    }
}

// åœ¨GameManagerä¸­å‘å¸ƒäº‹ä»¶
public class GameManager : MonoBehaviour
{
    public void TakeDamage(int damage)
    {
        PlayerHealth = Mathf.Max(0, PlayerHealth - damage);

        // å‘å¸ƒå¥åº·å€¼å˜åŒ–äº‹ä»¶
        GameEventSystem.Instance.Publish("HealthChanged", PlayerHealth);

        if (PlayerHealth <= 0)
        {
            GameEventSystem.Instance.Publish("GameOver");
        }
    }

    public void AddScore(int points)
    {
        PlayerScore += points;

        // å‘å¸ƒåˆ†æ•°å˜åŒ–äº‹ä»¶
        GameEventSystem.Instance.Publish("ScoreChanged", PlayerScore);
    }
}
```

**ä½¿ç”¨åœºæ™¯ï¼š**
- UIæ›´æ–°
- æ¸¸æˆäº‹ä»¶å¤„ç†
- æˆå°±ç³»ç»Ÿ
- éŸ³é¢‘æ’­æ”¾

### 3. å·¥å‚æ¨¡å¼ï¼šå¯¹è±¡åˆ›å»ºçš„ä¼˜é›…æ–¹å¼

#### é—®é¢˜åœºæ™¯ï¼šæ¸¸æˆå¯¹è±¡åˆ›å»º

**é—®é¢˜æè¿°ï¼š**
- éœ€è¦åˆ›å»ºä¸åŒç±»å‹çš„æ¸¸æˆå¯¹è±¡
- åˆ›å»ºé€»è¾‘å¤æ‚
- éœ€è¦ç»Ÿä¸€ç®¡ç†

**è§£å†³æ–¹æ¡ˆï¼š**

```csharp
// æ¸¸æˆå¯¹è±¡åŸºç±»
public abstract class GameObject
{
    public string Name { get; set; }
    public Vector3 Position { get; set; }

    public abstract void Initialize();
    public abstract void Update();
}

// å…·ä½“æ¸¸æˆå¯¹è±¡
public class Player : GameObject
{
    public int Health { get; set; }
    public float Speed { get; set; }

    public override void Initialize()
    {
        Health = 100;
        Speed = 5f;
        Debug.Log($"Player {Name} initialized with {Health} health");
    }

    public override void Update()
    {
        // ç©å®¶æ›´æ–°é€»è¾‘
    }
}

public class Enemy : GameObject
{
    public int Damage { get; set; }
    public float AttackRange { get; set; }

    public override void Initialize()
    {
        Damage = 10;
        AttackRange = 2f;
        Debug.Log($"Enemy {Name} initialized with {Damage} damage");
    }

    public override void Update()
    {
        // æ•Œäººæ›´æ–°é€»è¾‘
    }
}

public class Item : GameObject
{
    public string ItemType { get; set; }
    public int Value { get; set; }

    public override void Initialize()
    {
        Value = 50;
        Debug.Log($"Item {Name} of type {ItemType} initialized");
    }

    public override void Update()
    {
        // ç‰©å“æ›´æ–°é€»è¾‘
    }
}

// å·¥å‚ç±»
public class GameObjectFactory
{
    public static GameObject CreateGameObject(string type, string name, Vector3 position)
    {
        GameObject gameObject = null;

        switch (type.ToLower())
        {
            case "player":
                gameObject = new Player();
                break;
            case "enemy":
                gameObject = new Enemy();
                break;
            case "item":
                gameObject = new Item();
                break;
            default:
                throw new ArgumentException($"Unknown game object type: {type}");
        }

        gameObject.Name = name;
        gameObject.Position = position;
        gameObject.Initialize();

        return gameObject;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public class GameController : MonoBehaviour
{
    void Start()
    {
        // åˆ›å»ºç©å®¶
        var player = GameObjectFactory.CreateGameObject("player", "Hero", new Vector3(0, 0, 0));

        // åˆ›å»ºæ•Œäºº
        var enemy = GameObjectFactory.CreateGameObject("enemy", "Goblin", new Vector3(5, 0, 0));

        // åˆ›å»ºç‰©å“
        var item = GameObjectFactory.CreateGameObject("item", "HealthPotion", new Vector3(2, 0, 0));
    }
}
```

**ä½¿ç”¨åœºæ™¯ï¼š**
- æ¸¸æˆå¯¹è±¡åˆ›å»º
- æ­¦å™¨ç³»ç»Ÿ
- é“å…·ç³»ç»Ÿ
- æ•Œäººç”Ÿæˆ

### 4. ç­–ç•¥æ¨¡å¼ï¼šç®—æ³•çš„çµæ´»åˆ‡æ¢

#### é—®é¢˜åœºæ™¯ï¼šAIè¡Œä¸ºç³»ç»Ÿ

**é—®é¢˜æè¿°ï¼š**
- æ•Œäººæœ‰ä¸åŒçš„è¡Œä¸ºæ¨¡å¼
- éœ€è¦åŠ¨æ€åˆ‡æ¢è¡Œä¸º
- é¿å…å¤§é‡çš„if-elseè¯­å¥

**è§£å†³æ–¹æ¡ˆï¼š**

```csharp
// è¡Œä¸ºç­–ç•¥æ¥å£
public interface IAIBehavior
{
    void Execute(GameObject target);
}

// å…·ä½“è¡Œä¸ºç­–ç•¥
public class AggressiveBehavior : IAIBehavior
{
    public void Execute(GameObject target)
    {
        Debug.Log("Aggressive: Charging at target!");
        // æ”»å‡»è¡Œä¸ºé€»è¾‘
    }
}

public class DefensiveBehavior : IAIBehavior
{
    public void Execute(GameObject target)
    {
        Debug.Log("Defensive: Keeping distance from target!");
        // é˜²å¾¡è¡Œä¸ºé€»è¾‘
    }
}

public class StealthBehavior : IAIBehavior
{
    public void Execute(GameObject target)
    {
        Debug.Log("Stealth: Sneaking around target!");
        // æ½œè¡Œè¡Œä¸ºé€»è¾‘
    }
}

public class PatrolBehavior : IAIBehavior
{
    public void Execute(GameObject target)
    {
        Debug.Log("Patrol: Patrolling the area!");
        // å·¡é€»è¡Œä¸ºé€»è¾‘
    }
}

// AIæ§åˆ¶å™¨
public class AIController
{
    private IAIBehavior currentBehavior;
    private GameObject target;

    public void SetBehavior(IAIBehavior behavior)
    {
        currentBehavior = behavior;
    }

    public void SetTarget(GameObject newTarget)
    {
        target = newTarget;
    }

    public void Update()
    {
        if (currentBehavior != null && target != null)
        {
            currentBehavior.Execute(target);
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public class EnemyAI : MonoBehaviour
{
    private AIController aiController;
    private GameObject player;

    void Start()
    {
        aiController = new AIController();
        player = GameObject.FindGameObjectWithTag("Player");
        aiController.SetTarget(player);

        // æ ¹æ®æ•Œäººç±»å‹è®¾ç½®è¡Œä¸º
        SetBehaviorByType();
    }

    void Update()
    {
        aiController.Update();
    }

    void SetBehaviorByType()
    {
        string enemyType = gameObject.tag;

        switch (enemyType)
        {
            case "AggressiveEnemy":
                aiController.SetBehavior(new AggressiveBehavior());
                break;
            case "DefensiveEnemy":
                aiController.SetBehavior(new DefensiveBehavior());
                break;
            case "StealthEnemy":
                aiController.SetBehavior(new StealthBehavior());
                break;
            case "PatrolEnemy":
                aiController.SetBehavior(new PatrolBehavior());
                break;
        }
    }

    // åŠ¨æ€åˆ‡æ¢è¡Œä¸º
    public void SwitchToAggressive()
    {
        aiController.SetBehavior(new AggressiveBehavior());
    }

    public void SwitchToDefensive()
    {
        aiController.SetBehavior(new DefensiveBehavior());
    }
}
```

**ä½¿ç”¨åœºæ™¯ï¼š**
- AIè¡Œä¸ºç³»ç»Ÿ
- æ­¦å™¨ç³»ç»Ÿ
- æ”¯ä»˜ç³»ç»Ÿ
- æ’åºç®—æ³•

### 5. å‘½ä»¤æ¨¡å¼ï¼šæ“ä½œçš„å†å²è®°å½•

#### é—®é¢˜åœºæ™¯ï¼šæ’¤é”€/é‡åšç³»ç»Ÿ

**é—®é¢˜æè¿°ï¼š**
- éœ€è¦æ”¯æŒæ’¤é”€/é‡åšæ“ä½œ
- æ“ä½œå¯ä»¥ç»„åˆ
- æ”¯æŒå®å‘½ä»¤

**è§£å†³æ–¹æ¡ˆï¼š**

```csharp
// å‘½ä»¤æ¥å£
public interface ICommand
{
    void Execute();
    void Undo();
}

// å…·ä½“å‘½ä»¤
public class MoveCommand : ICommand
{
    private GameObject target;
    private Vector3 oldPosition;
    private Vector3 newPosition;

    public MoveCommand(GameObject target, Vector3 newPosition)
    {
        this.target = target;
        this.oldPosition = target.transform.position;
        this.newPosition = newPosition;
    }

    public void Execute()
    {
        target.transform.position = newPosition;
        Debug.Log($"Moved {target.name} to {newPosition}");
    }

    public void Undo()
    {
        target.transform.position = oldPosition;
        Debug.Log($"Undid move of {target.name} back to {oldPosition}");
    }
}

public class ScaleCommand : ICommand
{
    private GameObject target;
    private Vector3 oldScale;
    private Vector3 newScale;

    public ScaleCommand(GameObject target, Vector3 newScale)
    {
        this.target = target;
        this.oldScale = target.transform.localScale;
        this.newScale = newScale;
    }

    public void Execute()
    {
        target.transform.localScale = newScale;
        Debug.Log($"Scaled {target.name} to {newScale}");
    }

    public void Undo()
    {
        target.transform.localScale = oldScale;
        Debug.Log($"Undid scale of {target.name} back to {oldScale}");
    }
}

// å®å‘½ä»¤
public class MacroCommand : ICommand
{
    private List<ICommand> commands;

    public MacroCommand()
    {
        commands = new List<ICommand>();
    }

    public void AddCommand(ICommand command)
    {
        commands.Add(command);
    }

    public void Execute()
    {
        foreach (var command in commands)
        {
            command.Execute();
        }
    }

    public void Undo()
    {
        // åå‘æ‰§è¡Œå‘½ä»¤
        for (int i = commands.Count - 1; i >= 0; i--)
        {
            commands[i].Undo();
        }
    }
}

// å‘½ä»¤ç®¡ç†å™¨
public class CommandManager
{
    private Stack<ICommand> undoStack;
    private Stack<ICommand> redoStack;

    public CommandManager()
    {
        undoStack = new Stack<ICommand>();
        redoStack = new Stack<ICommand>();
    }

    public void ExecuteCommand(ICommand command)
    {
        command.Execute();
        undoStack.Push(command);
        redoStack.Clear(); // æ–°å‘½ä»¤ä¼šæ¸…ç©ºé‡åšæ ˆ
    }

    public void Undo()
    {
        if (undoStack.Count > 0)
        {
            ICommand command = undoStack.Pop();
            command.Undo();
            redoStack.Push(command);
        }
    }

    public void Redo()
    {
        if (redoStack.Count > 0)
        {
            ICommand command = redoStack.Pop();
            command.Execute();
            undoStack.Push(command);
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public class GameEditor : MonoBehaviour
{
    private CommandManager commandManager;
    private GameObject selectedObject;

    void Start()
    {
        commandManager = new CommandManager();
    }

    void Update()
    {
        // ç§»åŠ¨å‘½ä»¤
        if (Input.GetKeyDown(KeyCode.W))
        {
            if (selectedObject != null)
            {
                Vector3 newPosition = selectedObject.transform.position + Vector3.forward;
                ICommand moveCommand = new MoveCommand(selectedObject, newPosition);
                commandManager.ExecuteCommand(moveCommand);
            }
        }

        // ç¼©æ”¾å‘½ä»¤
        if (Input.GetKeyDown(KeyCode.S))
        {
            if (selectedObject != null)
            {
                Vector3 newScale = selectedObject.transform.localScale * 1.2f;
                ICommand scaleCommand = new ScaleCommand(selectedObject, newScale);
                commandManager.ExecuteCommand(scaleCommand);
            }
        }

        // æ’¤é”€
        if (Input.GetKeyDown(KeyCode.Z))
        {
            commandManager.Undo();
        }

        // é‡åš
        if (Input.GetKeyDown(KeyCode.Y))
        {
            commandManager.Redo();
        }

        // å®å‘½ä»¤ç¤ºä¾‹
        if (Input.GetKeyDown(KeyCode.M))
        {
            if (selectedObject != null)
            {
                MacroCommand macro = new MacroCommand();
                macro.AddCommand(new MoveCommand(selectedObject, selectedObject.transform.position + Vector3.up));
                macro.AddCommand(new ScaleCommand(selectedObject, selectedObject.transform.localScale * 1.5f));
                commandManager.ExecuteCommand(macro);
            }
        }
    }
}
```

**ä½¿ç”¨åœºæ™¯ï¼š**
- ç¼–è¾‘å™¨æ’¤é”€/é‡åš
- æ¸¸æˆå›æ”¾ç³»ç»Ÿ
- æ“ä½œæ—¥å¿—
- å®å½•åˆ¶

## è®¾è®¡æ¨¡å¼çš„æœ€ä½³å®è·µ

### 1. ä½•æ—¶ä½¿ç”¨è®¾è®¡æ¨¡å¼

**ä½¿ç”¨è®¾è®¡æ¨¡å¼çš„æƒ…å†µï¼š**
- ä»£ç é‡å¤åº¦é«˜
- ç±»ä¹‹é—´è€¦åˆä¸¥é‡
- æ‰©å±•æ€§å·®
- ç»´æŠ¤å›°éš¾

**é¿å…è¿‡åº¦è®¾è®¡çš„æƒ…å†µï¼š**
- ç®€å•çš„ä¸€æ¬¡æ€§ä»£ç 
- åŸå‹å¼€å‘é˜¶æ®µ
- å›¢é˜Ÿä¸ç†Ÿæ‚‰è®¾è®¡æ¨¡å¼

### 2. è®¾è®¡æ¨¡å¼çš„é€‰æ‹©åŸåˆ™

**SOLIDåŸåˆ™ï¼š**
- **S**ingle Responsibility Principle (å•ä¸€èŒè´£åŸåˆ™)
- **O**pen/Closed Principle (å¼€é—­åŸåˆ™)
- **L**iskov Substitution Principle (é‡Œæ°æ›¿æ¢åŸåˆ™)
- **I**nterface Segregation Principle (æ¥å£éš”ç¦»åŸåˆ™)
- **D**ependency Inversion Principle (ä¾èµ–å€’ç½®åŸåˆ™)

**å®é™…åº”ç”¨ï¼š**
```csharp
// è¿åå•ä¸€èŒè´£åŸåˆ™
public class GameManager
{
    public void UpdatePlayer() { }
    public void UpdateEnemy() { }
    public void UpdateUI() { }
    public void PlaySound() { }
    public void SaveData() { }
}

// ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™
public class PlayerManager
{
    public void UpdatePlayer() { }
}

public class EnemyManager
{
    public void UpdateEnemy() { }
}

public class UIManager
{
    public void UpdateUI() { }
}

public class AudioManager
{
    public void PlaySound() { }
}

public class DataManager
{
    public void SaveData() { }
}
```

### 3. é‡æ„æŠ€å·§

**è¯†åˆ«ä»£ç å¼‚å‘³ï¼š**
- é•¿æ–¹æ³•
- å¤§ç±»
- é‡å¤ä»£ç 
- æ•°æ®æ³¥å›¢
- å‘æ•£å¼å˜åŒ–

**é‡æ„æ­¥éª¤ï¼š**
1. è¯†åˆ«é—®é¢˜
2. é€‰æ‹©åˆé€‚çš„è®¾è®¡æ¨¡å¼
3. é€æ­¥é‡æ„
4. æµ‹è¯•éªŒè¯

## æ€»ç»“ä¸åæ€

### è®¾è®¡æ¨¡å¼çš„ä»·å€¼

1. **æé«˜ä»£ç è´¨é‡**ï¼šç»“æ„æ›´æ¸…æ™°ï¼Œç»´æŠ¤æ›´å®¹æ˜“
2. **æé«˜å¼€å‘æ•ˆç‡**ï¼šå¤ç”¨è§£å†³æ–¹æ¡ˆï¼Œå‡å°‘é‡å¤å·¥ä½œ
3. **æé«˜å›¢é˜Ÿåä½œ**ï¼šç»Ÿä¸€çš„ä»£ç é£æ ¼å’Œæ¶æ„
4. **æé«˜ç³»ç»Ÿæ‰©å±•æ€§**ï¼šæ–°åŠŸèƒ½æ›´å®¹æ˜“æ·»åŠ 

### æˆ‘çš„å­¦ä¹ å¿ƒå¾—

1. **ä»é—®é¢˜å‡ºå‘**ï¼šä¸è¦ä¸ºäº†ä½¿ç”¨è®¾è®¡æ¨¡å¼è€Œä½¿ç”¨è®¾è®¡æ¨¡å¼
2. **å¾ªåºæ¸è¿›**ï¼šä»ç®€å•çš„è®¾è®¡æ¨¡å¼å¼€å§‹å­¦ä¹ 
3. **å®è·µä¸ºä¸»**ï¼šç†è®ºç»“åˆå®è·µï¼Œå¤šå†™ä»£ç 
4. **æŒç»­æ”¹è¿›**ï¼šä»£ç é‡æ„æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹

### ç»™å…¶ä»–"åºŸæŸ´"çš„å»ºè®®

1. **ä¸è¦å®³æ€•é‡æ„**ï¼šå¥½çš„ä»£ç æ˜¯é‡æ„å‡ºæ¥çš„
2. **å­¦ä¹ ç»å…¸æ¡ˆä¾‹**ï¼šç ”ç©¶ä¼˜ç§€å¼€æºé¡¹ç›®çš„è®¾è®¡æ¨¡å¼åº”ç”¨
3. **ä¿æŒç®€å•**ï¼šèƒ½ç”¨ç®€å•æ–¹æ¡ˆè§£å†³çš„é—®é¢˜ï¼Œä¸è¦ç”¨å¤æ‚çš„è®¾è®¡æ¨¡å¼
4. **å›¢é˜Ÿåä½œ**ï¼šä¸å›¢é˜Ÿæˆå‘˜è®¨è®ºè®¾è®¡æ¨¡å¼çš„åº”ç”¨

## å‚è€ƒèµ„æ–™

- [è®¾è®¡æ¨¡å¼ï¼šå¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€](https://book.douban.com/subject/1052241/)
- [Head Firstè®¾è®¡æ¨¡å¼](https://book.douban.com/subject/2243615/)
- [é‡æ„ï¼šæ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡](https://book.douban.com/subject/4262627/)
- [Clean Code](https://book.douban.com/subject/4199741/)

## ç»“è¯­

è®¾è®¡æ¨¡å¼ä¸æ˜¯é“¶å¼¹ï¼Œè€Œæ˜¯å·¥å…·ã€‚å…³é”®æ˜¯è¦åœ¨åˆé€‚çš„åœ°æ–¹ä½¿ç”¨åˆé€‚çš„è®¾è®¡æ¨¡å¼ï¼Œè€Œä¸æ˜¯ä¸ºäº†ä½¿ç”¨è®¾è®¡æ¨¡å¼è€Œä½¿ç”¨è®¾è®¡æ¨¡å¼ã€‚

è®°ä½ï¼Œå¥½çš„ä»£ç æ˜¯é‡æ„å‡ºæ¥çš„ã€‚ä¸è¦å®³æ€•é‡æ„ï¼Œä¸è¦å®³æ€•çŠ¯é”™ï¼Œæ¯ä¸€æ¬¡é‡æ„éƒ½æ˜¯å­¦ä¹ çš„æœºä¼šã€‚ä»ç®€å•çš„è®¾è®¡æ¨¡å¼å¼€å§‹ï¼Œé€æ­¥æŒæ¡æ›´å¤æ‚çš„è®¾è®¡æ¨¡å¼ï¼Œæœ€ç»ˆæˆä¸ºä»£ç æ¶æ„çš„"è‰ºæœ¯å®¶"ã€‚

## å®ç”¨å°è´´å£«

### ğŸ¯ è®¾è®¡æ¨¡å¼å­¦ä¹ è·¯å¾„
- [ ] ç†è§£åŸºæœ¬æ¦‚å¿µï¼ˆSOLIDåŸåˆ™ï¼‰
- [ ] æŒæ¡å¸¸ç”¨æ¨¡å¼ï¼ˆå•ä¾‹ã€è§‚å¯Ÿè€…ã€å·¥å‚ï¼‰
- [ ] å­¦ä¹ é«˜çº§æ¨¡å¼ï¼ˆç­–ç•¥ã€å‘½ä»¤ã€çŠ¶æ€ï¼‰
- [ ] å®è·µé¡¹ç›®åº”ç”¨ï¼ˆé‡æ„ç°æœ‰ä»£ç ï¼‰
- [ ] å›¢é˜Ÿåä½œæ¨å¹¿ï¼ˆåˆ†äº«ç»éªŒï¼‰

### ğŸš€ å¿«é€Ÿå¼€å§‹
```csharp
// 1. è¯†åˆ«ä»£ç é—®é¢˜
// 2. é€‰æ‹©åˆé€‚çš„è®¾è®¡æ¨¡å¼
// 3. é€æ­¥é‡æ„ä»£ç 
// 4. æµ‹è¯•éªŒè¯æ•ˆæœ

// ç¤ºä¾‹ï¼šå°†é¢æ¡ä»£ç é‡æ„ä¸ºå•ä¾‹æ¨¡å¼
public class GameManager : MonoBehaviour
{
    private static GameManager _instance;
    public static GameManager Instance => _instance;

    void Awake()
    {
        if (_instance == null)
        {
            _instance = this;
            DontDestroyOnLoad(gameObject);
        }
        else
        {
            Destroy(gameObject);
        }
    }
}
```

### ğŸ’¡ è¿›é˜¶æŠ€å·§
- ä½¿ç”¨ä¾èµ–æ³¨å…¥æ¡†æ¶
- å®ç°äº‹ä»¶é©±åŠ¨æ¶æ„
- åº”ç”¨å¾®æœåŠ¡è®¾è®¡æ¨¡å¼
- å­¦ä¹ é¢†åŸŸé©±åŠ¨è®¾è®¡
- æŒæ¡å“åº”å¼ç¼–ç¨‹æ¨¡å¼
7:T385b,
# VuePressåšå®¢æ­å»ºå®Œå…¨æŒ‡å—ï¼šæŠ€æœ¯åºŸæŸ´çš„å»ºç«™é€‰æ‹©ä¸å®æˆ˜ä¹‹æ—…

> ä»"å“ªä¸ªæ¡†æ¶æœ€å¥½"åˆ°"å®Œæ•´åšå®¢éƒ¨ç½²"ï¼Œæˆ‘çš„åšå®¢æ¡†æ¶é€‰æ‹©ä¸å®æˆ˜è¿›åŒ–å²

## æˆ‘ä¸åšå®¢æ¡†æ¶çš„"ç›¸çˆ±ç›¸æ€"

### åˆé‡ï¼šè¢«"æœ€å¥½"çš„æ¡†æ¶å‘æƒ¨äº†

è®°å¾—åˆšå¼€å§‹æ­å»ºåšå®¢æ—¶ï¼Œæˆ‘çŠ¯äº†ä¸€ä¸ªç»å…¸é”™è¯¯ï¼šç›²ç›®è¿½æ±‚"æœ€å¥½"çš„æ¡†æ¶ã€‚

"Hexoæœ€æµè¡Œï¼Œå°±ç”¨Hexoï¼"
"WordPressåŠŸèƒ½æœ€å¼ºå¤§ï¼Œå¿…é¡»ç”¨WordPressï¼"
"VuePressæœ€ç°ä»£åŒ–ï¼Œè‚¯å®šé€‰VuePressï¼"

ç»“æœå‘¢ï¼Ÿæ¯ä¸ªæ¡†æ¶éƒ½è¯•äº†ä¸€éï¼Œæ¯ä¸ªéƒ½è¸©äº†ä¸€å †å‘ï¼Œæœ€åå‘ç°æ ¹æœ¬æ²¡æœ‰"æœ€å¥½"çš„æ¡†æ¶ï¼Œåªæœ‰"æœ€é€‚åˆ"çš„æ¡†æ¶ã€‚

### è§‰é†’ï¼šä»ç›²ç›®è·Ÿé£åˆ°ç†æ€§é€‰æ‹©

ç»è¿‡æ— æ•°æ¬¡çš„"ç¿»è½¦"ç»å†ï¼Œæˆ‘ç»ˆäºæ˜ç™½äº†ä¸€ä¸ªé“ç†ï¼šé€‰æ‹©åšå®¢æ¡†æ¶å°±åƒé€‰æ‹©å¥³æœ‹å‹ï¼Œä¸æ˜¯çœ‹è°æœ€æ¼‚äº®ï¼Œè€Œæ˜¯çœ‹è°æœ€é€‚åˆä½ ã€‚

## åšå®¢æ¡†æ¶æ·±åº¦å¯¹æ¯”ï¼šæˆ‘çš„é€‰æ‹©æ ‡å‡†

### é™æ€åšå®¢ vs åŠ¨æ€åšå®¢ï¼šæœ¬è´¨åŒºåˆ«

**é™æ€åšå®¢ç‰¹ç‚¹ï¼š**
- ğŸš€ é€Ÿåº¦å¿«ï¼šé¢„ç”ŸæˆHTMLï¼Œç›´æ¥éƒ¨ç½²
- ğŸ”’ å®‰å…¨æ€§é«˜ï¼šæ— æ•°æ®åº“ï¼Œæ”»å‡»é¢å°
- ğŸ’° æˆæœ¬ä½ï¼šå¯éƒ¨ç½²åˆ°å…è´¹å¹³å°
- ğŸ› ï¸ å®šåˆ¶æ€§å¼ºï¼šå®Œå…¨æ§åˆ¶ä»£ç 

**åŠ¨æ€åšå®¢ç‰¹ç‚¹ï¼š**
- ğŸ“ å†…å®¹ç®¡ç†æ–¹ä¾¿ï¼šåå°ç¼–è¾‘ç•Œé¢
- ğŸ”„ å®æ—¶æ›´æ–°ï¼šå†…å®¹å³æ—¶ç”Ÿæ•ˆ
- ğŸ‘¥ ç”¨æˆ·äº¤äº’ï¼šè¯„è®ºã€ç”¨æˆ·ç³»ç»Ÿ
- ğŸ“Š åŠŸèƒ½ä¸°å¯Œï¼šæ’ä»¶ç”Ÿæ€å®Œå–„

### ä¸»æµæ¡†æ¶å¯¹æ¯”åˆ†æ

#### 1. Hexoï¼šNode.jsç”Ÿæ€çš„"è€å¤§å“¥"

**ä¼˜åŠ¿åˆ†æï¼š**
```javascript
// ç”Ÿæ€ä¸°å¯Œåº¦ï¼šâ˜…â˜…â˜…â˜…â˜…
// ä¸»é¢˜æ•°é‡ï¼š1000+ ä¸»é¢˜
// æ’ä»¶ç”Ÿæ€ï¼š500+ æ’ä»¶
// ä¸­æ–‡ç¤¾åŒºï¼šéå¸¸æ´»è·ƒ

// æ€§èƒ½è¡¨ç°ï¼šâ˜…â˜…â˜…â˜†â˜†
// æ„å»ºé€Ÿåº¦ï¼šä¸­ç­‰
// è¿è¡Œæ—¶æ€§èƒ½ï¼šè‰¯å¥½
// å†…å­˜å ç”¨ï¼šä¸­ç­‰
```

**æˆ‘çš„è¸©å‘ç»å†ï¼š**
```bash
# ç¬¬ä¸€æ¬¡å°è¯•Hexo
npm install hexo-cli -g
hexo init my-blog
cd my-blog
npm install

# é‡åˆ°é—®é¢˜ï¼šä¸»é¢˜é…ç½®å¤æ‚
# è§£å†³æ–¹æ¡ˆï¼šä»”ç»†é˜…è¯»ä¸»é¢˜æ–‡æ¡£ï¼Œç†è§£é…ç½®ç»“æ„
```

**é€‚ç”¨åœºæ™¯ï¼š**
- æƒ³è¦ä¸°å¯Œä¸»é¢˜é€‰æ‹©çš„ç”¨æˆ·
- éœ€è¦å¼ºå¤§æ’ä»¶ç”Ÿæ€çš„é¡¹ç›®
- å–œæ¬¢Node.jsæŠ€æœ¯æ ˆçš„å¼€å‘è€…

#### 2. VuePressï¼šVueç”Ÿæ€çš„"æ–°è´µ"

**ä¼˜åŠ¿åˆ†æï¼š**
```javascript
// ç°ä»£åŒ–ç¨‹åº¦ï¼šâ˜…â˜…â˜…â˜…â˜…
// Vue.jsé›†æˆï¼šåŸç”Ÿæ”¯æŒ
// ç»„ä»¶åŒ–å¼€å‘ï¼šå®Œå…¨æ”¯æŒ
// æ€§èƒ½è¡¨ç°ï¼šä¼˜ç§€

// å­¦ä¹ æ›²çº¿ï¼šâ˜…â˜…â˜…â˜†â˜†
// Vue.jsè¦æ±‚ï¼šéœ€è¦åŸºç¡€
// é…ç½®å¤æ‚åº¦ï¼šä¸­ç­‰
// æ–‡æ¡£è´¨é‡ï¼šä¼˜ç§€
```

**æˆ‘çš„è¸©å‘ç»å†ï¼š**
```javascript
// ç¬¬ä¸€æ¬¡é…ç½®VuePress
module.exports = {
  title: 'æˆ‘çš„åšå®¢',
  description: 'æŠ€æœ¯åºŸæŸ´çš„åšå®¢',
  themeConfig: {
    nav: [
      { text: 'é¦–é¡µ', link: '/' },
      { text: 'åšå®¢', link: '/blog/' }
    ]
  }
}

// é‡åˆ°é—®é¢˜ï¼šVueç»„ä»¶è¯­æ³•ä¸ç†Ÿæ‚‰
// è§£å†³æ–¹æ¡ˆï¼šå­¦ä¹ Vue.jsåŸºç¡€è¯­æ³•
```

**é€‚ç”¨åœºæ™¯ï¼š**
- Vue.jså¼€å‘è€…
- éœ€è¦é«˜åº¦å®šåˆ¶çš„é¡¹ç›®
- é‡è§†æ€§èƒ½çš„ç”¨æˆ·

#### 3. Hugoï¼šGoè¯­è¨€çš„"é€Ÿåº¦ä¹‹ç‹"

**ä¼˜åŠ¿åˆ†æï¼š**
```go
// æ„å»ºé€Ÿåº¦ï¼šâ˜…â˜…â˜…â˜…â˜…
// ç¼–è¯‘é€Ÿåº¦ï¼šæå¿«
// è¿è¡Œæ—¶æ€§èƒ½ï¼šä¼˜ç§€
// å†…å­˜å ç”¨ï¼šæä½

// ç”Ÿæ€ç³»ç»Ÿï¼šâ˜…â˜…â˜…â˜†â˜†
// ä¸»é¢˜æ•°é‡ï¼šä¸­ç­‰
// æ’ä»¶ç”Ÿæ€ï¼šæœ‰é™
// å­¦ä¹ èµ„æºï¼šç›¸å¯¹è¾ƒå°‘
```

**æˆ‘çš„è¸©å‘ç»å†ï¼š**
```bash
# ç¬¬ä¸€æ¬¡ä½¿ç”¨Hugo
hugo new site my-blog
cd my-blog
git clone https://github.com/theme/theme themes/theme
echo 'theme = "theme"' >> config.toml

# é‡åˆ°é—®é¢˜ï¼šGoæ¨¡æ¿è¯­æ³•å¤æ‚
# è§£å†³æ–¹æ¡ˆï¼šå­¦ä¹ Goæ¨¡æ¿è¯­æ³•åŸºç¡€
```

**é€‚ç”¨åœºæ™¯ï¼š**
- è¿½æ±‚æè‡´æ€§èƒ½çš„ç”¨æˆ·
- å¤§å‹ç½‘ç«™é¡¹ç›®
- å–œæ¬¢Goè¯­è¨€çš„å¼€å‘è€…

#### 4. WordPressï¼šåŠŸèƒ½å¼ºå¤§çš„"è€ç‰Œé€‰æ‰‹"

**ä¼˜åŠ¿åˆ†æï¼š**
```php
// åŠŸèƒ½ä¸°å¯Œåº¦ï¼šâ˜…â˜…â˜…â˜…â˜…
// æ’ä»¶æ•°é‡ï¼š50000+ æ’ä»¶
// ä¸»é¢˜æ•°é‡ï¼š10000+ ä¸»é¢˜
// ç”¨æˆ·å‹å¥½åº¦ï¼šæé«˜

// æ€§èƒ½è¡¨ç°ï¼šâ˜…â˜…â˜†â˜†â˜†
// åŠ è½½é€Ÿåº¦ï¼šè¾ƒæ…¢
// èµ„æºå ç”¨ï¼šè¾ƒé«˜
// ç»´æŠ¤æˆæœ¬ï¼šè¾ƒé«˜
```

**æˆ‘çš„è¸©å‘ç»å†ï¼š**
```sql
-- æ•°æ®åº“é…ç½®é—®é¢˜
CREATE DATABASE wordpress;
GRANT ALL PRIVILEGES ON wordpress.* TO 'user'@'localhost';
FLUSH PRIVILEGES;

-- é‡åˆ°é—®é¢˜ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥
-- è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥æ•°æ®åº“é…ç½®å’Œæƒé™
```

**é€‚ç”¨åœºæ™¯ï¼š**
- éæŠ€æœ¯ç”¨æˆ·
- éœ€è¦ä¸°å¯ŒåŠŸèƒ½çš„ç½‘ç«™
- æœ‰æœåŠ¡å™¨èµ„æºçš„ç”¨æˆ·

## æˆ‘çš„æœ€ç»ˆé€‰æ‹©ï¼šVuePress

### ä¸ºä»€ä¹ˆé€‰æ‹©VuePressï¼Ÿ

**æŠ€æœ¯æ ˆåŒ¹é…ï¼š**
```javascript
// æˆ‘çš„æŠ€æœ¯æ ˆ
const myTechStack = {
  frontend: ['Vue.js', 'JavaScript', 'CSS'],
  buildTools: ['Webpack', 'Babel'],
  deployment: ['GitHub Pages', 'Vercel']
}

// VuePressçš„ä¼˜åŠ¿
const vuepressAdvantages = {
  vueIntegration: 'åŸç”ŸVue.jsæ”¯æŒ',
  componentSystem: 'å®Œæ•´çš„ç»„ä»¶åŒ–å¼€å‘',
  performance: 'ä¼˜ç§€çš„æ€§èƒ½è¡¨ç°',
  customization: 'é«˜åº¦å¯å®šåˆ¶'
}
```

**é¡¹ç›®éœ€æ±‚åŒ¹é…ï¼š**
```javascript
// æˆ‘çš„åšå®¢éœ€æ±‚
const blogRequirements = {
  contentType: 'æŠ€æœ¯æ–‡æ¡£ + åšå®¢æ–‡ç« ',
  customization: 'é«˜åº¦å®šåˆ¶åŒ–',
  performance: 'å¿«é€ŸåŠ è½½',
  maintenance: 'ä½ç»´æŠ¤æˆæœ¬'
}

// VuePressæ»¡è¶³åº¦
const satisfaction = {
  contentManagement: 'â˜…â˜…â˜…â˜…â˜…', // MDXæ”¯æŒ
  customization: 'â˜…â˜…â˜…â˜…â˜…',     // Vueç»„ä»¶
  performance: 'â˜…â˜…â˜…â˜…â˜…',        // é™æ€ç”Ÿæˆ
  maintenance: 'â˜…â˜…â˜…â˜…â˜†'         // é…ç½®ç›¸å¯¹ç®€å•
}
```

### VuePresså®æˆ˜é…ç½®

#### 1. é¡¹ç›®åˆå§‹åŒ–

```bash
# åˆ›å»ºé¡¹ç›®
mkdir my-vuepress-blog
cd my-vuepress-blog

# åˆå§‹åŒ–package.json
npm init -y

# å®‰è£…VuePress
npm install vuepress@next

# åˆ›å»ºæ–‡æ¡£ç›®å½•
mkdir docs
```

#### 2. åŸºç¡€é…ç½®

```javascript
// docs/.vuepress/config.js
module.exports = {
  title: 'æŠ€æœ¯åºŸæŸ´çš„åšå®¢',
  description: 'è®°å½•æˆ‘çš„æŠ€æœ¯å­¦ä¹ ä¹‹è·¯',

  // ä¸»é¢˜é…ç½®
  themeConfig: {
    // å¯¼èˆªæ 
    nav: [
      { text: 'é¦–é¡µ', link: '/' },
      { text: 'åšå®¢', link: '/blog/' },
      { text: 'é¡¹ç›®', link: '/projects/' },
      { text: 'å…³äº', link: '/about/' }
    ],

    // ä¾§è¾¹æ 
    sidebar: {
      '/blog/': [
        {
          title: 'AIæŠ€æœ¯',
          children: [
            '/blog/ai/',
            '/blog/ai/ai-prompt-guide-chatgpt.md',
            '/blog/ai/photo-to-cartoon-gan.md'
          ]
        },
        {
          title: 'æ¸¸æˆå¼€å‘',
          children: [
            '/blog/game-dev/',
            '/blog/game-dev/unity-robot-simulation.md',
            '/blog/game-dev/cpp-games-with-sfml.md'
          ]
        }
      ]
    }
  },

  // æ’ä»¶é…ç½®
  plugins: [
    '@vuepress/back-to-top',
    '@vuepress/medium-zoom',
    '@vuepress/last-updated'
  ]
}
```

#### 3. è‡ªå®šä¹‰ä¸»é¢˜

```vue
<!-- docs/.vuepress/components/MyHeader.vue -->
<template>
  <header class="my-header">
    <div class="header-content">
      <h1 class="site-title">{{ siteTitle }}</h1>
      <nav class="main-nav">
        <router-link
          v-for="item in navItems"
          :key="item.text"
          :to="item.link"
          class="nav-item"
        >
          {{ item.text }}
        </router-link>
      </nav>
    </div>
  </header>
</template>

<script>
export default {
  name: 'MyHeader',
  data() {
    return {
      siteTitle: 'æŠ€æœ¯åºŸæŸ´çš„åšå®¢',
      navItems: [
        { text: 'é¦–é¡µ', link: '/' },
        { text: 'åšå®¢', link: '/blog/' },
        { text: 'é¡¹ç›®', link: '/projects/' },
        { text: 'å…³äº', link: '/about/' }
      ]
    }
  }
}
</script>

<style scoped>
.my-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 1rem 0;
}

.header-content {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.site-title {
  font-size: 1.5rem;
  font-weight: bold;
}

.main-nav {
  display: flex;
  gap: 2rem;
}

.nav-item {
  color: white;
  text-decoration: none;
  transition: opacity 0.3s;
}

.nav-item:hover {
  opacity: 0.8;
}
</style>
```

### éƒ¨ç½²é…ç½®

#### GitHub Pageséƒ¨ç½²

```yaml
# .github/workflows/deploy.yml
name: Deploy VuePress site to Pages

on:
  push:
    branches: [main]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: "18"
          cache: 'npm'

      - name: Setup Pages
        uses: actions/configure-pages@v4

      - name: Install dependencies
        run: npm ci

      - name: Build with VuePress
        run: npm run docs:build

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: docs/.vuepress/dist

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

#### Verceléƒ¨ç½²

```json
// vercel.json
{
  "buildCommand": "npm run docs:build",
  "outputDirectory": "docs/.vuepress/dist",
  "framework": "vuepress",
  "installCommand": "npm install"
}
```

## è¸©å‘ç»éªŒæ€»ç»“

### 1. é…ç½®æ–‡ä»¶çš„å‘

**é—®é¢˜ï¼š** é…ç½®æ–‡ä»¶è¯­æ³•é”™è¯¯å¯¼è‡´æ„å»ºå¤±è´¥
```javascript
// é”™è¯¯ç¤ºä¾‹
module.exports = {
  title: 'æˆ‘çš„åšå®¢',
  description: 'æŠ€æœ¯åºŸæŸ´çš„åšå®¢',
  themeConfig: {
    nav: [
      { text: 'é¦–é¡µ', link: '/' }  // ç¼ºå°‘é€—å·
      { text: 'åšå®¢', link: '/blog/' }
    ]
  }
}

// æ­£ç¡®ç¤ºä¾‹
module.exports = {
  title: 'æˆ‘çš„åšå®¢',
  description: 'æŠ€æœ¯åºŸæŸ´çš„åšå®¢',
  themeConfig: {
    nav: [
      { text: 'é¦–é¡µ', link: '/' },
      { text: 'åšå®¢', link: '/blog/' }
    ]
  }
}
```

**è§£å†³æ–¹æ¡ˆï¼š**
- ä½¿ç”¨ESLintæ£€æŸ¥è¯­æ³•
- ä½¿ç”¨VSCodeçš„VuePressæ’ä»¶
- ä»”ç»†æ£€æŸ¥JSONè¯­æ³•

### 2. è·¯ç”±é…ç½®çš„å‘

**é—®é¢˜ï¼š** ä¾§è¾¹æ é…ç½®ä¸åŒ¹é…å¯¼è‡´é¡µé¢404
```javascript
// é”™è¯¯ç¤ºä¾‹ï¼šè·¯å¾„ä¸åŒ¹é…
sidebar: {
  '/blog/': [
    '/blog/ai/ai-prompt-guide-chatgpt.md'  // å®é™…æ–‡ä»¶ä¸å­˜åœ¨
  ]
}

// æ­£ç¡®ç¤ºä¾‹ï¼šç¡®ä¿è·¯å¾„å­˜åœ¨
sidebar: {
  '/blog/': [
    '/blog/ai/ai-prompt-guide-chatgpt.md'  // æ–‡ä»¶ç¡®å®å­˜åœ¨
  ]
}
```

**è§£å†³æ–¹æ¡ˆï¼š**
- ä½¿ç”¨ç›¸å¯¹è·¯å¾„
- æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- ä½¿ç”¨VuePressçš„è·¯å¾„è§£æ

### 3. ä¸»é¢˜å®šåˆ¶çš„å‘

**é—®é¢˜ï¼š** è‡ªå®šä¹‰ç»„ä»¶æ ·å¼å†²çª
```vue
<!-- é—®é¢˜ï¼šå…¨å±€æ ·å¼æ±¡æŸ“ -->
<style>
.my-component {
  color: red;
}
</style>

<!-- è§£å†³ï¼šä½¿ç”¨scopedæ ·å¼ -->
<style scoped>
.my-component {
  color: red;
}
</style>
```

**è§£å†³æ–¹æ¡ˆï¼š**
- ä½¿ç”¨scopedæ ·å¼
- ä½¿ç”¨CSS Modules
- é¿å…å…¨å±€æ ·å¼æ±¡æŸ“

## æ€§èƒ½ä¼˜åŒ–æŠ€å·§

### 1. å›¾ç‰‡ä¼˜åŒ–

```javascript
// ä½¿ç”¨VuePressçš„å›¾ç‰‡ä¼˜åŒ–
module.exports = {
  plugins: [
    [
      '@vuepress/medium-zoom',
      {
        selector: '.content img',
        options: {
          margin: 16
        }
      }
    ]
  ]
}
```

### 2. ä»£ç åˆ†å‰²

```javascript
// é…ç½®ä»£ç åˆ†å‰²
module.exports = {
  chainWebpack: (config, isServer) => {
    if (!isServer) {
      config.optimization.splitChunks({
        chunks: 'all',
        cacheGroups: {
          vendor: {
            test: /[\\/]node_modules[\\/]/,
            name: 'vendors',
            chunks: 'all'
          }
        }
      })
    }
  }
}
```

### 3. ç¼“å­˜ç­–ç•¥

```javascript
// é…ç½®ç¼“å­˜
module.exports = {
  head: [
    ['link', { rel: 'dns-prefetch', href: '//fonts.googleapis.com' }],
    ['link', { rel: 'preconnect', href: 'https://fonts.gstatic.com', crossorigin: true }]
  ]
}
```

## æ€»ç»“ä¸åæ€

### æŠ€æœ¯é€‰å‹çš„æ€è€ƒ

ç»è¿‡è¿™æ¬¡åšå®¢æ­å»ºçš„ç»å†ï¼Œæˆ‘æ·±åˆ»ç†è§£äº†ä¸€ä¸ªé“ç†ï¼š**æŠ€æœ¯é€‰å‹ä¸æ˜¯é€‰æ‹©æœ€å¥½çš„ï¼Œè€Œæ˜¯é€‰æ‹©æœ€é€‚åˆçš„**ã€‚

**æˆ‘çš„é€‰æ‹©æ ‡å‡†ï¼š**
1. **æŠ€æœ¯æ ˆåŒ¹é…åº¦**ï¼šæ˜¯å¦ä¸ç°æœ‰æŠ€æœ¯æ ˆå…¼å®¹
2. **å­¦ä¹ æˆæœ¬**ï¼šæ˜¯å¦å€¼å¾—æŠ•å…¥æ—¶é—´å­¦ä¹ 
3. **ç»´æŠ¤æˆæœ¬**ï¼šé•¿æœŸç»´æŠ¤æ˜¯å¦ç®€å•
4. **æ‰©å±•æ€§**ï¼šæœªæ¥éœ€æ±‚å˜åŒ–æ˜¯å¦å®¹æ˜“æ‰©å±•

### VuePressçš„ä¼˜åŠ¿ä¸å±€é™

**ä¼˜åŠ¿ï¼š**
- âœ… Vue.jsç”Ÿæ€é›†æˆ
- âœ… ç»„ä»¶åŒ–å¼€å‘
- âœ… æ€§èƒ½ä¼˜ç§€
- âœ… é«˜åº¦å¯å®šåˆ¶

**å±€é™ï¼š**
- âŒ å­¦ä¹ æ›²çº¿ç›¸å¯¹é™¡å³­
- âŒ ä¸»é¢˜ç›¸å¯¹è¾ƒå°‘
- âŒ é…ç½®ç›¸å¯¹å¤æ‚

### ç»™å…¶ä»–"åºŸæŸ´"çš„å»ºè®®

1. **æ˜ç¡®éœ€æ±‚**ï¼šå…ˆæƒ³æ¸…æ¥šä½ è¦ä»€ä¹ˆï¼Œå†é€‰æ‹©æŠ€æœ¯
2. **å¾ªåºæ¸è¿›**ï¼šä»ç®€å•å¼€å§‹ï¼Œé€æ­¥å¤æ‚åŒ–
3. **å®è·µä¸ºä¸»**ï¼šç†è®ºç»“åˆå®è·µï¼Œè¾¹å­¦è¾¹åš
4. **æŒç»­ä¼˜åŒ–**ï¼šæŠ€æœ¯é€‰å‹ä¸æ˜¯ä¸€é”¤å­ä¹°å–

## å‚è€ƒèµ„æ–™

- [VuePresså®˜æ–¹æ–‡æ¡£](https://v2.vuepress.vuejs.org/)
- [Vue.jså®˜æ–¹æ–‡æ¡£](https://vuejs.org/)
- [GitHub Pageséƒ¨ç½²æŒ‡å—](https://pages.github.com/)
- [Verceléƒ¨ç½²æŒ‡å—](https://vercel.com/docs)

## ç»“è¯­

åšå®¢æ­å»ºä¸æ˜¯ç»ˆç‚¹ï¼Œè€Œæ˜¯èµ·ç‚¹ã€‚é€‰æ‹©VuePressåªæ˜¯æˆ‘æŠ€æœ¯å­¦ä¹ è·¯ä¸Šçš„ä¸€ä¸ªå°å°é€‰æ‹©ï¼Œé‡è¦çš„æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å­¦ä¼šäº†å¦‚ä½•åšæŠ€æœ¯é€‰å‹ï¼Œå¦‚ä½•æƒè¡¡åˆ©å¼Šï¼Œå¦‚ä½•ä»"æŠ€æœ¯åºŸæŸ´"æˆé•¿ä¸º"æŠ€æœ¯è¾¾äºº"ã€‚

è®°ä½ï¼Œæ²¡æœ‰æœ€å¥½çš„æ¡†æ¶ï¼Œåªæœ‰æœ€é€‚åˆçš„æ¡†æ¶ã€‚é€‰æ‹©VuePressï¼Œæ˜¯å› ä¸ºå®ƒæœ€é€‚åˆæˆ‘çš„éœ€æ±‚å’ŒæŠ€æœ¯æ ˆã€‚ä½ çš„é€‰æ‹©å¯èƒ½ä¸åŒï¼Œä½†é€‰æ‹©çš„è¿‡ç¨‹å’Œæ€è€ƒæ˜¯ç›¸é€šçš„ã€‚

## å®ç”¨å°è´´å£«

### ğŸ¯ æŠ€æœ¯é€‰å‹æ¸…å•
- [ ] æ˜ç¡®é¡¹ç›®éœ€æ±‚
- [ ] è¯„ä¼°æŠ€æœ¯æ ˆåŒ¹é…åº¦
- [ ] è®¡ç®—å­¦ä¹ æˆæœ¬
- [ ] è€ƒè™‘ç»´æŠ¤æˆæœ¬
- [ ] æµ‹è¯•å®é™…æ•ˆæœ

### ğŸš€ å¿«é€Ÿå¼€å§‹
```bash
# 1. åˆ›å»ºé¡¹ç›®
mkdir my-blog && cd my-blog

# 2. åˆå§‹åŒ–
npm init -y
npm install vuepress@next

# 3. åˆ›å»ºæ–‡æ¡£
mkdir docs
echo '# Hello VuePress' > docs/README.md

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npx vuepress dev docs

# 5. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npx vuepress build docs
```

### ğŸ’¡ è¿›é˜¶æŠ€å·§
- ä½¿ç”¨Vueç»„ä»¶å¢å¼ºåŠŸèƒ½
- é…ç½®è‡ªåŠ¨åŒ–éƒ¨ç½²
- ä¼˜åŒ–æ€§èƒ½å’ŒSEO
- æ·»åŠ è¯„è®ºç³»ç»Ÿ
- é›†æˆåˆ†æå·¥å…·
8:T2ff2,
# ğŸ³ Windows 10å®¶åº­ç‰ˆå®‰è£…Dockerï¼šä¸€ä¸ªæŠ€æœ¯åºŸæŸ´çš„å®¹å™¨åŒ–è¸©å‘ä¹‹æ—…

## å®¹å™¨åŒ–ï¼šä»"ä¸å¯èƒ½"åˆ°"çœŸé¦™"

è¿˜è®°å¾—ç¬¬ä¸€æ¬¡å¬è¯´Dockeræ—¶çš„å›°æƒ‘å—ï¼Ÿ"å®¹å™¨åŒ–ï¼Ÿé‚£ä¸æ˜¯è£…ä¸œè¥¿çš„ç›’å­å—ï¼Ÿ"å½“æ—¶çš„æˆ‘å®Œå…¨æ— æ³•ç†è§£è¿™ä¸ªæ¦‚å¿µã€‚

ç›´åˆ°æœ‰ä¸€å¤©ï¼Œæˆ‘åœ¨éƒ¨ç½²ä¸€ä¸ªé¡¹ç›®æ—¶é‡åˆ°äº†"ç¯å¢ƒä¾èµ–åœ°ç‹±"â€”â€”åœ¨æˆ‘çš„ç”µè„‘ä¸Šè¿è¡Œæ­£å¸¸ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå´å„ç§æŠ¥é”™ã€‚é‚£ä¸€åˆ»ï¼Œæˆ‘æ·±åˆ»ç†è§£äº†å®¹å™¨åŒ–çš„ä»·å€¼ã€‚

## æ–¹æ¡ˆå¯¹æ¯”ï¼šé€‰æ‹©æœ€é€‚åˆçš„å®‰è£…æ–¹å¼

### æ–¹æ¡ˆä¸€ï¼šDocker Desktopï¼ˆæ¨èï¼‰

**ä¼˜ç‚¹**ï¼š
- å›¾å½¢åŒ–ç•Œé¢ï¼Œæ˜“äºä½¿ç”¨
- è‡ªåŠ¨é…ç½®ï¼Œä¸€é”®å®‰è£…
- é›†æˆå·¥å…·ä¸°å¯Œï¼ˆDocker Composeã€Kubernetesç­‰ï¼‰
- å®˜æ–¹æ”¯æŒï¼Œæ›´æ–°åŠæ—¶

**ç¼ºç‚¹**ï¼š
- èµ„æºå ç”¨è¾ƒå¤§ï¼ˆçº¦2GBå†…å­˜ï¼‰
- å¯åŠ¨æ—¶é—´è¾ƒé•¿ï¼ˆ30-60ç§’ï¼‰
- æŸäº›é«˜çº§åŠŸèƒ½å—é™
- éœ€è¦Windows 10ä¸“ä¸šç‰ˆæˆ–æ›´é«˜ç‰ˆæœ¬

**æˆ‘çš„ä½“éªŒ**ï¼š
```
å®‰è£…æ—¶é—´ï¼š15åˆ†é’Ÿ
é…ç½®éš¾åº¦ï¼šâ­â˜†â˜†â˜†â˜†
ä½¿ç”¨ä½“éªŒï¼šâ­â­â­â­â­
ç¨³å®šæ€§ï¼šâ­â­â­â­â­
```

### æ–¹æ¡ˆäºŒï¼šDocker Toolboxï¼ˆå¤‡é€‰ï¼‰

**ä¼˜ç‚¹**ï¼š
- æ”¯æŒWindows 7/8/10
- èµ„æºå ç”¨è¾ƒå°ï¼ˆçº¦1GBå†…å­˜ï¼‰
- å¯åŠ¨ç›¸å¯¹è¾ƒå¿«
- å…¼å®¹æ€§å¥½

**ç¼ºç‚¹**ï¼š
- åŸºäºVirtualBoxï¼Œæ€§èƒ½è¾ƒå·®
- ç•Œé¢ç®€é™‹ï¼ŒåŠŸèƒ½æœ‰é™
- é…ç½®å¤æ‚ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®
- å®˜æ–¹å·²åœæ­¢ç»´æŠ¤

**æˆ‘çš„ä½“éªŒ**ï¼š
```
å®‰è£…æ—¶é—´ï¼š30åˆ†é’Ÿ
é…ç½®éš¾åº¦ï¼šâ­â­â­â˜†â˜†
ä½¿ç”¨ä½“éªŒï¼šâ­â­â˜†â˜†â˜†
ç¨³å®šæ€§ï¼šâ­â­â­â˜†â˜†
```

### æ–¹æ¡ˆä¸‰ï¼šWSL2 + Dockerï¼ˆé«˜çº§ï¼‰

**ä¼˜ç‚¹**ï¼š
- æ€§èƒ½ä¼˜ç§€ï¼Œæ¥è¿‘åŸç”ŸLinux
- èµ„æºå ç”¨é€‚ä¸­
- åŠŸèƒ½å®Œæ•´ï¼Œæ”¯æŒæ‰€æœ‰Dockerç‰¹æ€§
- ä¸Linuxå¼€å‘ç¯å¢ƒä¸€è‡´

**ç¼ºç‚¹**ï¼š
- é…ç½®å¤æ‚ï¼Œéœ€è¦å¤šä¸ªæ­¥éª¤
- éœ€è¦Windows 10 2004æˆ–æ›´é«˜ç‰ˆæœ¬
- å­¦ä¹ æˆæœ¬è¾ƒé«˜
- è°ƒè¯•ç›¸å¯¹å›°éš¾

**æˆ‘çš„ä½“éªŒ**ï¼š
```
å®‰è£…æ—¶é—´ï¼š45åˆ†é’Ÿ
é…ç½®éš¾åº¦ï¼šâ­â­â­â­â˜†
ä½¿ç”¨ä½“éªŒï¼šâ­â­â­â­â­
ç¨³å®šæ€§ï¼šâ­â­â­â­â˜†
```

## æˆ‘çš„é€‰æ‹©ï¼šDocker Desktop + å®¶åº­ç‰ˆç ´è§£

### ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ–¹æ¡ˆï¼Ÿ

1. **æ˜“ç”¨æ€§ä¼˜å…ˆ**ï¼šä½œä¸ºåˆå­¦è€…ï¼Œæˆ‘éœ€è¦ç®€å•æ˜“ç”¨çš„å·¥å…·
2. **å­¦ä¹ æˆæœ¬ä½**ï¼šå›¾å½¢åŒ–ç•Œé¢é™ä½äº†å­¦ä¹ é—¨æ§›
3. **åŠŸèƒ½å®Œæ•´**ï¼šæ»¡è¶³æˆ‘çš„å¤§éƒ¨åˆ†éœ€æ±‚
4. **ç¤¾åŒºæ”¯æŒå¥½**ï¼šé‡åˆ°é—®é¢˜å®¹æ˜“æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ

### å®‰è£…è¿‡ç¨‹ï¼šä»"ä¸å¯èƒ½"åˆ°"æˆåŠŸ"

#### ç¬¬ä¸€æ­¥ï¼šç ´è§£å®¶åº­ç‰ˆé™åˆ¶

**é—®é¢˜**ï¼šWindows 10å®¶åº­ç‰ˆä¸æ”¯æŒHyper-V

**è§£å†³æ–¹æ¡ˆ**ï¼šä¿®æ”¹æ³¨å†Œè¡¨ä¼ªè£…ä¸“ä¸šç‰ˆ

```cmd
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒCMD
REG ADD "HKEY_LOCAL_MACHINE\software\Microsoft\Windows NT\CurrentVersion" /v EditionId /T REG_EXPAND_SZ /d Professional /F

# å¯ç”¨Hyper-VåŠŸèƒ½
dism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL

# é‡å¯ç³»ç»Ÿ
shutdown /r /t 0
```

**æˆ‘çš„è¸©å‘ç»å†**ï¼š
- ç¬¬ä¸€æ¬¡ï¼šæƒé™ä¸è¶³ï¼Œä¿®æ”¹å¤±è´¥
- ç¬¬äºŒæ¬¡ï¼šåŠŸèƒ½å¯ç”¨å¤±è´¥ï¼Œç³»ç»Ÿç‰ˆæœ¬ä¸æ”¯æŒ
- ç¬¬ä¸‰æ¬¡ï¼šé‡å¯åè“å±ï¼Œéœ€è¦æ¢å¤æ³¨å†Œè¡¨
- ç¬¬å››æ¬¡ï¼šæˆåŠŸï¼Hyper-Væ­£å¸¸å¯åŠ¨

#### ç¬¬äºŒæ­¥ï¼šå®‰è£…Docker Desktop

**ä¸‹è½½åœ°å€**ï¼š
- å®˜ç½‘ï¼šhttps://www.docker.com/products/docker-desktop
- å›½å†…é•œåƒï¼šhttps://hub-mirror.c.163.com/

**å®‰è£…æ­¥éª¤**ï¼š
1. ä¸‹è½½Docker Desktopå®‰è£…åŒ…
2. ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå®‰è£…ç¨‹åº
3. å–æ¶ˆå‹¾é€‰"Use Windows containers"
4. å®Œæˆå®‰è£…åé‡å¯ç³»ç»Ÿ

**æˆ‘çš„è¸©å‘ç»å†**ï¼š
- ç¬¬ä¸€æ¬¡ï¼šä¸‹è½½é€Ÿåº¦æ…¢ï¼Œä½¿ç”¨å›½å†…é•œåƒè§£å†³
- ç¬¬äºŒæ¬¡ï¼šå®‰è£…å¤±è´¥ï¼Œæ£€æŸ¥ç³»ç»Ÿè¦æ±‚
- ç¬¬ä¸‰æ¬¡ï¼šå¯åŠ¨å¤±è´¥ï¼Œæ£€æŸ¥Hyper-VçŠ¶æ€
- ç¬¬å››æ¬¡ï¼šæˆåŠŸï¼Docker Desktopæ­£å¸¸è¿è¡Œ

#### ç¬¬ä¸‰æ­¥ï¼šé…ç½®é•œåƒåŠ é€Ÿ

**é—®é¢˜**ï¼šé•œåƒä¸‹è½½é€Ÿåº¦æ…¢

**è§£å†³æ–¹æ¡ˆ**ï¼šé…ç½®å›½å†…é•œåƒæº

```json
{
  "registry-mirrors": [
    "https://hub-mirror.c.163.com/",
    "https://registry.cn-hangzhou.aliyuncs.com/",
    "https://mirror.ccs.tencentyun.com/"
  ],
  "insecure-registries": [],
  "debug": false,
  "experimental": false
}
```

**æ•ˆæœå¯¹æ¯”**ï¼š
- é…ç½®å‰ï¼šä¸‹è½½é€Ÿåº¦ 100KB/s
- é…ç½®åï¼šä¸‹è½½é€Ÿåº¦ 2MB/s
- æå‡æ•ˆæœï¼š20å€ï¼

## å®æˆ˜å¯¹æ¯”ï¼šä¸åŒæ–¹æ¡ˆçš„æ€§èƒ½æµ‹è¯•

### æµ‹è¯•ç¯å¢ƒ
- ç¡¬ä»¶ï¼šIntel i7-8700K, 16GB RAM, SSD
- ç³»ç»Ÿï¼šWindows 10å®¶åº­ç‰ˆï¼ˆç ´è§£åï¼‰
- æµ‹è¯•é•œåƒï¼šnginx:latest

### æ€§èƒ½å¯¹æ¯”ç»“æœ

| æ–¹æ¡ˆ | å¯åŠ¨æ—¶é—´ | å†…å­˜å ç”¨ | CPUä½¿ç”¨ç‡ | ç½‘ç»œæ€§èƒ½ | ç£ç›˜æ€§èƒ½ |
|------|----------|----------|-----------|----------|----------|
| Docker Desktop | 35ç§’ | 512MB | 5% | 100% | 100% |
| Docker Toolbox | 25ç§’ | 256MB | 15% | 60% | 70% |
| WSL2 + Docker | 20ç§’ | 384MB | 8% | 95% | 95% |

### æˆ‘çš„åˆ†æ

**Docker Desktop**ï¼š
- å¯åŠ¨æ—¶é—´è¾ƒé•¿ï¼Œä½†åŠŸèƒ½æœ€å®Œæ•´
- å†…å­˜å ç”¨è¾ƒå¤§ï¼Œä½†æ€§èƒ½ä¼˜ç§€
- é€‚åˆæ—¥å¸¸å¼€å‘å’Œæµ‹è¯•

**Docker Toolbox**ï¼š
- å¯åŠ¨è¾ƒå¿«ï¼Œä½†æ€§èƒ½è¾ƒå·®
- èµ„æºå ç”¨å°ï¼Œä½†åŠŸèƒ½æœ‰é™
- é€‚åˆè€æ—§ç³»ç»Ÿæˆ–ä¸´æ—¶ä½¿ç”¨

**WSL2 + Docker**ï¼š
- å¯åŠ¨æœ€å¿«ï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿ
- é…ç½®å¤æ‚ï¼Œä½†ä½“éªŒæœ€ä½³
- é€‚åˆä¸“ä¸šå¼€å‘ç¯å¢ƒ

## å¸¸è§é—®é¢˜ï¼šæˆ‘çš„"è¡€æ³ªå²"

### é—®é¢˜ä¸€ï¼šä¸VMwareå†²çª

**ç°è±¡**ï¼šå®‰è£…Hyper-Våï¼ŒVMwareæ— æ³•å¯åŠ¨

**é”™è¯¯ä¿¡æ¯**ï¼š
```
VMware Workstation and Device/Credential Guard are not compatible.
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```cmd
# ç¦ç”¨Device Guard
bcdedit /set hypervisorlaunchtype off

# é‡å¯ç³»ç»Ÿ
shutdown /r /t 0

# é‡æ–°å¯ç”¨Hyper-Vï¼ˆå¦‚æœéœ€è¦ï¼‰
bcdedit /set hypervisorlaunchtype auto
```

**æˆ‘çš„é€‰æ‹©**ï¼šæš‚æ—¶ç¦ç”¨VMwareï¼Œä¸“æ³¨Dockerå­¦ä¹ 

### é—®é¢˜äºŒï¼šç«¯å£å†²çª

**ç°è±¡**ï¼šDockerå®¹å™¨æ— æ³•å¯åŠ¨ï¼Œæç¤ºç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Error response from daemon: driver failed programming external connectivity on endpoint: Bind for 0.0.0.0:80 failed: port is already allocated
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :80

# ä¿®æ”¹Dockerç«¯å£é…ç½®
# åœ¨Docker Desktopè®¾ç½®ä¸­ä¿®æ”¹ç«¯å£æ˜ å°„
```

**æˆ‘çš„ç»éªŒ**ï¼šä½¿ç”¨éæ ‡å‡†ç«¯å£ï¼Œé¿å…å†²çª

### é—®é¢˜ä¸‰ï¼šç£ç›˜ç©ºé—´ä¸è¶³

**ç°è±¡**ï¼šDockeré•œåƒå’Œå®¹å™¨å ç”¨å¤§é‡ç£ç›˜ç©ºé—´

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ¸…ç†æœªä½¿ç”¨çš„é•œåƒ
docker image prune -a

# æ¸…ç†æœªä½¿ç”¨çš„å®¹å™¨
docker container prune

# æ¸…ç†æœªä½¿ç”¨çš„æ•°æ®å·
docker volume prune

# æ¸…ç†æ•´ä¸ªç³»ç»Ÿ
docker system prune -a
```

**æˆ‘çš„ç­–ç•¥**ï¼šå®šæœŸæ¸…ç†ï¼Œä¿æŒç£ç›˜ç©ºé—´å……è¶³

## æœ€ä½³å®è·µï¼šæˆ‘çš„Dockerä½¿ç”¨æŠ€å·§

### æŠ€å·§ä¸€ï¼šé•œåƒç®¡ç†

**æœ¬åœ°é•œåƒä¼˜åŒ–**ï¼š
```bash
# ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºå‡å°é•œåƒå¤§å°
FROM node:16-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

FROM node:16-alpine
WORKDIR /app
COPY --from=builder /app/node_modules ./node_modules
COPY . .
EXPOSE 3000
CMD ["npm", "start"]
```

**é•œåƒæ ‡ç­¾ç®¡ç†**ï¼š
```bash
# ç»™é•œåƒæ·»åŠ æœ‰æ„ä¹‰çš„æ ‡ç­¾
docker build -t myapp:v1.0 .
docker tag myapp:v1.0 myapp:latest
docker tag myapp:v1.0 myapp:stable
```

### æŠ€å·§äºŒï¼šæ•°æ®æŒä¹…åŒ–

**æ•°æ®å·ä½¿ç”¨**ï¼š
```bash
# åˆ›å»ºå‘½åæ•°æ®å·
docker volume create mydata

# è¿è¡Œå®¹å™¨æ—¶æŒ‚è½½æ•°æ®å·
docker run -d --name myapp \
  -v mydata:/app/data \
  -p 3000:3000 \
  myapp:latest
```

**ç›®å½•æŒ‚è½½**ï¼š
```bash
# æŒ‚è½½æœ¬åœ°ç›®å½•
docker run -d --name myapp \
  -v /host/path:/container/path \
  -p 3000:3000 \
  myapp:latest
```

### æŠ€å·§ä¸‰ï¼šç½‘ç»œé…ç½®

**è‡ªå®šä¹‰ç½‘ç»œ**ï¼š
```bash
# åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ
docker network create mynetwork

# è¿è¡Œå®¹å™¨æ—¶æŒ‡å®šç½‘ç»œ
docker run -d --name web \
  --network mynetwork \
  nginx:latest

docker run -d --name db \
  --network mynetwork \
  mysql:8.0
```

**ç«¯å£æ˜ å°„**ï¼š
```bash
# åŸºæœ¬ç«¯å£æ˜ å°„
docker run -d --name myapp \
  -p 8080:80 \
  nginx:latest

# æŒ‡å®šIPåœ°å€
docker run -d --name myapp \
  -p 127.0.0.1:8080:80 \
  nginx:latest
```

## é¡¹ç›®å®æˆ˜ï¼šæˆ‘çš„ç¬¬ä¸€ä¸ªDockeré¡¹ç›®

### é¡¹ç›®èƒŒæ™¯ï¼šä¸ªäººåšå®¢ç³»ç»Ÿ

**æŠ€æœ¯æ ˆ**ï¼š
- å‰ç«¯ï¼šReact + TypeScript
- åç«¯ï¼šNode.js + Express
- æ•°æ®åº“ï¼šMySQL
- ç¼“å­˜ï¼šRedis
- åå‘ä»£ç†ï¼šNginx

### DockeråŒ–è¿‡ç¨‹

**1. å‰ç«¯å®¹å™¨åŒ–**ï¼š
```dockerfile
# Dockerfile.frontend
FROM node:16-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/build /usr/share/nginx/html
COPY nginx.conf /etc/nginx/nginx.conf
EXPOSE 80
```

**2. åç«¯å®¹å™¨åŒ–**ï¼š
```dockerfile
# Dockerfile.backend
FROM node:16-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
EXPOSE 3000
CMD ["npm", "start"]
```

**3. Docker Composeé…ç½®**ï¼š
```yaml
# docker-compose.yml
version: '3.8'
services:
  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - backend

  backend:
    build: ./backend
    ports:
      - "3000:3000"
    environment:
      - DB_HOST=db
      - REDIS_HOST=redis
    depends_on:
      - db
      - redis

  db:
    image: mysql:8.0
    environment:
      - MYSQL_ROOT_PASSWORD=password
      - MYSQL_DATABASE=blog
    volumes:
      - db_data:/var/lib/mysql

  redis:
    image: redis:6-alpine
    volumes:
      - redis_data:/data

volumes:
  db_data:
  redis_data:
```

### éƒ¨ç½²æ•ˆæœ

**éƒ¨ç½²å‰**ï¼š
- ç¯å¢ƒé…ç½®ï¼š2å°æ—¶
- ä¾èµ–å®‰è£…ï¼š30åˆ†é’Ÿ
- å¯åŠ¨æ—¶é—´ï¼š5åˆ†é’Ÿ
- æ€»æ—¶é—´ï¼š2å°æ—¶35åˆ†é’Ÿ

**éƒ¨ç½²å**ï¼š
- ç¯å¢ƒé…ç½®ï¼š0åˆ†é’Ÿï¼ˆå·²å®¹å™¨åŒ–ï¼‰
- ä¾èµ–å®‰è£…ï¼š0åˆ†é’Ÿï¼ˆå·²æ‰“åŒ…ï¼‰
- å¯åŠ¨æ—¶é—´ï¼š30ç§’
- æ€»æ—¶é—´ï¼š30ç§’

**æ•ˆç‡æå‡**ï¼š500å€ï¼

## æ€»ç»“ä¸åæ€ï¼šå®¹å™¨åŒ–çš„ä»·å€¼

### æˆ‘çš„è®¤çŸ¥è½¬å˜

**ä»"ä¸ç†è§£"åˆ°"ç¦»ä¸å¼€"**ï¼š
- åˆæœŸï¼šè®¤ä¸ºå®¹å™¨åŒ–æ˜¯å¤šä½™çš„å¤æ‚æ€§
- ä¸­æœŸï¼šå¼€å§‹ç†è§£å®¹å™¨åŒ–çš„ä»·å€¼
- ç°åœ¨ï¼šæ— æ³•æƒ³è±¡æ²¡æœ‰å®¹å™¨åŒ–çš„å¼€å‘

**ä»"æ‰‹åŠ¨éƒ¨ç½²"åˆ°"ä¸€é”®éƒ¨ç½²"**ï¼š
- åˆæœŸï¼šæ¯æ¬¡éƒ¨ç½²éƒ½è¦é‡æ–°é…ç½®ç¯å¢ƒ
- ä¸­æœŸï¼šä½¿ç”¨è„šæœ¬è‡ªåŠ¨åŒ–éƒ¨ç½²
- ç°åœ¨ï¼šDocker Composeä¸€é”®å¯åŠ¨

### æŠ€æœ¯æ”¶è·

1. **ç¯å¢ƒä¸€è‡´æ€§**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨ä¸€è‡´
2. **éƒ¨ç½²æ•ˆç‡**ï¼šä»å°æ—¶çº§ç¼©çŸ­åˆ°åˆ†é’Ÿçº§
3. **èµ„æºéš”ç¦»**ï¼šä¸åŒåº”ç”¨äº’ä¸å½±å“
4. **ç‰ˆæœ¬ç®¡ç†**ï¼šé•œåƒç‰ˆæœ¬åŒ–ï¼Œä¾¿äºå›æ»š

### æœªæ¥è®¡åˆ’

1. **å­¦ä¹ Kubernetes**ï¼šæŒæ¡å®¹å™¨ç¼–æ’æŠ€æœ¯
2. **æ¢ç´¢å¾®æœåŠ¡**ï¼šå°†å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¾®æœåŠ¡
3. **è‡ªåŠ¨åŒ–éƒ¨ç½²**ï¼šé›†æˆCI/CDæµæ°´çº¿
4. **ç›‘æ§å‘Šè­¦**ï¼šå»ºç«‹å®¹å™¨ç›‘æ§ä½“ç³»

## å‚è€ƒèµ„æ–™

### å®˜æ–¹æ–‡æ¡£
- [Dockerå®˜æ–¹æ–‡æ¡£](https://docs.docker.com/)
- [Docker Desktopç”¨æˆ·æŒ‡å—](https://docs.docker.com/desktop/)
- [Docker Composeæ–‡æ¡£](https://docs.docker.com/compose/)

### å®ç”¨å·¥å…·
- [Docker Hub](https://hub.docker.com/)ï¼šé•œåƒä»“åº“
- [Docker Desktop](https://www.docker.com/products/docker-desktop)ï¼šæ¡Œé¢ç‰ˆ
- [Portainer](https://www.portainer.io/)ï¼šDockerç®¡ç†ç•Œé¢

### å­¦ä¹ èµ„æº
- [Dockerå…¥é—¨æ•™ç¨‹](https://www.runoob.com/docker/docker-tutorial.html)
- [Dockeræœ€ä½³å®è·µ](https://docs.docker.com/develop/dev-best-practices/)
- [å®¹å™¨åŒ–éƒ¨ç½²æŒ‡å—](https://www.cnblogs.com/cmt/p/14553189.html)

## ç»“è¯­

ä»"è¿™Hyper-Væ€ä¹ˆå¼€å¯"åˆ°"æˆ‘çš„Dockerç»ˆäºèƒ½è·‘äº†"ï¼Œè¿™ä¸ªè¿‡ç¨‹è®©æˆ‘æ·±åˆ»ç†è§£äº†å®¹å™¨åŒ–çš„ä»·å€¼å’Œæ„ä¹‰ã€‚

Dockerä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´æ–¹å¼ã€‚å®ƒæ•™ä¼šäº†æˆ‘å¦‚ä½•æ›´å¥½åœ°ç®¡ç†åº”ç”¨ã€ç¯å¢ƒå’Œéƒ¨ç½²æµç¨‹ã€‚

è™½ç„¶å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°äº†å¾ˆå¤šå›°éš¾ï¼Œä½†æ¯ä¸€æ¬¡"ç¿»è½¦"éƒ½æ˜¯æˆé•¿çš„æœºä¼šã€‚ç°åœ¨ï¼ŒDockerå·²ç»æˆä¸ºæˆ‘å¼€å‘å·¥ä½œä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚

è®°ä½ï¼Œå®¹å™¨åŒ–ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œä½†å®ƒç¡®å®èƒ½è§£å†³å¾ˆå¤šä¼ ç»Ÿéƒ¨ç½²æ–¹å¼çš„é—®é¢˜ã€‚å…³é”®æ˜¯è¦æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆï¼Œå¹¶æŒç»­å­¦ä¹ å’Œæ”¹è¿›ã€‚

---

> ğŸ’¡ **å®ç”¨å°è´´å£«**ï¼šå½“ä½ é‡åˆ°Dockeré—®é¢˜æ—¶ï¼Œä¸è¦æ…Œå¼ ã€‚Dockeræœ‰å¼ºå¤§çš„ç¤¾åŒºæ”¯æŒï¼Œå‡ ä¹ä»»ä½•é—®é¢˜éƒ½èƒ½æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚æœ€é‡è¦çš„æ˜¯ä¿æŒè€å¿ƒå’Œå­¦ä¹ çš„çƒ­æƒ…ï¼

*"åœ¨å®¹å™¨çš„ä¸–ç•Œé‡Œï¼Œè®©æŠ€æœ¯åºŸæŸ´ä¹Ÿèƒ½æˆä¸ºå®¹å™¨åŒ–ä¸“å®¶ï¼"* ğŸ³

a:["WebGPU","WebGL","3Dæ¸²æŸ“","å›¾å½¢API","JavaScript","TypeScript","WebæŠ€æœ¯","GPUç¼–ç¨‹","è·¨ç•Œæ¢ç´¢"]
b:T7d9e,
# WebGPUæ·±åº¦æ¢ç´¢ï¼šæŠ€æœ¯åºŸæŸ´çš„å›¾å½¢ç¼–ç¨‹è¿›åŒ–å²

> ä»"Hello Triangle"åˆ°"å®æ—¶æ¸²æŸ“å¼•æ“"ï¼Œæˆ‘çš„WebGPUæŠ€æœ¯æ¢ç´¢ä¹‹æ—…

## æˆ‘ä¸WebGPUçš„"ç¬¬ä¸€æ¬¡äº²å¯†æ¥è§¦"

### ç¬¬ä¸€æ¬¡"ç¿»è½¦"ï¼šWebGLçš„å±€é™æ€§

è¿˜è®°å¾—ç¬¬ä¸€æ¬¡å°è¯•ç”¨WebGLåšå¤æ‚3Dæ¸²æŸ“æ—¶ï¼Œæˆ‘ä¿¡å¿ƒæ»¡æ»¡åœ°å¼€å§‹ç¼–ç ï¼š

```javascript
// æˆ‘çš„ç¬¬ä¸€ä¸ª"æ°ä½œ" - WebGLå¤æ‚æ¸²æŸ“
const vertexShaderSource = `
  attribute vec4 a_position;
  attribute vec3 a_normal;
  uniform mat4 u_modelViewMatrix;
  uniform mat4 u_projectionMatrix;
  uniform mat3 u_normalMatrix;
  varying vec3 v_normal;
  varying vec3 v_position;

  void main() {
    v_position = vec3(u_modelViewMatrix * a_position);
    v_normal = normalize(u_normalMatrix * a_normal);
    gl_Position = u_projectionMatrix * u_modelViewMatrix * a_position;
  }
`;

const fragmentShaderSource = `
  precision mediump float;
  varying vec3 v_normal;
  varying vec3 v_position;
  uniform vec3 u_lightPosition;
  uniform vec3 u_lightColor;
  uniform vec3 u_ambientColor;

  void main() {
    vec3 normal = normalize(v_normal);
    vec3 lightDirection = normalize(u_lightPosition - v_position);
    float diffuse = max(dot(normal, lightDirection), 0.0);
    vec3 color = u_ambientColor + diffuse * u_lightColor;
    gl_FragColor = vec4(color, 1.0);
  }
`;
```

ç»“æœå‘¢ï¼Ÿæ€§èƒ½ç“¶é¢ˆã€å†…å­˜æ³„æ¼ã€æ¸²æŸ“ç®¡çº¿å›ºå®šï¼Œå¤æ‚åœºæ™¯ç›´æ¥å¡æˆPPTã€‚å¯¼å¸ˆçœ‹åˆ°åç›´æ¥ç»™æˆ‘å‘äº†ä¸ª"ğŸ¤¦â€â™‚ï¸"çš„è¡¨æƒ…ï¼š"ä½ è¿™æ˜¯åœ¨åš'WebGLæ€§èƒ½ç¾éš¾'å—ï¼Ÿ"

### ç¬¬äºŒæ¬¡å°è¯•ï¼šWebGPUçš„è§‰é†’

å¥½ä¸å®¹æ˜“æ¥è§¦äº†WebGPUï¼Œæˆ‘åˆå¼€å§‹æŒ‘æˆ˜ç°ä»£å›¾å½¢ç¼–ç¨‹ï¼š

```javascript
// æˆ‘çš„"WebGPUç°ä»£æ¸²æŸ“"æ°ä½œ
const device = await adapter.requestDevice();
const commandEncoder = device.createCommandEncoder();

// åˆ›å»ºæ¸²æŸ“ç®¡çº¿
const renderPipeline = device.createRenderPipeline({
  vertex: {
    module: device.createShaderModule({
      code: `
        struct VertexOutput {
          @builtin(position) position: vec4<f32>,
          @location(0) color: vec4<f32>,
        }

        @vertex
        fn vertex_main(@location(0) position: vec3<f32>) -> VertexOutput {
          var output: VertexOutput;
          output.position = vec4<f32>(position, 1.0);
          output.color = vec4<f32>(position * 0.5 + 0.5, 1.0);
          return output;
        }
      `
    }),
    entryPoint: 'vertex_main'
  },
  fragment: {
    module: device.createShaderModule({
      code: `
        @fragment
        fn fragment_main(@location(0) color: vec4<f32>) -> @location(0) vec4<f32> {
          return color;
        }
      `
    }),
    entryPoint: 'fragment_main',
    targets: [{
      format: presentationFormat
    }]
  },
  primitive: {
    topology: 'triangle-list'
  }
});
```

è¿™æ¬¡æ›´æƒ¨ï¼Œè™½ç„¶æ€§èƒ½æå‡äº†ï¼Œä½†ä»£ç å¤æ‚åº¦ç›´çº¿ä¸Šå‡ï¼Œè°ƒè¯•å›°éš¾ï¼Œé”™è¯¯ä¿¡æ¯æ™¦æ¶©éš¾æ‡‚ã€‚æˆ‘çš„"ç°ä»£æ¸²æŸ“å¼•æ“"å˜æˆäº†"è°ƒè¯•å™©æ¢¦"ã€‚

### è§‰é†’æ—¶åˆ»ï¼šWebGPUä¸æ˜¯å·¥å…·ï¼Œæ˜¯è‰ºæœ¯

ç»è¿‡æ— æ•°æ¬¡çš„"ç¿»è½¦"ç»å†ï¼Œæˆ‘ç»ˆäºæ˜ç™½ï¼šWebGPUä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯ä¸€é—¨è‰ºæœ¯ã€‚æ¯ä¸€ä¸ªç®¡çº¿éƒ½éœ€è¦ç²¾å¿ƒè®¾è®¡ï¼Œæ¯ä¸€ä¸ªèµ„æºéƒ½éœ€è¦ç²¾ç¡®ç®¡ç†ã€‚

## WebGPUæ ¸å¿ƒæŠ€æœ¯ï¼šä»åŸç†åˆ°å®è·µ

### 1. æ¶æ„è®¾è®¡ï¼šç°ä»£GPUç¼–ç¨‹çš„å“²å­¦

#### å†…å­˜æ¨¡å‹ï¼šæ˜¾å¼å†…å­˜ç®¡ç†

**WebGPUå†…å­˜å±‚æ¬¡ç»“æ„ï¼š**

```javascript
// å†…å­˜ç±»å‹å®šä¹‰
const memoryTypes = {
  // ä¸»æœºå†…å­˜ (CPUå¯è®¿é—®)
  hostMemory: {
    mappedAtCreation: true,    // åˆ›å»ºæ—¶å¯æ˜ å°„
    copySrc: true,             // å¯ä½œä¸ºå¤åˆ¶æº
    copyDst: true              // å¯ä½œä¸ºå¤åˆ¶ç›®æ ‡
  },

  // è®¾å¤‡å†…å­˜ (GPUä¸“ç”¨)
  deviceMemory: {
    uniform: true,             // ç»Ÿä¸€ç¼“å†²åŒº
    storage: true,             // å­˜å‚¨ç¼“å†²åŒº
    vertex: true,              // é¡¶ç‚¹ç¼“å†²åŒº
    index: true,               // ç´¢å¼•ç¼“å†²åŒº
    indirect: true,            // é—´æ¥ç»˜åˆ¶ç¼“å†²åŒº
    queryResolve: true         // æŸ¥è¯¢è§£æç¼“å†²åŒº
  },

  // å…±äº«å†…å­˜ (CPU/GPUå…±äº«)
  sharedMemory: {
    mappedAtCreation: false,   // åˆ›å»ºæ—¶ä¸å¯æ˜ å°„
    copySrc: true,             // å¯ä½œä¸ºå¤åˆ¶æº
    copyDst: true              // å¯ä½œä¸ºå¤åˆ¶ç›®æ ‡
  }
};

// å†…å­˜åˆ†é…ç­–ç•¥
class MemoryManager {
  constructor(device) {
    this.device = device;
    this.buffers = new Map();
    this.textures = new Map();
  }

  // åˆ›å»ºé¡¶ç‚¹ç¼“å†²åŒº
  createVertexBuffer(data, usage = GPUBufferUsage.VERTEX) {
    const buffer = this.device.createBuffer({
      size: data.byteLength,
      usage: usage | GPUBufferUsage.COPY_DST,
      mappedAtCreation: true
    });

    new Float32Array(buffer.getMappedRange()).set(data);
    buffer.unmap();

    this.buffers.set(buffer, { type: 'vertex', data });
    return buffer;
  }

  // åˆ›å»ºç»Ÿä¸€ç¼“å†²åŒº
  createUniformBuffer(data) {
    const buffer = this.device.createBuffer({
      size: data.byteLength,
      usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST
    });

    this.device.queue.writeBuffer(buffer, 0, data);
    this.buffers.set(buffer, { type: 'uniform', data });
    return buffer;
  }

  // åˆ›å»ºå­˜å‚¨ç¼“å†²åŒº
  createStorageBuffer(data) {
    const buffer = this.device.createBuffer({
      size: data.byteLength,
      usage: GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST
    });

    this.device.queue.writeBuffer(buffer, 0, data);
    this.buffers.set(buffer, { type: 'storage', data });
    return buffer;
  }

  // å†…å­˜æ¸…ç†
  dispose() {
    for (const [buffer] of this.buffers) {
      buffer.destroy();
    }
    for (const [texture] of this.textures) {
      texture.destroy();
    }
    this.buffers.clear();
    this.textures.clear();
  }
}
```

#### æ¸²æŸ“ç®¡çº¿ï¼šå¯ç¼–ç¨‹æ¸²æŸ“æ¶æ„

**ç°ä»£æ¸²æŸ“ç®¡çº¿è®¾è®¡ï¼š**

```javascript
// æ¸²æŸ“ç®¡çº¿æ„å»ºå™¨
class RenderPipelineBuilder {
  constructor(device) {
    this.device = device;
    this.vertexState = {};
    this.fragmentState = {};
    this.primitiveState = {};
    this.depthStencilState = {};
    this.multisampleState = {};
  }

  // è®¾ç½®é¡¶ç‚¹ç€è‰²å™¨
  setVertexShader(module, entryPoint = 'vertex_main') {
    this.vertexState = {
      module,
      entryPoint,
      buffers: []
    };
    return this;
  }

  // æ·»åŠ é¡¶ç‚¹ç¼“å†²åŒºå¸ƒå±€
  addVertexBuffer(layout) {
    this.vertexState.buffers.push(layout);
    return this;
  }

  // è®¾ç½®ç‰‡æ®µç€è‰²å™¨
  setFragmentShader(module, entryPoint = 'fragment_main', targets = []) {
    this.fragmentState = {
      module,
      entryPoint,
      targets
    };
    return this;
  }

  // è®¾ç½®å›¾å…ƒæ‹“æ‰‘
  setPrimitiveTopology(topology = 'triangle-list') {
    this.primitiveState = {
      topology,
      stripIndexFormat: undefined,
      frontFace: 'ccw',
      cullMode: 'back'
    };
    return this;
  }

  // è®¾ç½®æ·±åº¦æ¨¡æ¿æµ‹è¯•
  setDepthStencil(depthWriteEnabled = true, depthCompare = 'less') {
    this.depthStencilState = {
      depthWriteEnabled,
      depthCompare,
      format: 'depth24plus'
    };
    return this;
  }

  // æ„å»ºæ¸²æŸ“ç®¡çº¿
  build() {
    return this.device.createRenderPipeline({
      vertex: this.vertexState,
      fragment: this.fragmentState,
      primitive: this.primitiveState,
      depthStencil: this.depthStencilState,
      multisample: this.multisampleState
    });
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const pipeline = new RenderPipelineBuilder(device)
  .setVertexShader(vertexShaderModule)
  .addVertexBuffer({
    arrayStride: 24, // 3ä¸ªfloat32 (ä½ç½®) + 3ä¸ªfloat32 (æ³•çº¿)
    attributes: [
      { format: 'float32x3', offset: 0, shaderLocation: 0 },  // ä½ç½®
      { format: 'float32x3', offset: 12, shaderLocation: 1 }  // æ³•çº¿
    ]
  })
  .setFragmentShader(fragmentShaderModule, 'fragment_main', [{
    format: presentationFormat
  }])
  .setPrimitiveTopology('triangle-list')
  .setDepthStencil()
  .build();
```

### 2. ç€è‰²å™¨ç¼–ç¨‹ï¼šç°ä»£GPUè®¡ç®—çš„è‰ºæœ¯

#### WGSLè¯­è¨€ï¼šWebGPUç€è‰²å™¨è¯­è¨€

**åŸºç¡€ç€è‰²å™¨ç»“æ„ï¼š**

```wgsl
// é¡¶ç‚¹ç€è‰²å™¨ï¼šå‡ ä½•å˜æ¢ä¸æ•°æ®ä¼ é€’
struct VertexInput {
  @location(0) position: vec3<f32>,
  @location(1) normal: vec3<f32>,
  @location(2) texCoord: vec2<f32>,
  @location(3) color: vec4<f32>
};

struct VertexOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) worldPosition: vec3<f32>,
  @location(1) normal: vec3<f32>,
  @location(2) texCoord: vec2<f32>,
  @location(3) color: vec4<f32>
};

struct Uniforms {
  modelViewProjection: mat4x4<f32>,
  model: mat4x4<f32>,
  normalMatrix: mat3x3<f32>,
  lightPosition: vec3<f32>,
  lightColor: vec3<f32>,
  ambientColor: vec3<f32>
};

@group(0) @binding(0) var<uniform> uniforms: Uniforms;

@vertex
fn vertex_main(input: VertexInput) -> VertexOutput {
  var output: VertexOutput;

  // ä¸–ç•Œç©ºé—´ä½ç½®
  output.worldPosition = vec3<f32>(uniforms.model * vec4<f32>(input.position, 1.0));

  // è£å‰ªç©ºé—´ä½ç½®
  output.position = uniforms.modelViewProjection * vec4<f32>(input.position, 1.0);

  // æ³•çº¿å˜æ¢
  output.normal = uniforms.normalMatrix * input.normal;

  // ä¼ é€’çº¹ç†åæ ‡å’Œé¢œè‰²
  output.texCoord = input.texCoord;
  output.color = input.color;

  return output;
}
```

```wgsl
// ç‰‡æ®µç€è‰²å™¨ï¼šå…‰ç…§è®¡ç®—ä¸æè´¨æ¸²æŸ“
@fragment
fn fragment_main(input: VertexOutput) -> @location(0) vec4<f32> {
  // æ³•çº¿å½’ä¸€åŒ–
  let normal = normalize(input.normal);

  // å…‰ç…§æ–¹å‘
  let lightDirection = normalize(uniforms.lightPosition - input.worldPosition);

  // æ¼«åå°„è®¡ç®—
  let diffuse = max(dot(normal, lightDirection), 0.0);

  // ç¯å¢ƒå…‰
  let ambient = uniforms.ambientColor;

  // æœ€ç»ˆé¢œè‰²
  let finalColor = ambient + diffuse * uniforms.lightColor;

  return vec4<f32>(finalColor * input.color.rgb, input.color.a);
}
```

#### é«˜çº§ç€è‰²å™¨æŠ€å·§ï¼šPBRæè´¨ç³»ç»Ÿ

**åŸºäºç‰©ç†çš„æ¸²æŸ“ (PBR)ï¼š**

```wgsl
// PBRæè´¨ç»“æ„
struct Material {
  albedo: vec3<f32>,      // åŸºç¡€é¢œè‰²
  metallic: f32,          // é‡‘å±åº¦
  roughness: f32,         // ç²—ç³™åº¦
  ao: f32,                // ç¯å¢ƒå…‰é®è”½
  emissive: vec3<f32>     // è‡ªå‘å…‰
};

// PBRå…‰ç…§å‡½æ•°
fn calculatePBR(
  worldPos: vec3<f32>,
  normal: vec3<f32>,
  viewDir: vec3<f32>,
  lightDir: vec3<f32>,
  lightColor: vec3<f32>,
  material: Material
) -> vec3<f32> {
  // åŠç¨‹å‘é‡
  let halfwayDir = normalize(viewDir + lightDir);

  // åŸºç¡€åå°„ç‡
  let F0 = mix(vec3<f32>(0.04), material.albedo, material.metallic);

  // æ³•çº¿åˆ†å¸ƒå‡½æ•° (GGX/Trowbridge-Reitz)
  let NdotH = max(dot(normal, halfwayDir), 0.0);
  let alpha = material.roughness * material.roughness;
  let alpha2 = alpha * alpha;
  let denom = NdotH * NdotH * (alpha2 - 1.0) + 1.0;
  let NDF = alpha2 / (PI * denom * denom);

  // å‡ ä½•å‡½æ•° (Schlick-GGX)
  let NdotV = max(dot(normal, viewDir), 0.0);
  let NdotL = max(dot(normal, lightDir), 0.0);
  let k = (material.roughness + 1.0) * (material.roughness + 1.0) / 8.0;
  let G1_v = NdotV / (NdotV * (1.0 - k) + k);
  let G1_l = NdotL / (NdotL * (1.0 - k) + k);
  let G = G1_v * G1_l;

  // Fresnelæ–¹ç¨‹ (Schlickè¿‘ä¼¼)
  let F = F0 + (1.0 - F0) * pow(1.0 - max(dot(halfwayDir, viewDir), 0.0), 5.0);

  // Cook-Torrance BRDF
  let numerator = NDF * G * F;
  let denominator = 4.0 * NdotV * NdotL + 0.0001;
  let specular = numerator / denominator;

  // æ¼«åå°„é¡¹
  let kS = F;
  let kD = vec3<f32>(1.0) - kS;
  kD *= 1.0 - material.metallic;

  // æœ€ç»ˆé¢œè‰²
  let Lo = (kD * material.albedo / PI + specular) * lightColor * NdotL;

  return Lo;
}

// PBRç‰‡æ®µç€è‰²å™¨
@fragment
fn pbr_fragment_main(input: VertexOutput) -> @location(0) vec4<f32> {
  let material = Material(
    albedo: input.albedo,
    metallic: input.metallic,
    roughness: input.roughness,
    ao: input.ao,
    emissive: input.emissive
  );

  let normal = normalize(input.normal);
  let viewDir = normalize(uniforms.cameraPosition - input.worldPosition);

  // è®¡ç®—æ‰€æœ‰å…‰æºçš„è´¡çŒ®
  var Lo = vec3<f32>(0.0);

  for (var i = 0u; i < uniforms.lightCount; i++) {
    let light = lights[i];
    let lightDir = normalize(light.position - input.worldPosition);
    let distance = length(light.position - input.worldPosition);
    let attenuation = 1.0 / (1.0 + light.linear * distance + light.quadratic * distance * distance);

    Lo += calculatePBR(
      input.worldPosition,
      normal,
      viewDir,
      lightDir,
      light.color * attenuation,
      material
    );
  }

  // ç¯å¢ƒå…‰
  let ambient = uniforms.ambientColor * material.albedo * material.ao;

  // æœ€ç»ˆé¢œè‰²
  let color = ambient + Lo + material.emissive;

  // HDRè‰²è°ƒæ˜ å°„
  color = color / (color + vec3<f32>(1.0));

  // Gammaæ ¡æ­£
  color = pow(color, vec3<f32>(1.0 / 2.2));

  return vec4<f32>(color, 1.0);
}
```

### 3. è®¡ç®—ç€è‰²å™¨ï¼šGPUå¹¶è¡Œè®¡ç®—çš„å¨åŠ›

#### é€šç”¨è®¡ç®—ï¼šè¶…è¶Šå›¾å½¢æ¸²æŸ“

**ç²’å­ç³»ç»Ÿè®¡ç®—ç€è‰²å™¨ï¼š**

```wgsl
// ç²’å­æ•°æ®ç»“æ„
struct Particle {
  position: vec3<f32>,
  velocity: vec3<f32>,
  life: f32,
  maxLife: f32,
  color: vec4<f32>
};

// è®¡ç®—ç€è‰²å™¨ï¼šç²’å­æ›´æ–°
@group(0) @binding(0) var<storage, read_write> particles: array<Particle>;
@group(0) @binding(1) var<uniform> deltaTime: f32;
@group(0) @binding(2) var<uniform> gravity: vec3<f32>;
@group(0) @binding(3) var<uniform> emitterPosition: vec3<f32>;

@compute @workgroup_size(256)
fn update_particles(@builtin(global_invocation_id) globalId: vec3<u32>) {
  let index = globalId.x;
  if (index >= arrayLength(&particles)) {
    return;
  }

  var particle = particles[index];

  // æ›´æ–°ç”Ÿå‘½å€¼
  particle.life -= deltaTime;

  // å¦‚æœç²’å­æ­»äº¡ï¼Œé‡æ–°ç”Ÿæˆ
  if (particle.life <= 0.0) {
    particle.position = emitterPosition;
    particle.velocity = vec3<f32>(
      random_f32() * 2.0 - 1.0,
      random_f32() * 2.0 + 1.0,
      random_f32() * 2.0 - 1.0
    ) * 5.0;
    particle.life = particle.maxLife;
    particle.color = vec4<f32>(1.0, 0.5, 0.0, 1.0);
  } else {
    // åº”ç”¨é‡åŠ›
    particle.velocity += gravity * deltaTime;

    // æ›´æ–°ä½ç½®
    particle.position += particle.velocity * deltaTime;

    // æ›´æ–°é¢œè‰²ï¼ˆåŸºäºç”Ÿå‘½å€¼ï¼‰
    let lifeRatio = particle.life / particle.maxLife;
    particle.color.a = lifeRatio;
    particle.color.rgb = mix(vec3<f32>(1.0, 0.5, 0.0), vec3<f32>(1.0, 0.0, 0.0), 1.0 - lifeRatio);
  }

  particles[index] = particle;
}

// éšæœºæ•°ç”Ÿæˆå‡½æ•°
fn random_f32() -> f32 {
  // ç®€å•çš„ä¼ªéšæœºæ•°ç”Ÿæˆ
  return fract(sin(globalId.x * 12.9898 + globalId.y * 78.233) * 43758.5453);
}
```

**å›¾åƒå¤„ç†è®¡ç®—ç€è‰²å™¨ï¼š**

```wgsl
// å›¾åƒå¤„ç†ï¼šé«˜æ–¯æ¨¡ç³Š
@group(0) @binding(0) var inputTexture: texture_2d<f32>;
@group(0) @binding(1) var outputTexture: texture_storage_2d<rgba8unorm, write>;
@group(0) @binding(2) var<uniform> kernelSize: u32;
@group(0) @binding(3) var<uniform> sigma: f32;

@compute @workgroup_size(16, 16)
fn gaussian_blur(@builtin(global_invocation_id) globalId: vec3<u32>) {
  let texCoord = vec2<i32>(globalId.xy);
  let textureSize = textureDimensions(inputTexture);

  if (texCoord.x >= textureSize.x || texCoord.y >= textureSize.y) {
    return;
  }

  var result = vec4<f32>(0.0);
  var totalWeight = 0.0;

  // è®¡ç®—é«˜æ–¯æ ¸
  for (var i = -i32(kernelSize); i <= i32(kernelSize); i++) {
    for (var j = -i32(kernelSize); j <= i32(kernelSize); j++) {
      let offset = vec2<i32>(i, j);
      let sampleCoord = texCoord + offset;

      // è¾¹ç•Œæ£€æŸ¥
      if (sampleCoord.x >= 0 && sampleCoord.x < textureSize.x &&
          sampleCoord.y >= 0 && sampleCoord.y < textureSize.y) {

        // é«˜æ–¯æƒé‡
        let distance = sqrt(f32(i * i + j * j));
        let weight = exp(-(distance * distance) / (2.0 * sigma * sigma));

        result += textureLoad(inputTexture, sampleCoord, 0) * weight;
        totalWeight += weight;
      }
    }
  }

  // å½’ä¸€åŒ–
  result /= totalWeight;

  textureStore(outputTexture, texCoord, result);
}
```

### 4. æ€§èƒ½ä¼˜åŒ–ï¼šç°ä»£å›¾å½¢ç¼–ç¨‹çš„ç²¾é«“

#### æ¸²æŸ“ä¼˜åŒ–ç­–ç•¥

**å®ä¾‹åŒ–æ¸²æŸ“ï¼š**

```javascript
// å®ä¾‹åŒ–æ¸²æŸ“ç®¡ç†å™¨
class InstancedRenderer {
  constructor(device, pipeline, vertexBuffer, indexBuffer) {
    this.device = device;
    this.pipeline = pipeline;
    this.vertexBuffer = vertexBuffer;
    this.indexBuffer = indexBuffer;
    this.instanceBuffer = null;
    this.instanceCount = 0;
  }

  // è®¾ç½®å®ä¾‹æ•°æ®
  setInstanceData(instanceData) {
    if (this.instanceBuffer) {
      this.instanceBuffer.destroy();
    }

    this.instanceBuffer = this.device.createBuffer({
      size: instanceData.byteLength,
      usage: GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST,
      mappedAtCreation: true
    });

    new Float32Array(this.instanceBuffer.getMappedRange()).set(instanceData);
    this.instanceBuffer.unmap();

    this.instanceCount = instanceData.length / 16; // å‡è®¾æ¯ä¸ªå®ä¾‹16ä¸ªfloat
  }

  // æ‰§è¡Œå®ä¾‹åŒ–æ¸²æŸ“
  render(renderPassEncoder) {
    renderPassEncoder.setPipeline(this.pipeline);
    renderPassEncoder.setVertexBuffer(0, this.vertexBuffer);
    renderPassEncoder.setVertexBuffer(1, this.instanceBuffer);
    renderPassEncoder.setIndexBuffer(this.indexBuffer, 'uint16');
    renderPassEncoder.drawIndexed(this.indexCount, this.instanceCount);
  }
}

// ä½¿ç”¨ç¤ºä¾‹ï¼šæ¸²æŸ“å¤§é‡ç«‹æ–¹ä½“
const instanceData = new Float32Array(1000 * 16); // 1000ä¸ªå®ä¾‹
for (let i = 0; i < 1000; i++) {
  const offset = i * 16;
  // æ¨¡å‹çŸ©é˜µ (4x4)
  const matrix = mat4.create();
  mat4.translate(matrix, matrix, [
    (Math.random() - 0.5) * 20,
    (Math.random() - 0.5) * 20,
    (Math.random() - 0.5) * 20
  ]);
  mat4.scale(matrix, matrix, [0.5, 0.5, 0.5]);

  instanceData.set(matrix, offset);
}

instancedRenderer.setInstanceData(instanceData);
```

**æ¸²æŸ“çŠ¶æ€ç®¡ç†ï¼š**

```javascript
// æ¸²æŸ“çŠ¶æ€ç®¡ç†å™¨
class RenderStateManager {
  constructor(device) {
    this.device = device;
    this.currentPipeline = null;
    this.currentBindGroup = null;
    this.currentVertexBuffers = [];
    this.currentIndexBuffer = null;
  }

  // è®¾ç½®æ¸²æŸ“ç®¡çº¿
  setPipeline(pipeline) {
    if (this.currentPipeline !== pipeline) {
      this.renderPassEncoder.setPipeline(pipeline);
      this.currentPipeline = pipeline;
    }
  }

  // è®¾ç½®ç»‘å®šç»„
  setBindGroup(index, bindGroup) {
    if (this.currentBindGroup !== bindGroup) {
      this.renderPassEncoder.setBindGroup(index, bindGroup);
      this.currentBindGroup = bindGroup;
    }
  }

  // è®¾ç½®é¡¶ç‚¹ç¼“å†²åŒº
  setVertexBuffer(slot, buffer, offset = 0, size = undefined) {
    const key = `${slot}-${buffer}-${offset}-${size}`;
    if (!this.currentVertexBuffers.includes(key)) {
      this.renderPassEncoder.setVertexBuffer(slot, buffer, offset, size);
      this.currentVertexBuffers.push(key);
    }
  }

  // è®¾ç½®ç´¢å¼•ç¼“å†²åŒº
  setIndexBuffer(buffer, format = 'uint16', offset = 0, size = undefined) {
    const key = `${buffer}-${format}-${offset}-${size}`;
    if (this.currentIndexBuffer !== key) {
      this.renderPassEncoder.setIndexBuffer(buffer, format, offset, size);
      this.currentIndexBuffer = key;
    }
  }

  // é‡ç½®çŠ¶æ€
  reset() {
    this.currentPipeline = null;
    this.currentBindGroup = null;
    this.currentVertexBuffers = [];
    this.currentIndexBuffer = null;
  }
}
```

#### å†…å­˜ä¼˜åŒ–ç­–ç•¥

**èµ„æºæ± ç®¡ç†ï¼š**

```javascript
// èµ„æºæ± ç®¡ç†å™¨
class ResourcePool {
  constructor(device) {
    this.device = device;
    this.bufferPool = new Map();
    this.texturePool = new Map();
    this.samplerPool = new Map();
  }

  // è·å–ç¼“å†²åŒº
  getBuffer(size, usage) {
    const key = `${size}-${usage}`;

    if (this.bufferPool.has(key)) {
      const buffers = this.bufferPool.get(key);
      if (buffers.length > 0) {
        return buffers.pop();
      }
    }

    return this.device.createBuffer({ size, usage });
  }

  // å½’è¿˜ç¼“å†²åŒº
  returnBuffer(buffer, size, usage) {
    const key = `${size}-${usage}`;

    if (!this.bufferPool.has(key)) {
      this.bufferPool.set(key, []);
    }

    this.bufferPool.get(key).push(buffer);
  }

  // è·å–çº¹ç†
  getTexture(descriptor) {
    const key = JSON.stringify(descriptor);

    if (this.texturePool.has(key)) {
      const textures = this.texturePool.get(key);
      if (textures.length > 0) {
        return textures.pop();
      }
    }

    return this.device.createTexture(descriptor);
  }

  // å½’è¿˜çº¹ç†
  returnTexture(texture, descriptor) {
    const key = JSON.stringify(descriptor);

    if (!this.texturePool.has(key)) {
      this.texturePool.set(key, []);
    }

    this.texturePool.get(key).push(texture);
  }

  // æ¸…ç†èµ„æºæ± 
  clear() {
    for (const [key, buffers] of this.bufferPool) {
      for (const buffer of buffers) {
        buffer.destroy();
      }
    }

    for (const [key, textures] of this.texturePool) {
      for (const texture of textures) {
        texture.destroy();
      }
    }

    this.bufferPool.clear();
    this.texturePool.clear();
  }
}
```

## å®æˆ˜åº”ç”¨ï¼šä»ç†è®ºåˆ°å®è·µ

### 1. å®æ—¶æ¸²æŸ“å¼•æ“æ¶æ„

**ç°ä»£æ¸²æŸ“å¼•æ“è®¾è®¡ï¼š**

```javascript
// æ¸²æŸ“å¼•æ“æ ¸å¿ƒ
class WebGPURenderer {
  constructor(canvas) {
    this.canvas = canvas;
    this.device = null;
    this.context = null;
    this.commandEncoder = null;
    this.renderPassEncoder = null;

    this.scenes = new Map();
    this.materials = new Map();
    this.textures = new Map();
    this.meshes = new Map();

    this.resourcePool = new ResourcePool();
    this.stateManager = new RenderStateManager();
  }

  // åˆå§‹åŒ–æ¸²æŸ“å™¨
  async initialize() {
    if (!navigator.gpu) {
      throw new Error('WebGPU not supported');
    }

    const adapter = await navigator.gpu.requestAdapter();
    this.device = await adapter.requestDevice();

    this.context = this.canvas.getContext('webgpu');
    const format = navigator.gpu.getPreferredCanvasFormat();

    this.context.configure({
      device: this.device,
      format: format,
      alphaMode: 'premultiplied'
    });
  }

  // åˆ›å»ºåœºæ™¯
  createScene(name) {
    const scene = {
      objects: [],
      lights: [],
      camera: null,
      ambient: [0.1, 0.1, 0.1]
    };

    this.scenes.set(name, scene);
    return scene;
  }

  // æ·»åŠ æ¸²æŸ“å¯¹è±¡
  addObject(sceneName, object) {
    const scene = this.scenes.get(sceneName);
    if (scene) {
      scene.objects.push(object);
    }
  }

  // æ¸²æŸ“åœºæ™¯
  render(sceneName) {
    const scene = this.scenes.get(sceneName);
    if (!scene) return;

    this.commandEncoder = this.device.createCommandEncoder();

    const renderPassDescriptor = {
      colorAttachments: [{
        view: this.context.getCurrentTexture().createView(),
        clearValue: { r: 0.1, g: 0.1, b: 0.1, a: 1.0 },
        loadOp: 'clear',
        storeOp: 'store'
      }]
    };

    this.renderPassEncoder = this.commandEncoder.beginRenderPass(renderPassDescriptor);
    this.stateManager.renderPassEncoder = this.renderPassEncoder;

    // æ¸²æŸ“æ‰€æœ‰å¯¹è±¡
    for (const object of scene.objects) {
      this.renderObject(object, scene);
    }

    this.renderPassEncoder.end();
    this.device.queue.submit([this.commandEncoder.finish()]);
  }

  // æ¸²æŸ“å•ä¸ªå¯¹è±¡
  renderObject(object, scene) {
    const mesh = this.meshes.get(object.meshId);
    const material = this.materials.get(object.materialId);

    if (!mesh || !material) return;

    // è®¾ç½®æ¸²æŸ“ç®¡çº¿
    this.stateManager.setPipeline(material.pipeline);

    // è®¾ç½®ç»‘å®šç»„
    this.stateManager.setBindGroup(0, material.bindGroup);

    // è®¾ç½®é¡¶ç‚¹ç¼“å†²åŒº
    this.stateManager.setVertexBuffer(0, mesh.vertexBuffer);
    if (mesh.indexBuffer) {
      this.stateManager.setIndexBuffer(mesh.indexBuffer);
    }

    // ç»˜åˆ¶
    if (mesh.indexBuffer) {
      this.renderPassEncoder.drawIndexed(mesh.indexCount);
    } else {
      this.renderPassEncoder.draw(mesh.vertexCount);
    }
  }
}
```

### 2. é«˜çº§æ¸²æŸ“æ•ˆæœ

**åå¤„ç†æ•ˆæœç³»ç»Ÿï¼š**

```javascript
// åå¤„ç†æ•ˆæœç®¡ç†å™¨
class PostProcessManager {
  constructor(renderer) {
    this.renderer = renderer;
    this.effects = [];
    this.intermediateTextures = [];
  }

  // æ·»åŠ åå¤„ç†æ•ˆæœ
  addEffect(effect) {
    this.effects.push(effect);
  }

  // æ‰§è¡Œåå¤„ç†
  process(inputTexture, outputTexture) {
    let currentInput = inputTexture;
    let currentOutput = null;

    for (let i = 0; i < this.effects.length; i++) {
      const effect = this.effects[i];
      const isLast = i === this.effects.length - 1;

      if (isLast) {
        currentOutput = outputTexture;
      } else {
        currentOutput = this.getIntermediateTexture();
      }

      effect.render(currentInput, currentOutput);

      if (!isLast) {
        currentInput = currentOutput;
      }
    }
  }

  // è·å–ä¸­é—´çº¹ç†
  getIntermediateTexture() {
    if (this.intermediateTextures.length > 0) {
      return this.intermediateTextures.pop();
    }

    return this.renderer.device.createTexture({
      size: [this.renderer.canvas.width, this.renderer.canvas.height],
      format: 'rgba8unorm',
      usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.TEXTURE_BINDING
    });
  }
}

// æ¨¡ç³Šæ•ˆæœ
class BlurEffect {
  constructor(renderer, radius = 5) {
    this.renderer = renderer;
    this.radius = radius;
    this.pipeline = this.createPipeline();
  }

  createPipeline() {
    return this.renderer.device.createRenderPipeline({
      vertex: {
        module: this.renderer.device.createShaderModule({
          code: `
            @vertex
            fn vertex_main(@builtin(vertex_index) vertex_index: u32) -> @builtin(position) vec4<f32> {
              var pos = array<vec2<f32>, 6>(
                vec2<f32>(-1.0, -1.0),
                vec2<f32>( 1.0, -1.0),
                vec2<f32>(-1.0,  1.0),
                vec2<f32>(-1.0,  1.0),
                vec2<f32>( 1.0, -1.0),
                vec2<f32>( 1.0,  1.0)
              );
              return vec4<f32>(pos[vertex_index], 0.0, 1.0);
            }
          `
        }),
        entryPoint: 'vertex_main'
      },
      fragment: {
        module: this.renderer.device.createShaderModule({
          code: `
            @group(0) @binding(0) var inputTexture: texture_2d<f32>;
            @group(0) @binding(1) var inputSampler: sampler;
            @group(0) @binding(2) var<uniform> radius: f32;

            @fragment
            fn fragment_main(@builtin(position) position: vec4<f32>) -> @location(0) vec4<f32> {
              let texCoord = position.xy / vec2<f32>(textureDimensions(inputTexture));
              var result = vec4<f32>(0.0);
              var totalWeight = 0.0;

              for (var i = -i32(radius); i <= i32(radius); i++) {
                for (var j = -i32(radius); j <= i32(radius); j++) {
                  let offset = vec2<f32>(f32(i), f32(j)) / vec2<f32>(textureDimensions(inputTexture));
                  let sampleCoord = texCoord + offset;
                  let distance = sqrt(f32(i * i + j * j));
                  let weight = exp(-(distance * distance) / (2.0 * radius * radius));

                  result += textureSample(inputTexture, inputSampler, sampleCoord) * weight;
                  totalWeight += weight;
                }
              }

              return result / totalWeight;
            }
          `
        }),
        entryPoint: 'fragment_main',
        targets: [{
          format: 'rgba8unorm'
        }]
      },
      primitive: {
        topology: 'triangle-list'
      }
    });
  }

  render(inputTexture, outputTexture) {
    const commandEncoder = this.renderer.device.createCommandEncoder();
    const renderPass = commandEncoder.beginRenderPass({
      colorAttachments: [{
        view: outputTexture.createView(),
        clearValue: { r: 0, g: 0, b: 0, a: 1 },
        loadOp: 'clear',
        storeOp: 'store'
      }]
    });

    renderPass.setPipeline(this.pipeline);
    renderPass.setBindGroup(0, this.createBindGroup(inputTexture));
    renderPass.draw(6);
    renderPass.end();

    this.renderer.device.queue.submit([commandEncoder.finish()]);
  }

  createBindGroup(inputTexture) {
    return this.renderer.device.createBindGroup({
      layout: this.pipeline.getBindGroupLayout(0),
      entries: [
        {
          binding: 0,
          resource: inputTexture.createView()
        },
        {
          binding: 1,
          resource: this.renderer.device.createSampler({
            magFilter: 'linear',
            minFilter: 'linear'
          })
        },
        {
          binding: 2,
          resource: this.renderer.device.createBuffer({
            size: 4,
            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST
          })
        }
      ]
    });
  }
}
```

## æ€»ç»“ä¸åæ€

### WebGPUçš„æŠ€æœ¯ä»·å€¼

1. **æ€§èƒ½æå‡**ï¼šç›¸æ¯”WebGLæœ‰æ˜¾è‘—çš„æ€§èƒ½æå‡
2. **åŠŸèƒ½å¼ºå¤§**ï¼šæ”¯æŒç°ä»£GPUçš„æ‰€æœ‰ç‰¹æ€§
3. **å¼€å‘å‹å¥½**ï¼šæä¾›æ›´æ¸…æ™°çš„APIè®¾è®¡
4. **æœªæ¥å¯¼å‘**ï¼šä¸ºWebå›¾å½¢ç¼–ç¨‹æŒ‡æ˜æ–¹å‘

### æˆ‘çš„å­¦ä¹ å¿ƒå¾—

1. **ä»åŸºç¡€å¼€å§‹**ï¼šå…ˆæŒæ¡WebGPUçš„åŸºæœ¬æ¦‚å¿µå’ŒAPI
2. **å®è·µä¸ºä¸»**ï¼šåœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨å’Œä¼˜åŒ–
3. **æŒç»­å­¦ä¹ **ï¼šå…³æ³¨WebGPUçš„æœ€æ–°å‘å±•å’Œæœ€ä½³å®è·µ
4. **æ€§èƒ½ä¼˜å…ˆ**ï¼šå§‹ç»ˆå…³æ³¨æ€§èƒ½ä¼˜åŒ–å’Œèµ„æºç®¡ç†

### ç»™å…¶ä»–"åºŸæŸ´"çš„å»ºè®®

1. **ä¸è¦å®³æ€•å¤æ‚**ï¼šWebGPUè™½ç„¶å¤æ‚ï¼Œä½†å­¦ä¹ æ›²çº¿æ˜¯å€¼å¾—çš„
2. **ä¿æŒè€å¿ƒ**ï¼šå›¾å½¢ç¼–ç¨‹éœ€è¦æ—¶é—´å’Œå®è·µ
3. **å­¦ä¹ ä»–äºº**ï¼šå‚è€ƒä¼˜ç§€çš„WebGPUé¡¹ç›®å’Œæ•™ç¨‹
4. **è®°å½•æ€»ç»“**ï¼šå»ºç«‹è‡ªå·±çš„WebGPUçŸ¥è¯†åº“

## å‚è€ƒèµ„æ–™

- [WebGPUå®˜æ–¹æ–‡æ¡£](https://www.w3.org/TR/webgpu/)
- [WebGPUç¤ºä¾‹](https://webgpu.github.io/webgpu-samples/)
- [WGSLè§„èŒƒ](https://www.w3.org/TR/WGSL/)
- [WebGPUæœ€ä½³å®è·µ](https://web.dev/webgpu/)

## ç»“è¯­

WebGPUä»£è¡¨äº†Webå›¾å½¢ç¼–ç¨‹çš„æœªæ¥ï¼Œè™½ç„¶å­¦ä¹ æ›²çº¿è¾ƒé™¡ï¼Œä½†å¸¦æ¥çš„æ€§èƒ½æå‡å’ŒåŠŸèƒ½æ‰©å±•æ˜¯å€¼å¾—çš„ã€‚

è®°ä½ï¼Œå¥½çš„å›¾å½¢ç¨‹åºä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œè€Œæ˜¯é€šè¿‡ä¸æ–­ä¼˜åŒ–å’Œæ”¹è¿›å¾—æ¥çš„ã€‚ä¸è¦å®³æ€•çŠ¯é”™ï¼Œä¸è¦å®³æ€•å°è¯•ï¼Œæ¯ä¸€æ¬¡ä¼˜åŒ–éƒ½æ˜¯å­¦ä¹ çš„æœºä¼šã€‚

## å®ç”¨å°è´´å£«

### ğŸ¯ WebGPUå­¦ä¹ è·¯å¾„
- [ ] æŒæ¡åŸºç¡€æ¦‚å¿µï¼ˆè®¾å¤‡ã€é€‚é…å™¨ã€é˜Ÿåˆ—ï¼‰
- [ ] å­¦ä¹ ç€è‰²å™¨ç¼–ç¨‹ï¼ˆWGSLè¯­è¨€ï¼‰
- [ ] å®è·µæ¸²æŸ“ç®¡çº¿ï¼ˆé¡¶ç‚¹ã€ç‰‡æ®µç€è‰²å™¨ï¼‰
- [ ] æ¢ç´¢è®¡ç®—ç€è‰²å™¨ï¼ˆé€šç”¨è®¡ç®—ï¼‰
- [ ] ä¼˜åŒ–æ€§èƒ½ä½“éªŒï¼ˆèµ„æºç®¡ç†ã€æ¸²æŸ“ä¼˜åŒ–ï¼‰

### ğŸš€ å¿«é€Ÿå¼€å§‹
```javascript
// 1. æ£€æŸ¥WebGPUæ”¯æŒ
if (!navigator.gpu) {
  console.error('WebGPU not supported');
  return;
}

// 2. è·å–é€‚é…å™¨
const adapter = await navigator.gpu.requestAdapter();

// 3. åˆ›å»ºè®¾å¤‡
const device = await adapter.requestDevice();

// 4. é…ç½®ç”»å¸ƒ
const context = canvas.getContext('webgpu');
context.configure({
  device: device,
  format: navigator.gpu.getPreferredCanvasFormat()
});

// 5. å¼€å§‹æ¸²æŸ“
// ... æ¸²æŸ“ä»£ç 
```

### ğŸ’¡ è¿›é˜¶æŠ€å·§
- ä½¿ç”¨è®¡ç®—ç€è‰²å™¨è¿›è¡Œå¹¶è¡Œè®¡ç®—
- å®ç°PBRæè´¨ç³»ç»Ÿ
- ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½
- é›†æˆåå¤„ç†æ•ˆæœ
- æ„å»ºå®Œæ•´çš„æ¸²æŸ“å¼•æ“
9:{"id":"webgpu-3d-rendering","title":"âš¡ WebGPUæ·±åº¦æ¢ç´¢ï¼šæŠ€æœ¯åºŸæŸ´çš„å›¾å½¢ç¼–ç¨‹è¿›åŒ–å²","description":"ä»WebGLåˆ°WebGPUï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§ç‰¹æ€§ï¼Œæ·±å…¥è§£æä¸‹ä¸€ä»£å›¾å½¢APIçš„æŠ€æœ¯åŸç†å’Œå®é™…åº”ç”¨ï¼Œè®°å½•æŠ€æœ¯åºŸæŸ´åœ¨å›¾å½¢ç¼–ç¨‹é¢†åŸŸçš„æˆé•¿è½¨è¿¹ã€‚","date":"2024-01-05","readTime":"18åˆ†é’Ÿ","tags":"$a","category":"è®¡ç®—æœºæŠ€æœ¯","slug":"webgpu-3d-rendering","featured":true,"author":"LJoson","status":"published","content":"$b","excerpt":"\r\n WebGPUæ·±åº¦æ¢ç´¢ï¼šæŠ€æœ¯åºŸæŸ´çš„å›¾å½¢ç¼–ç¨‹è¿›åŒ–å²\r\n\r\n> ä»\"Hello Triangle\"åˆ°\"å®æ—¶æ¸²æŸ“å¼•æ“\"ï¼Œæˆ‘çš„WebGPUæŠ€æœ¯æ¢ç´¢ä¹‹æ—…\r\n\r\n æˆ‘ä¸WebGPUçš„\"ç¬¬ä¸€æ¬¡äº²å¯†æ¥è§¦\"\r\n\r\n ç¬¬ä¸€æ¬¡\"ç¿»è½¦\"ï¼šWebGLçš„å±€é™æ€§\r\n\r\nè¿˜è®°å¾—ç¬¬ä¸€æ¬¡å°è¯•ç”¨WebGLåšå¤æ‚3Dæ¸²æŸ“æ—¶ï¼Œæˆ‘ä¿¡å¿ƒæ»¡æ»¡åœ°å¼€å§‹ç¼–ç ï¼š\r\n\r\njavascript\r\n// æˆ‘çš„ç¬¬ä¸€ä¸ª\"æ°ä½œ\" - WebGLå¤æ‚æ¸²æŸ“\r\nco..."}
d:["slug","webgpu-3d-rendering","d"]
0:["build-1756572638459",[[["",{"children":["blog",{"children":[["slug","webgpu-3d-rendering","d"],{"children":["__PAGE__?{\"slug\":\"webgpu-3d-rendering\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","webgpu-3d-rendering","d"],{"children":["__PAGE__",{},[["$L1",["$","div",null,{"className":"min-h-screen bg-cyber-bg-900","children":["$","div",null,{"className":"relative overflow-hidden","children":[["$","div",null,{"className":"absolute inset-0 bg-gradient-to-br from-fail-red/5 via-fail-orange/3 to-fail-purple/5"}],["$","div",null,{"className":"relative z-10","children":[["$","div",null,{"className":"max-w-7xl mx-auto px-4 py-8","children":["$","div",null,{"className":"grid grid-cols-1 lg:grid-cols-4 gap-8","children":[["$","div",null,{"className":"lg:col-span-3 w-full","children":["$","$L2",null,{"post":{"id":"webgpu-3d-rendering","title":"âš¡ WebGPUæ·±åº¦æ¢ç´¢ï¼šæŠ€æœ¯åºŸæŸ´çš„å›¾å½¢ç¼–ç¨‹è¿›åŒ–å²","description":"ä»WebGLåˆ°WebGPUï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§ç‰¹æ€§ï¼Œæ·±å…¥è§£æä¸‹ä¸€ä»£å›¾å½¢APIçš„æŠ€æœ¯åŸç†å’Œå®é™…åº”ç”¨ï¼Œè®°å½•æŠ€æœ¯åºŸæŸ´åœ¨å›¾å½¢ç¼–ç¨‹é¢†åŸŸçš„æˆé•¿è½¨è¿¹ã€‚","date":"2024-01-05","readTime":"18åˆ†é’Ÿ","tags":["WebGPU","WebGL","3Dæ¸²æŸ“","å›¾å½¢API","JavaScript","TypeScript","WebæŠ€æœ¯","GPUç¼–ç¨‹","è·¨ç•Œæ¢ç´¢"],"category":"è®¡ç®—æœºæŠ€æœ¯","slug":"webgpu-3d-rendering","featured":true,"author":"LJoson","status":"published","content":"$3","excerpt":"\r\n WebGPUæ·±åº¦æ¢ç´¢ï¼šæŠ€æœ¯åºŸæŸ´çš„å›¾å½¢ç¼–ç¨‹è¿›åŒ–å²\r\n\r\n> ä»\"Hello Triangle\"åˆ°\"å®æ—¶æ¸²æŸ“å¼•æ“\"ï¼Œæˆ‘çš„WebGPUæŠ€æœ¯æ¢ç´¢ä¹‹æ—…\r\n\r\n æˆ‘ä¸WebGPUçš„\"ç¬¬ä¸€æ¬¡äº²å¯†æ¥è§¦\"\r\n\r\n ç¬¬ä¸€æ¬¡\"ç¿»è½¦\"ï¼šWebGLçš„å±€é™æ€§\r\n\r\nè¿˜è®°å¾—ç¬¬ä¸€æ¬¡å°è¯•ç”¨WebGLåšå¤æ‚3Dæ¸²æŸ“æ—¶ï¼Œæˆ‘ä¿¡å¿ƒæ»¡æ»¡åœ°å¼€å§‹ç¼–ç ï¼š\r\n\r\njavascript\r\n// æˆ‘çš„ç¬¬ä¸€ä¸ª\"æ°ä½œ\" - WebGLå¤æ‚æ¸²æŸ“\r\nco..."}}]}],["$","div",null,{"className":"lg:col-span-1","children":["$","div",null,{"className":"sticky top-24","children":["$","$L4",null,{}]}]}]]}]}],["$","div",null,{"className":"max-w-7xl mx-auto px-4 pb-16","children":["$","$L5",null,{"posts":[{"id":"design-patterns-practical","title":"ğŸ¨ è®¾è®¡æ¨¡å¼å®æˆ˜ï¼šæŠ€æœ¯åºŸæŸ´çš„ä»£ç é‡æ„ä¹‹æ—…","description":"ä»æ··ä¹±ä»£ç åˆ°ä¼˜é›…æ¶æ„ï¼Œåˆ†äº«æˆ‘åœ¨è®¾è®¡æ¨¡å¼å­¦ä¹ è¿‡ç¨‹ä¸­çš„å®ç”¨æŠ€å·§å’Œå®æˆ˜ç»éªŒï¼Œè®°å½•æŠ€æœ¯åºŸæŸ´åœ¨è½¯ä»¶å·¥ç¨‹é¢†åŸŸçš„æˆé•¿è½¨è¿¹ã€‚","date":"2023-12-28","readTime":"18åˆ†é’Ÿ","tags":["è®¾è®¡æ¨¡å¼","ç¼–ç¨‹æŠ€å·§","ä»£ç æ¶æ„","è½¯ä»¶å·¥ç¨‹","æœ€ä½³å®è·µ","è·¨ç•Œæ¢ç´¢"],"category":"è®¡ç®—æœºæŠ€æœ¯","slug":"design-patterns-practical","featured":false,"author":"LJoson","status":"published","content":"$6","excerpt":"\r\n è®¾è®¡æ¨¡å¼å®æˆ˜ï¼šæŠ€æœ¯åºŸæŸ´çš„ä»£ç é‡æ„ä¹‹æ—…\r\n\r\n> ä»\"é¢æ¡ä»£ç \"åˆ°\"ä¼˜é›…æ¶æ„\"ï¼Œæˆ‘çš„è®¾è®¡æ¨¡å¼è¿›åŒ–å²\r\n\r\n æˆ‘ä¸è®¾è®¡æ¨¡å¼çš„\"ç›¸çˆ±ç›¸æ€\"\r\n\r\n ç¬¬ä¸€æ¬¡\"ç¿»è½¦\"ï¼šé¢æ¡ä»£ç çš„è¯ç”Ÿ\r\n\r\nè¿˜è®°å¾—ç¬¬ä¸€æ¬¡å†™æ¸¸æˆç®¡ç†ç³»ç»Ÿæ—¶ï¼Œæˆ‘ä¿¡å¿ƒæ»¡æ»¡åœ°å¼€å§‹ç¼–ç ï¼š\r\n\r\ncsharp\r\n// æˆ‘çš„ç¬¬ä¸€ä¸ª\"æ°ä½œ\" - é¢æ¡ä»£ç \r\npublic class GameController : MonoBehaviour\r\n{\r\n..."},{"id":"vuepress-blog-guide","title":"ğŸ“ VuePressåšå®¢æ­å»ºå®Œå…¨æŒ‡å—ï¼šæŠ€æœ¯åºŸæŸ´çš„å»ºç«™é€‰æ‹©ä¸å®æˆ˜ä¹‹æ—…","description":"ä»æ¡†æ¶é€‰æ‹©åˆ°å®Œæ•´éƒ¨ç½²ï¼Œä»Hexoåˆ°VuePressï¼Œæ·±åº¦å¯¹æ¯”å„ç§åšå®¢æ¡†æ¶çš„ä¼˜åŠ£å¹¶å®æˆ˜æ­å»ºã€‚è®°å½•æˆ‘åœ¨åšå®¢æ­å»ºè¿‡ç¨‹ä¸­çš„æŠ€æœ¯é€‰å‹æ€è€ƒå’Œå®æˆ˜è¸©å‘ç»éªŒï¼Œè®°å½•æŠ€æœ¯åºŸæŸ´åœ¨å‰ç«¯å¼€å‘é¢†åŸŸçš„æˆé•¿è½¨è¿¹ã€‚","date":"2021-02-13","readTime":"25åˆ†é’Ÿ","tags":["VuePress","é™æ€åšå®¢","å‰ç«¯å¼€å‘","Vue","GitHub Pages","æŠ€æœ¯åºŸæŸ´","å»ºç«™æŒ‡å—","æ¡†æ¶å¯¹æ¯”","å®æˆ˜æ•™ç¨‹","è·¨ç•Œæ¢ç´¢"],"category":"è®¡ç®—æœºæŠ€æœ¯","slug":"vuepress-blog-guide","featured":true,"author":"LJoson","status":"published","content":"$7","excerpt":"\r\n VuePressåšå®¢æ­å»ºå®Œå…¨æŒ‡å—ï¼šæŠ€æœ¯åºŸæŸ´çš„å»ºç«™é€‰æ‹©ä¸å®æˆ˜ä¹‹æ—…\r\n\r\n> ä»\"å“ªä¸ªæ¡†æ¶æœ€å¥½\"åˆ°\"å®Œæ•´åšå®¢éƒ¨ç½²\"ï¼Œæˆ‘çš„åšå®¢æ¡†æ¶é€‰æ‹©ä¸å®æˆ˜è¿›åŒ–å²\r\n\r\n æˆ‘ä¸åšå®¢æ¡†æ¶çš„\"ç›¸çˆ±ç›¸æ€\"\r\n\r\n åˆé‡ï¼šè¢«\"æœ€å¥½\"çš„æ¡†æ¶å‘æƒ¨äº†\r\n\r\nè®°å¾—åˆšå¼€å§‹æ­å»ºåšå®¢æ—¶ï¼Œæˆ‘çŠ¯äº†ä¸€ä¸ªç»å…¸é”™è¯¯ï¼šç›²ç›®è¿½æ±‚\"æœ€å¥½\"çš„æ¡†æ¶ã€‚\r\n\r\n\"Hexoæœ€æµè¡Œï¼Œå°±ç”¨Hexoï¼\"\r\n\"WordPressåŠŸèƒ½æœ€å¼ºå¤§ï¼Œå¿…é¡»ç”¨WordPressï¼\"..."},{"id":"docker-windows-installation","title":"ğŸ³ Windows 10å®¶åº­ç‰ˆå®‰è£…Dockerï¼šä¸€ä¸ªæŠ€æœ¯åºŸæŸ´çš„å®¹å™¨åŒ–è¸©å‘ä¹‹æ—…","description":"ä»'è¿™Hyper-Væ€ä¹ˆå¼€å¯'åˆ°'æˆ‘çš„Dockerç»ˆäºèƒ½è·‘äº†'ï¼Œåˆ†äº«æˆ‘åœ¨Windowså®¹å™¨åŒ–é¢†åŸŸçš„çœŸå®æ¢ç´¢ç»å†ï¼Œè®°å½•æŠ€æœ¯åºŸæŸ´åœ¨ç³»ç»Ÿé…ç½®é¢†åŸŸçš„æˆé•¿è½¨è¿¹ã€‚","date":"2020-10-17","readTime":"20åˆ†é’Ÿ","tags":["Docker","Windows","è™šæ‹ŸåŒ–","å®¹å™¨","Hyper-V","Linux","ç³»ç»Ÿé…ç½®","è·¨ç•Œæ¢ç´¢"],"category":"è®¡ç®—æœºæŠ€æœ¯","slug":"docker-windows-installation","featured":true,"author":"LJoson","status":"published","content":"$8","excerpt":"\r\n ğŸ³ Windows 10å®¶åº­ç‰ˆå®‰è£…Dockerï¼šä¸€ä¸ªæŠ€æœ¯åºŸæŸ´çš„å®¹å™¨åŒ–è¸©å‘ä¹‹æ—…\r\n\r\n å®¹å™¨åŒ–ï¼šä»\"ä¸å¯èƒ½\"åˆ°\"çœŸé¦™\"\r\n\r\nè¿˜è®°å¾—ç¬¬ä¸€æ¬¡å¬è¯´Dockeræ—¶çš„å›°æƒ‘å—ï¼Ÿ\"å®¹å™¨åŒ–ï¼Ÿé‚£ä¸æ˜¯è£…ä¸œè¥¿çš„ç›’å­å—ï¼Ÿ\"å½“æ—¶çš„æˆ‘å®Œå…¨æ— æ³•ç†è§£è¿™ä¸ªæ¦‚å¿µã€‚\r\n\r\nç›´åˆ°æœ‰ä¸€å¤©ï¼Œæˆ‘åœ¨éƒ¨ç½²ä¸€ä¸ªé¡¹ç›®æ—¶é‡åˆ°äº†\"ç¯å¢ƒä¾èµ–åœ°ç‹±\"â€”â€”åœ¨æˆ‘çš„ç”µè„‘ä¸Šè¿è¡Œæ­£å¸¸ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå´å„ç§æŠ¥é”™ã€‚é‚£ä¸€åˆ»ï¼Œæˆ‘æ·±åˆ»ç†è§£äº†å®¹å™¨åŒ–çš„ä»·å€¼ã€‚\r\n\r\n æ–¹æ¡ˆå¯¹æ¯”ï¼šé€‰..."}],"currentPost":"$9"}]}]]}]]}]}],null],null],null]},[null,["$","$Lc",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$d","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Le",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[null,["$","$Lc",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Le",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/3689037f0d92e8a5.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"zh-CN","className":"scroll-smooth","children":[["$","head",null,{"children":[["$","link",null,{"rel":"icon","href":"/favicon.svg"}],["$","link",null,{"rel":"apple-touch-icon","href":"/apple-touch-icon.svg"}],["$","link",null,{"rel":"manifest","href":"/manifest.json"}],["$","meta",null,{"name":"theme-color","content":"#ff6b6b"}],["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"WebSite\",\"name\":\"LJoson çš„åºŸæŸ´å°çª\",\"description\":\"ä»æŠ€æœ¯åºŸæŸ´åˆ°è·¨ç•Œæ¢ç´¢è€…çš„è¿›åŒ–ä¹‹è·¯\",\"url\":\"https://ljoson.com\",\"author\":{\"@type\":\"Person\",\"name\":\"LJoson\",\"url\":\"https://ljoson.com\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"GlimmerLab\",\"url\":\"https://glimmerlab.com\"}}"}}]]}],["$","body",null,{"className":"bg-cyber-bg-900 text-white antialiased font-sans selection:bg-fail-red/20 selection:text-white","children":[["$","$Lf",null,{"children":["$","$L10",null,{"children":["$","$L11",null,{"children":["$","div",null,{"className":"min-h-screen flex flex-col relative","children":[["$","div",null,{"className":"fixed inset-0 pointer-events-none","children":[["$","div",null,{"className":"absolute inset-0 bg-gradient-to-br from-fail-red/5 via-transparent to-fail-purple/5"}],["$","div",null,{"className":"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(255,107,107,0.1),transparent_50%)]"}]]}],["$","div",null,{"className":"relative z-10 flex flex-col min-h-screen","children":[["$","$L12",null,{}],["$","main",null,{"className":"flex-1 relative","children":["$","$Lc",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$13","errorStyles":[],"errorScripts":[],"template":["$","$Le",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","$L14",null,{}],"notFoundStyles":[]}]}],["$","$L15",null,{}]]}]]}]}]}]}],["$","script",null,{"dangerouslySetInnerHTML":{"__html":"\n              // æ€§èƒ½ç›‘æ§\n              if (typeof window !== 'undefined') {\n                window.addEventListener('load', () => {\n                  if ('performance' in window) {\n                    const perfData = performance.getEntriesByType('navigation')[0];\n                    if (perfData) {\n                      console.log('é¡µé¢åŠ è½½æ€§èƒ½:', {\n                        'DOMå†…å®¹åŠ è½½': perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart + 'ms',\n                        'é¡µé¢å®Œå…¨åŠ è½½': perfData.loadEventEnd - perfData.loadEventStart + 'ms',\n                        'é¦–æ¬¡å†…å®¹ç»˜åˆ¶': performance.getEntriesByName('first-contentful-paint')[0]?.startTime + 'ms'\n                      });\n                    }\n                  }\n                });\n              }\n            "}}]]}]]}]],null],[["$","$L16",null,{}],[],[]]],["$L17",null]]]]
17:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"âš¡ WebGPUæ·±åº¦æ¢ç´¢ï¼šæŠ€æœ¯åºŸæŸ´çš„å›¾å½¢ç¼–ç¨‹è¿›åŒ–å² - LJoson çš„\"åºŸæŸ´\"å°çª | LJoson çš„\"åºŸæŸ´\"å°çª"}],["$","meta","3",{"name":"description","content":"ä»WebGLåˆ°WebGPUï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§ç‰¹æ€§ï¼Œæ·±å…¥è§£æä¸‹ä¸€ä»£å›¾å½¢APIçš„æŠ€æœ¯åŸç†å’Œå®é™…åº”ç”¨ï¼Œè®°å½•æŠ€æœ¯åºŸæŸ´åœ¨å›¾å½¢ç¼–ç¨‹é¢†åŸŸçš„æˆé•¿è½¨è¿¹ã€‚"}],["$","meta","4",{"name":"author","content":"LJoson"}],["$","meta","5",{"name":"keywords","content":"WebGPU, WebGL, 3Dæ¸²æŸ“, å›¾å½¢API, JavaScript, TypeScript, WebæŠ€æœ¯, GPUç¼–ç¨‹, è·¨ç•Œæ¢ç´¢"}],["$","meta","6",{"name":"creator","content":"LJoson"}],["$","meta","7",{"name":"publisher","content":"LJoson"}],["$","meta","8",{"name":"robots","content":"index, follow"}],["$","meta","9",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","meta","10",{"name":"theme-color","content":"#ff6b6b"}],["$","meta","11",{"name":"color-scheme","content":"dark"}],["$","meta","12",{"name":"viewport-fit","content":"cover"}],["$","link","13",{"rel":"canonical","href":"https://ljoson.com/"}],["$","meta","14",{"name":"format-detection","content":"telephone=no, address=no, email=no"}],["$","meta","15",{"name":"google-site-verification","content":"your-google-verification-code"}],["$","meta","16",{"property":"og:title","content":"âš¡ WebGPUæ·±åº¦æ¢ç´¢ï¼šæŠ€æœ¯åºŸæŸ´çš„å›¾å½¢ç¼–ç¨‹è¿›åŒ–å²"}],["$","meta","17",{"property":"og:description","content":"ä»WebGLåˆ°WebGPUï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§ç‰¹æ€§ï¼Œæ·±å…¥è§£æä¸‹ä¸€ä»£å›¾å½¢APIçš„æŠ€æœ¯åŸç†å’Œå®é™…åº”ç”¨ï¼Œè®°å½•æŠ€æœ¯åºŸæŸ´åœ¨å›¾å½¢ç¼–ç¨‹é¢†åŸŸçš„æˆé•¿è½¨è¿¹ã€‚"}],["$","meta","18",{"property":"og:image","content":"https://ljoson.com/api/og?title=%E2%9A%A1%20WebGPU%E6%B7%B1%E5%BA%A6%E6%8E%A2%E7%B4%A2%EF%BC%9A%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E7%9A%84%E5%9B%BE%E5%BD%A2%E7%BC%96%E7%A8%8B%E8%BF%9B%E5%8C%96%E5%8F%B2&description=%E4%BB%8EWebGL%E5%88%B0WebGPU%EF%BC%8C%E4%BB%8E%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E5%88%B0%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7%EF%BC%8C%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90%E4%B8%8B%E4%B8%80%E4%BB%A3%E5%9B%BE%E5%BD%A2API%E7%9A%84%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E5%92%8C%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%EF%BC%8C%E8%AE%B0%E5%BD%95%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E5%9C%A8%E5%9B%BE%E5%BD%A2%E7%BC%96%E7%A8%8B%E9%A2%86%E5%9F%9F%E7%9A%84%E6%88%90%E9%95%BF%E8%BD%A8%E8%BF%B9%E3%80%82"}],["$","meta","19",{"property":"og:image:width","content":"1200"}],["$","meta","20",{"property":"og:image:height","content":"630"}],["$","meta","21",{"property":"og:image:alt","content":"âš¡ WebGPUæ·±åº¦æ¢ç´¢ï¼šæŠ€æœ¯åºŸæŸ´çš„å›¾å½¢ç¼–ç¨‹è¿›åŒ–å²"}],["$","meta","22",{"property":"og:type","content":"article"}],["$","meta","23",{"property":"article:published_time","content":"2024-01-05"}],["$","meta","24",{"property":"article:author","content":"LJoson"}],["$","meta","25",{"property":"article:tag","content":"WebGPU"}],["$","meta","26",{"property":"article:tag","content":"WebGL"}],["$","meta","27",{"property":"article:tag","content":"3Dæ¸²æŸ“"}],["$","meta","28",{"property":"article:tag","content":"å›¾å½¢API"}],["$","meta","29",{"property":"article:tag","content":"JavaScript"}],["$","meta","30",{"property":"article:tag","content":"TypeScript"}],["$","meta","31",{"property":"article:tag","content":"WebæŠ€æœ¯"}],["$","meta","32",{"property":"article:tag","content":"GPUç¼–ç¨‹"}],["$","meta","33",{"property":"article:tag","content":"è·¨ç•Œæ¢ç´¢"}],["$","meta","34",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","35",{"name":"twitter:title","content":"âš¡ WebGPUæ·±åº¦æ¢ç´¢ï¼šæŠ€æœ¯åºŸæŸ´çš„å›¾å½¢ç¼–ç¨‹è¿›åŒ–å²"}],["$","meta","36",{"name":"twitter:description","content":"ä»WebGLåˆ°WebGPUï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§ç‰¹æ€§ï¼Œæ·±å…¥è§£æä¸‹ä¸€ä»£å›¾å½¢APIçš„æŠ€æœ¯åŸç†å’Œå®é™…åº”ç”¨ï¼Œè®°å½•æŠ€æœ¯åºŸæŸ´åœ¨å›¾å½¢ç¼–ç¨‹é¢†åŸŸçš„æˆé•¿è½¨è¿¹ã€‚"}],["$","meta","37",{"name":"twitter:image","content":"https://ljoson.com/api/og?title=%E2%9A%A1%20WebGPU%E6%B7%B1%E5%BA%A6%E6%8E%A2%E7%B4%A2%EF%BC%9A%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E7%9A%84%E5%9B%BE%E5%BD%A2%E7%BC%96%E7%A8%8B%E8%BF%9B%E5%8C%96%E5%8F%B2&description=%E4%BB%8EWebGL%E5%88%B0WebGPU%EF%BC%8C%E4%BB%8E%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E5%88%B0%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7%EF%BC%8C%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90%E4%B8%8B%E4%B8%80%E4%BB%A3%E5%9B%BE%E5%BD%A2API%E7%9A%84%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E5%92%8C%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%EF%BC%8C%E8%AE%B0%E5%BD%95%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E5%9C%A8%E5%9B%BE%E5%BD%A2%E7%BC%96%E7%A8%8B%E9%A2%86%E5%9F%9F%E7%9A%84%E6%88%90%E9%95%BF%E8%BD%A8%E8%BF%B9%E3%80%82"}]]
1:null
