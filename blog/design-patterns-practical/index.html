<!DOCTYPE html><html lang="zh-CN" class="scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/3689037f0d92e8a5.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-68d128f78d0676ff.js"/><script src="/_next/static/chunks/vendors-2f004d451f05a245.js" async=""></script><script src="/_next/static/chunks/main-app-16ae9989eecab7ce.js" async=""></script><script src="/_next/static/chunks/754-2d7956d0ca320083.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-4898a743cdf7fc4a.js" async=""></script><script src="/_next/static/chunks/app/layout-f6c41656a6971b66.js" async=""></script><script src="/_next/static/chunks/app/error-aca96ac5bb368170.js" async=""></script><script src="/_next/static/chunks/app/not-found-b4a85d88d4259f8a.js" async=""></script><script src="/_next/static/chunks/app/loading-14670c1b72ad4c70.js" async=""></script><link rel="icon" href="/favicon.svg"/><link rel="apple-touch-icon" href="/apple-touch-icon.svg"/><link rel="manifest" href="/manifest.json"/><meta name="theme-color" content="#ff6b6b"/><title>🎨 设计模式实战：技术废柴的代码重构之旅 - LJoson 的&quot;废柴&quot;小窝 | LJoson 的&quot;废柴&quot;小窝</title><meta name="description" content="从混乱代码到优雅架构，分享我在设计模式学习过程中的实用技巧和实战经验，记录技术废柴在软件工程领域的成长轨迹。"/><meta name="author" content="LJoson"/><meta name="keywords" content="设计模式, 编程技巧, 代码架构, 软件工程, 最佳实践, 跨界探索"/><meta name="creator" content="LJoson"/><meta name="publisher" content="LJoson"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><meta name="theme-color" content="#ff6b6b"/><meta name="color-scheme" content="dark"/><meta name="viewport-fit" content="cover"/><link rel="canonical" href="https://ljoson.com/"/><meta name="format-detection" content="telephone=no, address=no, email=no"/><meta name="google-site-verification" content="your-google-verification-code"/><meta property="og:title" content="🎨 设计模式实战：技术废柴的代码重构之旅"/><meta property="og:description" content="从混乱代码到优雅架构，分享我在设计模式学习过程中的实用技巧和实战经验，记录技术废柴在软件工程领域的成长轨迹。"/><meta property="og:image" content="https://ljoson.com/api/og?title=%F0%9F%8E%A8%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AE%9E%E6%88%98%EF%BC%9A%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E6%9E%84%E4%B9%8B%E6%97%85&amp;description=%E4%BB%8E%E6%B7%B7%E4%B9%B1%E4%BB%A3%E7%A0%81%E5%88%B0%E4%BC%98%E9%9B%85%E6%9E%B6%E6%9E%84%EF%BC%8C%E5%88%86%E4%BA%AB%E6%88%91%E5%9C%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7%E5%92%8C%E5%AE%9E%E6%88%98%E7%BB%8F%E9%AA%8C%EF%BC%8C%E8%AE%B0%E5%BD%95%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E5%9C%A8%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E9%A2%86%E5%9F%9F%E7%9A%84%E6%88%90%E9%95%BF%E8%BD%A8%E8%BF%B9%E3%80%82"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="🎨 设计模式实战：技术废柴的代码重构之旅"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2023-12-28"/><meta property="article:author" content="LJoson"/><meta property="article:tag" content="设计模式"/><meta property="article:tag" content="编程技巧"/><meta property="article:tag" content="代码架构"/><meta property="article:tag" content="软件工程"/><meta property="article:tag" content="最佳实践"/><meta property="article:tag" content="跨界探索"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="🎨 设计模式实战：技术废柴的代码重构之旅"/><meta name="twitter:description" content="从混乱代码到优雅架构，分享我在设计模式学习过程中的实用技巧和实战经验，记录技术废柴在软件工程领域的成长轨迹。"/><meta name="twitter:image" content="https://ljoson.com/api/og?title=%F0%9F%8E%A8%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AE%9E%E6%88%98%EF%BC%9A%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E6%9E%84%E4%B9%8B%E6%97%85&amp;description=%E4%BB%8E%E6%B7%B7%E4%B9%B1%E4%BB%A3%E7%A0%81%E5%88%B0%E4%BC%98%E9%9B%85%E6%9E%B6%E6%9E%84%EF%BC%8C%E5%88%86%E4%BA%AB%E6%88%91%E5%9C%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7%E5%92%8C%E5%AE%9E%E6%88%98%E7%BB%8F%E9%AA%8C%EF%BC%8C%E8%AE%B0%E5%BD%95%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E5%9C%A8%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E9%A2%86%E5%9F%9F%E7%9A%84%E6%88%90%E9%95%BF%E8%BD%A8%E8%BF%B9%E3%80%82"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"LJoson 的废柴小窝","description":"从技术废柴到跨界探索者的进化之路","url":"https://ljoson.com","author":{"@type":"Person","name":"LJoson","url":"https://ljoson.com"},"publisher":{"@type":"Organization","name":"GlimmerLab","url":"https://glimmerlab.com"}}</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="bg-cyber-bg-900 text-white antialiased font-sans selection:bg-fail-red/20 selection:text-white"><div class="hidden"><canvas class="fixed inset-0 pointer-events-none z-10" style="background:transparent;filter:blur(0.1px);position:fixed;top:0;left:0;width:100vw;height:100vh"></canvas><div class="fixed top-4 right-4 z-45"><button class="w-12 h-12 bg-cyber-bg-800/80 backdrop-blur-sm border border-cyber-bg-700 rounded-full flex items-center justify-center text-white hover:bg-cyber-bg-700/80 transition-all duration-300" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><circle cx="13.5" cy="6.5" r=".5"></circle><circle cx="17.5" cy="10.5" r=".5"></circle><circle cx="8.5" cy="7.5" r=".5"></circle><circle cx="6.5" cy="12.5" r=".5"></circle><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"></path></svg></button></div><div class="fixed pointer-events-none z-30"><div class="w-3 h-3 bg-white rounded-full shadow-lg shadow-white/50"></div></div><div class="fixed pointer-events-none z-25"><div class="w-12 h-12 bg-fail-red rounded-full blur-md shadow-lg shadow-fail-red/40"></div></div><div class="fixed pointer-events-none z-20"><div class="w-20 h-20 bg-fail-blue rounded-full blur-lg shadow-lg shadow-fail-blue/30"></div></div><div class="fixed pointer-events-none z-15"><div class="w-24 h-24 border-2 border-fail-blue rounded-full"></div></div><div style="opacity:0;transform:translateY(20px) translateZ(0)"><div class="min-h-screen flex flex-col relative"><div class="fixed inset-0 pointer-events-none"><div class="absolute inset-0 bg-gradient-to-br from-fail-red/5 via-transparent to-fail-purple/5"></div><div class="absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(255,107,107,0.1),transparent_50%)]"></div></div><div class="relative z-10 flex flex-col min-h-screen"><header class="fixed top-0 left-0 right-0 z-40 transition-all duration-300 bg-transparent"><nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16"><a href="/" class="flex items-center space-x-2 group"><div class="text-2xl font-bold text-white relative" tabindex="0"><span class="relative z-10 bg-gradient-to-r from-fail-red via-fail-orange to-fail-purple bg-clip-text text-transparent">🚀 LJoson 的&quot;废柴&quot;小窝</span><div class="absolute inset-0 bg-fail-red/10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"></div></div></a><div class="hidden md:flex items-center space-x-8"><a href="/" class="relative text-gray-300 hover:text-fail-red transition-colors duration-200 font-medium group"><span class="relative z-10">首页</span><div class="absolute bottom-0 left-0 w-0 h-0.5 bg-fail-red group-hover:w-full transition-all duration-300"></div></a><a href="/blog/" class="relative text-gray-300 hover:text-fail-red transition-colors duration-200 font-medium group"><span class="relative z-10">博客</span><div class="absolute bottom-0 left-0 w-0 h-0.5 bg-fail-red group-hover:w-full transition-all duration-300"></div></a><a href="/projects/" class="relative text-gray-300 hover:text-fail-red transition-colors duration-200 font-medium group"><span class="relative z-10">个人项目</span><div class="absolute bottom-0 left-0 w-0 h-0.5 bg-fail-red group-hover:w-full transition-all duration-300"></div></a><a href="/glimmerlab/" class="relative text-gray-300 hover:text-fail-red transition-colors duration-200 font-medium group"><span class="relative z-10">品牌项目</span><div class="absolute bottom-0 left-0 w-0 h-0.5 bg-fail-red group-hover:w-full transition-all duration-300"></div></a><a href="/about/" class="relative text-gray-300 hover:text-fail-red transition-colors duration-200 font-medium group"><span class="relative z-10">关于</span><div class="absolute bottom-0 left-0 w-0 h-0.5 bg-fail-red group-hover:w-full transition-all duration-300"></div></a></div><div class="flex items-center space-x-4"><div class="hidden md:block"><div class="p-2 rounded-lg bg-cyber-bg-800/50 border border-cyber-bg-600/50"><div class="w-4 h-4 animate-pulse bg-gray-400 rounded"></div></div></div><div class="md:hidden"><div class="p-2 rounded-lg bg-cyber-bg-800/50 border border-cyber-bg-600/50"><div class="w-4 h-4 animate-pulse bg-gray-400 rounded"></div></div></div><button class="md:hidden p-2 rounded-lg bg-cyber-bg-800/50 hover:bg-cyber-bg-700/50 transition-colors duration-200 backdrop-blur-sm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></nav></header><main class="flex-1 relative"><!--$--><div class="min-h-screen bg-cyber-bg-900"><div class="relative overflow-hidden"><div class="absolute inset-0 bg-gradient-to-br from-fail-red/5 via-fail-orange/3 to-fail-purple/5"></div><div class="relative z-10"><div class="max-w-7xl mx-auto px-4 py-8"><div class="grid grid-cols-1 lg:grid-cols-4 gap-8"><div class="lg:col-span-3 w-full"><div class="min-h-screen bg-cyber-bg-900 flex items-center justify-center"><div class="text-center"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-fail-red mx-auto mb-4"></div><p class="text-gray-400">正在加载文章内容...</p></div></div></div><div class="lg:col-span-1"><div class="sticky top-24"><div class="space-y-8"><div class="fail-card"><div class="animate-pulse"><div class="h-4 bg-cyber-bg-700 rounded mb-4"></div><div class="h-4 bg-cyber-bg-700 rounded mb-2"></div><div class="h-4 bg-cyber-bg-700 rounded"></div></div></div><div class="fail-card"><div class="animate-pulse"><div class="h-4 bg-cyber-bg-700 rounded mb-4"></div><div class="h-4 bg-cyber-bg-700 rounded mb-2"></div><div class="h-4 bg-cyber-bg-700 rounded"></div></div></div><div class="fail-card"><div class="animate-pulse"><div class="h-4 bg-cyber-bg-700 rounded mb-4"></div><div class="h-4 bg-cyber-bg-700 rounded mb-2"></div><div class="h-4 bg-cyber-bg-700 rounded"></div></div></div><div class="fail-card"><div class="animate-pulse"><div class="h-4 bg-cyber-bg-700 rounded mb-4"></div><div class="h-4 bg-cyber-bg-700 rounded mb-2"></div><div class="h-4 bg-cyber-bg-700 rounded"></div></div></div></div></div></div></div></div><div class="max-w-7xl mx-auto px-4 pb-16"><div class="max-w-6xl mx-auto" style="opacity:0;transform:translateY(20px) translateZ(0)"><div class="text-center mb-12"><div class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-fail-red/10 to-fail-orange/10 rounded-full border border-fail-red/20 mb-6" style="opacity:0;transform:scale(0.9) translateZ(0)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-fail-red mr-2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path><path d="M5 3v4"></path><path d="M19 17v4"></path><path d="M3 5h4"></path><path d="M17 19h4"></path></svg><span class="text-fail-orange font-medium">推荐阅读</span></div><h2 class="text-3xl md:text-4xl font-bold text-white mb-4 bg-gradient-to-r from-fail-red via-fail-orange to-fail-purple bg-clip-text text-transparent">相关文章推荐</h2><p class="text-gray-400 text-lg max-w-2xl mx-auto">继续探索更多<!-- -->计算机技术<!-- -->相关的内容，发现更多技术废柴的成长故事</p></div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"><article class="group relative" style="opacity:0;transform:translateY(20px) translateZ(0)"><a href="/blog/webgpu-3d-rendering/" class="block bg-gradient-to-br from-cyber-bg-800 to-cyber-bg-900 rounded-xl p-6 border border-cyber-bg-700 hover:border-fail-orange transition-all duration-500 hover:shadow-2xl hover:shadow-fail-red/20 group-hover:-translate-y-2 relative overflow-hidden"><div class="absolute inset-0 bg-gradient-to-br from-fail-red/5 via-transparent to-fail-orange/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div><div class="absolute top-4 right-4 z-10"><span class="inline-flex items-center px-3 py-1 bg-gradient-to-r from-fail-red to-fail-orange text-white text-xs font-medium rounded-full shadow-lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline><polyline points="16 7 22 7 22 13"></polyline></svg>热门</span></div><div class="relative z-10"><h3 class="text-xl font-bold text-white mb-3 group-hover:text-fail-orange transition-colors line-clamp-2 leading-tight">⚡ WebGPU深度探索：技术废柴的图形编程进化史</h3><p class="text-gray-400 mb-4 line-clamp-3 leading-relaxed text-sm">从WebGL到WebGPU，从基础概念到高级特性，深入解析下一代图形API的技术原理和实际应用，记录技术废柴在图形编程领域的成长轨迹。</p><div class="flex flex-wrap items-center gap-3 text-xs text-gray-500 mb-4"><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line></svg><span>2024-01-05</span></div><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg><span>18分钟</span></div><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg><span>488</span></div></div><div class="flex items-center justify-between mb-4"><span class="px-3 py-1 bg-cyber-bg-700 text-fail-orange rounded-full text-xs font-medium border border-cyber-bg-600">计算机技术</span></div><div class="flex flex-wrap gap-2 mb-4"><span class="px-2 py-1 bg-cyber-bg-700 text-fail-orange rounded-full text-xs border border-cyber-bg-600 hover:border-fail-orange transition-colors">WebGPU</span><span class="px-2 py-1 bg-cyber-bg-700 text-fail-orange rounded-full text-xs border border-cyber-bg-600 hover:border-fail-orange transition-colors">WebGL</span><span class="px-2 py-1 bg-cyber-bg-700 text-gray-400 rounded-full text-xs border border-cyber-bg-600">+<!-- -->7</span></div><div class="flex items-center text-fail-orange group-hover:text-fail-red transition-colors"><span class="text-sm font-medium">阅读更多</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></div></div><div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-fail-red to-fail-orange transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"></div></a></article><article class="group relative" style="opacity:0;transform:translateY(20px) translateZ(0)"><a href="/blog/vuepress-blog-guide/" class="block bg-gradient-to-br from-cyber-bg-800 to-cyber-bg-900 rounded-xl p-6 border border-cyber-bg-700 hover:border-fail-orange transition-all duration-500 hover:shadow-2xl hover:shadow-fail-red/20 group-hover:-translate-y-2 relative overflow-hidden"><div class="absolute inset-0 bg-gradient-to-br from-fail-red/5 via-transparent to-fail-orange/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div><div class="relative z-10"><h3 class="text-xl font-bold text-white mb-3 group-hover:text-fail-orange transition-colors line-clamp-2 leading-tight">📝 VuePress博客搭建完全指南：技术废柴的建站选择与实战之旅</h3><p class="text-gray-400 mb-4 line-clamp-3 leading-relaxed text-sm">从框架选择到完整部署，从Hexo到VuePress，深度对比各种博客框架的优劣并实战搭建。记录我在博客搭建过程中的技术选型思考和实战踩坑经验，记录技术废柴在前端开发领域的成长轨迹。</p><div class="flex flex-wrap items-center gap-3 text-xs text-gray-500 mb-4"><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line></svg><span>2021-02-13</span></div><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg><span>25分钟</span></div><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg><span>252</span></div></div><div class="flex items-center justify-between mb-4"><span class="px-3 py-1 bg-cyber-bg-700 text-fail-orange rounded-full text-xs font-medium border border-cyber-bg-600">计算机技术</span></div><div class="flex flex-wrap gap-2 mb-4"><span class="px-2 py-1 bg-cyber-bg-700 text-fail-orange rounded-full text-xs border border-cyber-bg-600 hover:border-fail-orange transition-colors">VuePress</span><span class="px-2 py-1 bg-cyber-bg-700 text-fail-orange rounded-full text-xs border border-cyber-bg-600 hover:border-fail-orange transition-colors">静态博客</span><span class="px-2 py-1 bg-cyber-bg-700 text-gray-400 rounded-full text-xs border border-cyber-bg-600">+<!-- -->8</span></div><div class="flex items-center text-fail-orange group-hover:text-fail-red transition-colors"><span class="text-sm font-medium">阅读更多</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></div></div><div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-fail-red to-fail-orange transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"></div></a></article><article class="group relative" style="opacity:0;transform:translateY(20px) translateZ(0)"><a href="/blog/docker-windows-installation/" class="block bg-gradient-to-br from-cyber-bg-800 to-cyber-bg-900 rounded-xl p-6 border border-cyber-bg-700 hover:border-fail-orange transition-all duration-500 hover:shadow-2xl hover:shadow-fail-red/20 group-hover:-translate-y-2 relative overflow-hidden"><div class="absolute inset-0 bg-gradient-to-br from-fail-red/5 via-transparent to-fail-orange/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div><div class="relative z-10"><h3 class="text-xl font-bold text-white mb-3 group-hover:text-fail-orange transition-colors line-clamp-2 leading-tight">🐳 Windows 10家庭版安装Docker：一个技术废柴的容器化踩坑之旅</h3><p class="text-gray-400 mb-4 line-clamp-3 leading-relaxed text-sm">从&#x27;这Hyper-V怎么开启&#x27;到&#x27;我的Docker终于能跑了&#x27;，分享我在Windows容器化领域的真实探索经历，记录技术废柴在系统配置领域的成长轨迹。</p><div class="flex flex-wrap items-center gap-3 text-xs text-gray-500 mb-4"><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line></svg><span>2020-10-17</span></div><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg><span>20分钟</span></div><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-1"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg><span>91</span></div></div><div class="flex items-center justify-between mb-4"><span class="px-3 py-1 bg-cyber-bg-700 text-fail-orange rounded-full text-xs font-medium border border-cyber-bg-600">计算机技术</span></div><div class="flex flex-wrap gap-2 mb-4"><span class="px-2 py-1 bg-cyber-bg-700 text-fail-orange rounded-full text-xs border border-cyber-bg-600 hover:border-fail-orange transition-colors">Docker</span><span class="px-2 py-1 bg-cyber-bg-700 text-fail-orange rounded-full text-xs border border-cyber-bg-600 hover:border-fail-orange transition-colors">Windows</span><span class="px-2 py-1 bg-cyber-bg-700 text-gray-400 rounded-full text-xs border border-cyber-bg-600">+<!-- -->6</span></div><div class="flex items-center text-fail-orange group-hover:text-fail-red transition-colors"><span class="text-sm font-medium">阅读更多</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></div></div><div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-fail-red to-fail-orange transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"></div></a></article></div><div class="text-center mt-16" style="opacity:0;transform:translateY(20px) translateZ(0)"><div class="flex flex-col items-center space-y-6"><div class="flex items-center space-x-8 text-gray-400"><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2 text-fail-orange"><path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"></path><path d="M7 7h.01"></path></svg><span class="text-sm">共 <!-- -->3<!-- --> 篇相关文章</span></div><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2 text-fail-orange"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg><span class="text-sm">预计阅读时间 <!-- -->15<!-- --> 分钟</span></div></div><a href="/blog/" class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-fail-red to-fail-orange text-white rounded-lg hover:from-fail-orange hover:to-fail-purple transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-xl group"><span class="font-medium">探索更多文章</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></a><div class="flex items-center space-x-4"><span class="text-gray-400 text-sm">快速导航：</span><div class="flex items-center space-x-2"><a href="/blog/?category=计算机技术" class="px-3 py-1 bg-cyber-bg-800 text-fail-orange rounded-full text-xs border border-cyber-bg-700 hover:border-fail-orange transition-colors">计算机技术</a><a href="/blog/?tag=设计模式" class="px-3 py-1 bg-cyber-bg-800 text-gray-400 rounded-full text-xs border border-cyber-bg-700 hover:border-fail-orange hover:text-fail-orange transition-colors">设计模式</a><a href="/blog/?tag=编程技巧" class="px-3 py-1 bg-cyber-bg-800 text-gray-400 rounded-full text-xs border border-cyber-bg-700 hover:border-fail-orange hover:text-fail-orange transition-colors">编程技巧</a></div></div></div></div></div></div></div></div></div><!--/$--></main><footer class="bg-cyber-bg-800/90 backdrop-blur-sm border-t border-cyber-bg-700 relative z-35" style="opacity:0;transform:translateY(20px) translateZ(0)"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"><div class="grid grid-cols-1 md:grid-cols-4 gap-8"><div class="col-span-1 md:col-span-2"><div><a class="flex items-center space-x-2 mb-4" href="/"><div class="text-2xl font-bold cyber-gradient">🚀 &quot;废柴&quot;探索者</div></a></div><p class="text-gray-400 mb-4 max-w-md">从技术&quot;废柴&quot;到跨界探索者的进化之路！从机器人到游戏，从代码到内容创作，用技术点亮创意！</p><div class="flex space-x-4"><a href="https://github.com/LJoson" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-fail-red transition-colors duration-200" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a href="https://x.com/glimmer_AIlab" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-fail-red transition-colors duration-200" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg></a><a href="mailto:junli440883@gmail.com" class="text-gray-400 hover:text-fail-red transition-colors duration-200" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg></a></div></div><div><h3 class="text-lg font-semibold mb-4 neon-text">快速链接</h3><ul class="space-y-2"><li><a class="text-gray-400 hover:text-fail-red transition-colors duration-200" href="/blog">博客</a></li><li><a class="text-gray-400 hover:text-fail-red transition-colors duration-200" href="/projects">个人项目</a></li><li><a class="text-gray-400 hover:text-fail-red transition-colors duration-200" href="/glimmerlab">品牌项目</a></li><li><a class="text-gray-400 hover:text-fail-red transition-colors duration-200" href="/about">关于</a></li></ul></div><div><h3 class="text-lg font-semibold mb-4 neon-text">技术栈</h3><ul class="space-y-2"><li class="text-gray-400">🤖 AI &amp; 机器学习</li><li class="text-gray-400">🎮 游戏开发</li><li class="text-gray-400">💻 Web技术</li><li class="text-gray-400">🎨 动画与交互</li></ul></div></div><div class="border-t border-cyber-bg-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center"><p class="text-gray-400 text-sm">© <!-- -->2025<!-- --> LJoson 的&quot;废柴&quot;小窝. 保留所有权利.</p><div class="text-gray-400 text-sm flex items-center mt-2 md:mt-0"><span>Made with </span><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mx-1 text-fail-red"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path></svg></div><span> by LJoson</span></div></div></div></footer></div></div></div></div><script>
              // 性能监控
              if (typeof window !== 'undefined') {
                window.addEventListener('load', () => {
                  if ('performance' in window) {
                    const perfData = performance.getEntriesByType('navigation')[0];
                    if (perfData) {
                      console.log('页面加载性能:', {
                        'DOM内容加载': perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart + 'ms',
                        '页面完全加载': perfData.loadEventEnd - perfData.loadEventStart + 'ms',
                        '首次内容绘制': performance.getEntriesByName('first-contentful-paint')[0]?.startTime + 'ms'
                      });
                    }
                  }
                });
              }
            </script><script src="/_next/static/chunks/webpack-68d128f78d0676ff.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/3689037f0d92e8a5.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"2:I[2846,[],\"\"]\n4:I[313,[\"754\",\"static/chunks/754-2d7956d0ca320083.js\",\"308\",\"static/chunks/app/blog/%5Bslug%5D/page-4898a743cdf7fc4a.js\"],\"BlogDetail\"]\n6:I[1270,[\"754\",\"static/chunks/754-2d7956d0ca320083.js\",\"308\",\"static/chunks/app/blog/%5Bslug%5D/page-4898a743cdf7fc4a.js\"],\"BlogSidebar\"]\n7:I[4420,[\"754\",\"static/chunks/754-2d7956d0ca320083.js\",\"308\",\"static/chunks/app/blog/%5Bslug%5D/page-4898a743cdf7fc4a.js\"],\"RelatedPosts\"]\ne:I[4707,[],\"\"]\n10:I[6423,[],\"\"]\n11:I[3529,[\"185\",\"static/chunks/app/layout-f6c41656a6971b66.js\"],\"ThemeProvider\"]\n12:I[4326,[\"185\",\"static/chunks/app/layout-f6c41656a6971b66.js\"],\"ClientLayout\"]\n13:I[3164,[\"185\",\"static/chunks/app/layout-f6c41656a6971b66.js\"],\"PageTransition\"]\n14:I[3157,[\"185\",\"static/chunks/app/layout-f6c41656a6971b66.js\"],\"Header\"]\n15:I[3490,[\"601\",\"static/chunks/app/error-aca96ac5bb368170.js\"],\"default\"]\n16:I[5447,[\"160\",\"static/chunks/app/not-found-b4a85d88d4259f8a.js\"],\"default\"]\n17:I[2063,[\"185\",\"static/chunks/app/layout-f6c41656a6971b66.js\"],\"Footer\"]\n18:I[9615,[\"555\",\"static/chunks/app/loading-14670c1b72ad4c70.js\"],\"default\"]\n1a:I[1060,[],\"\"]\n5:T61c9,"])</script><script>self.__next_f.push([1,"\r\n# 设计模式实战：技术废柴的代码重构之旅\r\n\r\n\u003e 从\"面条代码\"到\"优雅架构\"，我的设计模式进化史\r\n\r\n## 我与设计模式的\"相爱相杀\"\r\n\r\n### 第一次\"翻车\"：面条代码的诞生\r\n\r\n还记得第一次写游戏管理系统时，我信心满满地开始编码：\r\n\r\n```csharp\r\n// 我的第一个\"杰作\" - 面条代码\r\npublic class GameController : MonoBehaviour\r\n{\r\n    public int playerHealth = 100;\r\n    public int playerScore = 0;\r\n    public bool isGamePaused = false;\r\n    public string currentLevel = \"Level1\";\r\n    public float gameTime = 0f;\r\n\r\n    // 玩家相关\r\n    public void TakeDamage(int damage) {\r\n        playerHealth -= damage;\r\n        if (playerHealth \u003c= 0) {\r\n            GameOver();\r\n        }\r\n    }\r\n\r\n    public void AddScore(int points) {\r\n        playerScore += points;\r\n        UpdateUI();\r\n    }\r\n\r\n    public void PauseGame() {\r\n        isGamePaused = true;\r\n        Time.timeScale = 0;\r\n    }\r\n\r\n    public void ResumeGame() {\r\n        isGamePaused = false;\r\n        Time.timeScale = 1;\r\n    }\r\n\r\n    // UI相关\r\n    public void UpdateUI() {\r\n        // 更新所有UI元素\r\n        healthText.text = \"Health: \" + playerHealth;\r\n        scoreText.text = \"Score: \" + playerScore;\r\n        levelText.text = \"Level: \" + currentLevel;\r\n        timeText.text = \"Time: \" + gameTime;\r\n    }\r\n\r\n    // 音频相关\r\n    public void PlaySound(string soundName) {\r\n        // 播放音效\r\n    }\r\n\r\n    // 场景相关\r\n    public void LoadLevel(string levelName) {\r\n        // 加载场景\r\n    }\r\n\r\n    // 数据相关\r\n    public void SaveGame() {\r\n        // 保存游戏数据\r\n    }\r\n\r\n    public void LoadGame() {\r\n        // 加载游戏数据\r\n    }\r\n\r\n    // 网络相关\r\n    public void SendScoreToServer() {\r\n        // 发送分数到服务器\r\n    }\r\n}\r\n```\r\n\r\n结果呢？这个类越来越大，功能越来越混乱，维护起来痛苦不堪。导师看到后直接给我发了个\"🤦‍♂️\"的表情：\"你这是在做'面条代码'吗？\"\r\n\r\n### 第二次尝试：过度设计的\"灾难\"\r\n\r\n好不容易学会了设计模式，我又开始\"过度设计\"：\r\n\r\n```csharp\r\n// 我的\"过度设计\"杰作\r\npublic interface IGameState {\r\n    void Enter();\r\n    void Exit();\r\n    void Update();\r\n}\r\n\r\npublic abstract class AbstractGameState : IGameState {\r\n    protected GameStateMachine stateMachine;\r\n\r\n    public virtual void Enter() {}\r\n    public virtual void Exit() {}\r\n    public virtual void Update() {}\r\n}\r\n\r\npublic class PlayingState : AbstractGameState {\r\n    public override void Enter() {\r\n        // 进入游戏状态\r\n    }\r\n}\r\n\r\npublic class PausedState : AbstractGameState {\r\n    public override void Enter() {\r\n        // 进入暂停状态\r\n    }\r\n}\r\n\r\npublic class GameOverState : AbstractGameState {\r\n    public override void Enter() {\r\n        // 进入游戏结束状态\r\n    }\r\n}\r\n\r\npublic class GameStateMachine {\r\n    private IGameState currentState;\r\n    private Dictionary\u003cType, IGameState\u003e states;\r\n\r\n    public void ChangeState\u003cT\u003e() where T : IGameState {\r\n        // 状态切换逻辑\r\n    }\r\n}\r\n\r\n// 工厂模式\r\npublic interface IGameObjectFactory {\r\n    GameObject CreateGameObject(string type);\r\n}\r\n\r\npublic class GameObjectFactory : IGameObjectFactory {\r\n    public GameObject CreateGameObject(string type) {\r\n        // 创建游戏对象\r\n    }\r\n}\r\n\r\n// 观察者模式\r\npublic interface IObserver {\r\n    void OnNotify(string eventName, object data);\r\n}\r\n\r\npublic class GameEventSystem {\r\n    private Dictionary\u003cstring, List\u003cIObserver\u003e\u003e observers;\r\n\r\n    public void AddObserver(string eventName, IObserver observer) {\r\n        // 添加观察者\r\n    }\r\n\r\n    public void Notify(string eventName, object data) {\r\n        // 通知观察者\r\n    }\r\n}\r\n```\r\n\r\n这次更惨，为了一个简单的游戏管理系统，我写了十几个类和接口，代码复杂度直线上升。我的\"优雅架构\"变成了\"过度设计\"的灾难。\r\n\r\n### 觉醒时刻：设计模式不是银弹，是工具\r\n\r\n经过无数次的\"翻车\"经历，我终于明白：设计模式不是银弹，而是工具。关键是要在合适的地方使用合适的设计模式，而不是为了使用设计模式而使用设计模式。\r\n\r\n## 实用设计模式：从问题到解决方案\r\n\r\n### 1. 单例模式：全局管理器的救星\r\n\r\n#### 问题场景：游戏管理器\r\n\r\n**问题描述：**\r\n- 需要全局访问游戏状态\r\n- 避免创建多个实例\r\n- 跨场景保持数据\r\n\r\n**解决方案：**\r\n\r\n```csharp\r\npublic class GameManager : MonoBehaviour\r\n{\r\n    // 私有静态实例\r\n    private static GameManager _instance;\r\n\r\n    // 公共访问点\r\n    public static GameManager Instance\r\n    {\r\n        get\r\n        {\r\n            if (_instance == null)\r\n            {\r\n                _instance = FindObjectOfType\u003cGameManager\u003e();\r\n\r\n                if (_instance == null)\r\n                {\r\n                    GameObject go = new GameObject(\"GameManager\");\r\n                    _instance = go.AddComponent\u003cGameManager\u003e();\r\n                    DontDestroyOnLoad(go);\r\n                }\r\n            }\r\n            return _instance;\r\n        }\r\n    }\r\n\r\n    // 游戏数据\r\n    public int PlayerHealth { get; private set; } = 100;\r\n    public int PlayerScore { get; private set; } = 0;\r\n    public bool IsGamePaused { get; private set; } = false;\r\n\r\n    // 游戏方法\r\n    public void TakeDamage(int damage)\r\n    {\r\n        PlayerHealth = Mathf.Max(0, PlayerHealth - damage);\r\n        if (PlayerHealth \u003c= 0)\r\n        {\r\n            GameOver();\r\n        }\r\n    }\r\n\r\n    public void AddScore(int points)\r\n    {\r\n        PlayerScore += points;\r\n    }\r\n\r\n    public void PauseGame()\r\n    {\r\n        IsGamePaused = true;\r\n        Time.timeScale = 0;\r\n    }\r\n\r\n    public void ResumeGame()\r\n    {\r\n        IsGamePaused = false;\r\n        Time.timeScale = 1;\r\n    }\r\n\r\n    private void GameOver()\r\n    {\r\n        // 游戏结束逻辑\r\n        Debug.Log(\"Game Over!\");\r\n    }\r\n}\r\n\r\n// 使用示例\r\npublic class PlayerController : MonoBehaviour\r\n{\r\n    void Update()\r\n    {\r\n        if (Input.GetKeyDown(KeyCode.Space))\r\n        {\r\n            GameManager.Instance.AddScore(10);\r\n        }\r\n\r\n        if (Input.GetKeyDown(KeyCode.P))\r\n        {\r\n            if (GameManager.Instance.IsGamePaused)\r\n                GameManager.Instance.ResumeGame();\r\n            else\r\n                GameManager.Instance.PauseGame();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**使用场景：**\r\n- 游戏管理器\r\n- 音频管理器\r\n- 配置管理器\r\n- 网络管理器\r\n\r\n### 2. 观察者模式：解耦事件系统\r\n\r\n#### 问题场景：UI更新和游戏事件\r\n\r\n**问题描述：**\r\n- 游戏状态变化时需要更新多个UI\r\n- 避免直接依赖\r\n- 支持动态添加/移除监听者\r\n\r\n**解决方案：**\r\n\r\n```csharp\r\n// 事件系统\r\npublic class GameEventSystem\r\n{\r\n    private static GameEventSystem _instance;\r\n    public static GameEventSystem Instance\r\n    {\r\n        get\r\n        {\r\n            if (_instance == null)\r\n                _instance = new GameEventSystem();\r\n            return _instance;\r\n        }\r\n    }\r\n\r\n    private Dictionary\u003cstring, List\u003cAction\u003cobject\u003e\u003e\u003e _events;\r\n\r\n    private GameEventSystem()\r\n    {\r\n        _events = new Dictionary\u003cstring, List\u003cAction\u003cobject\u003e\u003e\u003e();\r\n    }\r\n\r\n    public void Subscribe(string eventName, Action\u003cobject\u003e callback)\r\n    {\r\n        if (!_events.ContainsKey(eventName))\r\n            _events[eventName] = new List\u003cAction\u003cobject\u003e\u003e();\r\n\r\n        _events[eventName].Add(callback);\r\n    }\r\n\r\n    public void Unsubscribe(string eventName, Action\u003cobject\u003e callback)\r\n    {\r\n        if (_events.ContainsKey(eventName))\r\n            _events[eventName].Remove(callback);\r\n    }\r\n\r\n    public void Publish(string eventName, object data = null)\r\n    {\r\n        if (_events.ContainsKey(eventName))\r\n        {\r\n            foreach (var callback in _events[eventName])\r\n            {\r\n                callback?.Invoke(data);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// 使用示例\r\npublic class HealthUI : MonoBehaviour\r\n{\r\n    public Text healthText;\r\n\r\n    void Start()\r\n    {\r\n        // 订阅健康值变化事件\r\n        GameEventSystem.Instance.Subscribe(\"HealthChanged\", OnHealthChanged);\r\n    }\r\n\r\n    void OnDestroy()\r\n    {\r\n        // 取消订阅\r\n        GameEventSystem.Instance.Unsubscribe(\"HealthChanged\", OnHealthChanged);\r\n    }\r\n\r\n    void OnHealthChanged(object data)\r\n    {\r\n        int health = (int)data;\r\n        healthText.text = $\"Health: {health}\";\r\n    }\r\n}\r\n\r\npublic class ScoreUI : MonoBehaviour\r\n{\r\n    public Text scoreText;\r\n\r\n    void Start()\r\n    {\r\n        // 订阅分数变化事件\r\n        GameEventSystem.Instance.Subscribe(\"ScoreChanged\", OnScoreChanged);\r\n    }\r\n\r\n    void OnDestroy()\r\n    {\r\n        GameEventSystem.Instance.Unsubscribe(\"ScoreChanged\", OnScoreChanged);\r\n    }\r\n\r\n    void OnScoreChanged(object data)\r\n    {\r\n        int score = (int)data;\r\n        scoreText.text = $\"Score: {score}\";\r\n    }\r\n}\r\n\r\n// 在GameManager中发布事件\r\npublic class GameManager : MonoBehaviour\r\n{\r\n    public void TakeDamage(int damage)\r\n    {\r\n        PlayerHealth = Mathf.Max(0, PlayerHealth - damage);\r\n\r\n        // 发布健康值变化事件\r\n        GameEventSystem.Instance.Publish(\"HealthChanged\", PlayerHealth);\r\n\r\n        if (PlayerHealth \u003c= 0)\r\n        {\r\n            GameEventSystem.Instance.Publish(\"GameOver\");\r\n        }\r\n    }\r\n\r\n    public void AddScore(int points)\r\n    {\r\n        PlayerScore += points;\r\n\r\n        // 发布分数变化事件\r\n        GameEventSystem.Instance.Publish(\"ScoreChanged\", PlayerScore);\r\n    }\r\n}\r\n```\r\n\r\n**使用场景：**\r\n- UI更新\r\n- 游戏事件处理\r\n- 成就系统\r\n- 音频播放\r\n\r\n### 3. 工厂模式：对象创建的优雅方式\r\n\r\n#### 问题场景：游戏对象创建\r\n\r\n**问题描述：**\r\n- 需要创建不同类型的游戏对象\r\n- 创建逻辑复杂\r\n- 需要统一管理\r\n\r\n**解决方案：**\r\n\r\n```csharp\r\n// 游戏对象基类\r\npublic abstract class GameObject\r\n{\r\n    public string Name { get; set; }\r\n    public Vector3 Position { get; set; }\r\n\r\n    public abstract void Initialize();\r\n    public abstract void Update();\r\n}\r\n\r\n// 具体游戏对象\r\npublic class Player : GameObject\r\n{\r\n    public int Health { get; set; }\r\n    public float Speed { get; set; }\r\n\r\n    public override void Initialize()\r\n    {\r\n        Health = 100;\r\n        Speed = 5f;\r\n        Debug.Log($\"Player {Name} initialized with {Health} health\");\r\n    }\r\n\r\n    public override void Update()\r\n    {\r\n        // 玩家更新逻辑\r\n    }\r\n}\r\n\r\npublic class Enemy : GameObject\r\n{\r\n    public int Damage { get; set; }\r\n    public float AttackRange { get; set; }\r\n\r\n    public override void Initialize()\r\n    {\r\n        Damage = 10;\r\n        AttackRange = 2f;\r\n        Debug.Log($\"Enemy {Name} initialized with {Damage} damage\");\r\n    }\r\n\r\n    public override void Update()\r\n    {\r\n        // 敌人更新逻辑\r\n    }\r\n}\r\n\r\npublic class Item : GameObject\r\n{\r\n    public string ItemType { get; set; }\r\n    public int Value { get; set; }\r\n\r\n    public override void Initialize()\r\n    {\r\n        Value = 50;\r\n        Debug.Log($\"Item {Name} of type {ItemType} initialized\");\r\n    }\r\n\r\n    public override void Update()\r\n    {\r\n        // 物品更新逻辑\r\n    }\r\n}\r\n\r\n// 工厂类\r\npublic class GameObjectFactory\r\n{\r\n    public static GameObject CreateGameObject(string type, string name, Vector3 position)\r\n    {\r\n        GameObject gameObject = null;\r\n\r\n        switch (type.ToLower())\r\n        {\r\n            case \"player\":\r\n                gameObject = new Player();\r\n                break;\r\n            case \"enemy\":\r\n                gameObject = new Enemy();\r\n                break;\r\n            case \"item\":\r\n                gameObject = new Item();\r\n                break;\r\n            default:\r\n                throw new ArgumentException($\"Unknown game object type: {type}\");\r\n        }\r\n\r\n        gameObject.Name = name;\r\n        gameObject.Position = position;\r\n        gameObject.Initialize();\r\n\r\n        return gameObject;\r\n    }\r\n}\r\n\r\n// 使用示例\r\npublic class GameController : MonoBehaviour\r\n{\r\n    void Start()\r\n    {\r\n        // 创建玩家\r\n        var player = GameObjectFactory.CreateGameObject(\"player\", \"Hero\", new Vector3(0, 0, 0));\r\n\r\n        // 创建敌人\r\n        var enemy = GameObjectFactory.CreateGameObject(\"enemy\", \"Goblin\", new Vector3(5, 0, 0));\r\n\r\n        // 创建物品\r\n        var item = GameObjectFactory.CreateGameObject(\"item\", \"HealthPotion\", new Vector3(2, 0, 0));\r\n    }\r\n}\r\n```\r\n\r\n**使用场景：**\r\n- 游戏对象创建\r\n- 武器系统\r\n- 道具系统\r\n- 敌人生成\r\n\r\n### 4. 策略模式：算法的灵活切换\r\n\r\n#### 问题场景：AI行为系统\r\n\r\n**问题描述：**\r\n- 敌人有不同的行为模式\r\n- 需要动态切换行为\r\n- 避免大量的if-else语句\r\n\r\n**解决方案：**\r\n\r\n```csharp\r\n// 行为策略接口\r\npublic interface IAIBehavior\r\n{\r\n    void Execute(GameObject target);\r\n}\r\n\r\n// 具体行为策略\r\npublic class AggressiveBehavior : IAIBehavior\r\n{\r\n    public void Execute(GameObject target)\r\n    {\r\n        Debug.Log(\"Aggressive: Charging at target!\");\r\n        // 攻击行为逻辑\r\n    }\r\n}\r\n\r\npublic class DefensiveBehavior : IAIBehavior\r\n{\r\n    public void Execute(GameObject target)\r\n    {\r\n        Debug.Log(\"Defensive: Keeping distance from target!\");\r\n        // 防御行为逻辑\r\n    }\r\n}\r\n\r\npublic class StealthBehavior : IAIBehavior\r\n{\r\n    public void Execute(GameObject target)\r\n    {\r\n        Debug.Log(\"Stealth: Sneaking around target!\");\r\n        // 潜行行为逻辑\r\n    }\r\n}\r\n\r\npublic class PatrolBehavior : IAIBehavior\r\n{\r\n    public void Execute(GameObject target)\r\n    {\r\n        Debug.Log(\"Patrol: Patrolling the area!\");\r\n        // 巡逻行为逻辑\r\n    }\r\n}\r\n\r\n// AI控制器\r\npublic class AIController\r\n{\r\n    private IAIBehavior currentBehavior;\r\n    private GameObject target;\r\n\r\n    public void SetBehavior(IAIBehavior behavior)\r\n    {\r\n        currentBehavior = behavior;\r\n    }\r\n\r\n    public void SetTarget(GameObject newTarget)\r\n    {\r\n        target = newTarget;\r\n    }\r\n\r\n    public void Update()\r\n    {\r\n        if (currentBehavior != null \u0026\u0026 target != null)\r\n        {\r\n            currentBehavior.Execute(target);\r\n        }\r\n    }\r\n}\r\n\r\n// 使用示例\r\npublic class EnemyAI : MonoBehaviour\r\n{\r\n    private AIController aiController;\r\n    private GameObject player;\r\n\r\n    void Start()\r\n    {\r\n        aiController = new AIController();\r\n        player = GameObject.FindGameObjectWithTag(\"Player\");\r\n        aiController.SetTarget(player);\r\n\r\n        // 根据敌人类型设置行为\r\n        SetBehaviorByType();\r\n    }\r\n\r\n    void Update()\r\n    {\r\n        aiController.Update();\r\n    }\r\n\r\n    void SetBehaviorByType()\r\n    {\r\n        string enemyType = gameObject.tag;\r\n\r\n        switch (enemyType)\r\n        {\r\n            case \"AggressiveEnemy\":\r\n                aiController.SetBehavior(new AggressiveBehavior());\r\n                break;\r\n            case \"DefensiveEnemy\":\r\n                aiController.SetBehavior(new DefensiveBehavior());\r\n                break;\r\n            case \"StealthEnemy\":\r\n                aiController.SetBehavior(new StealthBehavior());\r\n                break;\r\n            case \"PatrolEnemy\":\r\n                aiController.SetBehavior(new PatrolBehavior());\r\n                break;\r\n        }\r\n    }\r\n\r\n    // 动态切换行为\r\n    public void SwitchToAggressive()\r\n    {\r\n        aiController.SetBehavior(new AggressiveBehavior());\r\n    }\r\n\r\n    public void SwitchToDefensive()\r\n    {\r\n        aiController.SetBehavior(new DefensiveBehavior());\r\n    }\r\n}\r\n```\r\n\r\n**使用场景：**\r\n- AI行为系统\r\n- 武器系统\r\n- 支付系统\r\n- 排序算法\r\n\r\n### 5. 命令模式：操作的历史记录\r\n\r\n#### 问题场景：撤销/重做系统\r\n\r\n**问题描述：**\r\n- 需要支持撤销/重做操作\r\n- 操作可以组合\r\n- 支持宏命令\r\n\r\n**解决方案：**\r\n\r\n```csharp\r\n// 命令接口\r\npublic interface ICommand\r\n{\r\n    void Execute();\r\n    void Undo();\r\n}\r\n\r\n// 具体命令\r\npublic class MoveCommand : ICommand\r\n{\r\n    private GameObject target;\r\n    private Vector3 oldPosition;\r\n    private Vector3 newPosition;\r\n\r\n    public MoveCommand(GameObject target, Vector3 newPosition)\r\n    {\r\n        this.target = target;\r\n        this.oldPosition = target.transform.position;\r\n        this.newPosition = newPosition;\r\n    }\r\n\r\n    public void Execute()\r\n    {\r\n        target.transform.position = newPosition;\r\n        Debug.Log($\"Moved {target.name} to {newPosition}\");\r\n    }\r\n\r\n    public void Undo()\r\n    {\r\n        target.transform.position = oldPosition;\r\n        Debug.Log($\"Undid move of {target.name} back to {oldPosition}\");\r\n    }\r\n}\r\n\r\npublic class ScaleCommand : ICommand\r\n{\r\n    private GameObject target;\r\n    private Vector3 oldScale;\r\n    private Vector3 newScale;\r\n\r\n    public ScaleCommand(GameObject target, Vector3 newScale)\r\n    {\r\n        this.target = target;\r\n        this.oldScale = target.transform.localScale;\r\n        this.newScale = newScale;\r\n    }\r\n\r\n    public void Execute()\r\n    {\r\n        target.transform.localScale = newScale;\r\n        Debug.Log($\"Scaled {target.name} to {newScale}\");\r\n    }\r\n\r\n    public void Undo()\r\n    {\r\n        target.transform.localScale = oldScale;\r\n        Debug.Log($\"Undid scale of {target.name} back to {oldScale}\");\r\n    }\r\n}\r\n\r\n// 宏命令\r\npublic class MacroCommand : ICommand\r\n{\r\n    private List\u003cICommand\u003e commands;\r\n\r\n    public MacroCommand()\r\n    {\r\n        commands = new List\u003cICommand\u003e();\r\n    }\r\n\r\n    public void AddCommand(ICommand command)\r\n    {\r\n        commands.Add(command);\r\n    }\r\n\r\n    public void Execute()\r\n    {\r\n        foreach (var command in commands)\r\n        {\r\n            command.Execute();\r\n        }\r\n    }\r\n\r\n    public void Undo()\r\n    {\r\n        // 反向执行命令\r\n        for (int i = commands.Count - 1; i \u003e= 0; i--)\r\n        {\r\n            commands[i].Undo();\r\n        }\r\n    }\r\n}\r\n\r\n// 命令管理器\r\npublic class CommandManager\r\n{\r\n    private Stack\u003cICommand\u003e undoStack;\r\n    private Stack\u003cICommand\u003e redoStack;\r\n\r\n    public CommandManager()\r\n    {\r\n        undoStack = new Stack\u003cICommand\u003e();\r\n        redoStack = new Stack\u003cICommand\u003e();\r\n    }\r\n\r\n    public void ExecuteCommand(ICommand command)\r\n    {\r\n        command.Execute();\r\n        undoStack.Push(command);\r\n        redoStack.Clear(); // 新命令会清空重做栈\r\n    }\r\n\r\n    public void Undo()\r\n    {\r\n        if (undoStack.Count \u003e 0)\r\n        {\r\n            ICommand command = undoStack.Pop();\r\n            command.Undo();\r\n            redoStack.Push(command);\r\n        }\r\n    }\r\n\r\n    public void Redo()\r\n    {\r\n        if (redoStack.Count \u003e 0)\r\n        {\r\n            ICommand command = redoStack.Pop();\r\n            command.Execute();\r\n            undoStack.Push(command);\r\n        }\r\n    }\r\n}\r\n\r\n// 使用示例\r\npublic class GameEditor : MonoBehaviour\r\n{\r\n    private CommandManager commandManager;\r\n    private GameObject selectedObject;\r\n\r\n    void Start()\r\n    {\r\n        commandManager = new CommandManager();\r\n    }\r\n\r\n    void Update()\r\n    {\r\n        // 移动命令\r\n        if (Input.GetKeyDown(KeyCode.W))\r\n        {\r\n            if (selectedObject != null)\r\n            {\r\n                Vector3 newPosition = selectedObject.transform.position + Vector3.forward;\r\n                ICommand moveCommand = new MoveCommand(selectedObject, newPosition);\r\n                commandManager.ExecuteCommand(moveCommand);\r\n            }\r\n        }\r\n\r\n        // 缩放命令\r\n        if (Input.GetKeyDown(KeyCode.S))\r\n        {\r\n            if (selectedObject != null)\r\n            {\r\n                Vector3 newScale = selectedObject.transform.localScale * 1.2f;\r\n                ICommand scaleCommand = new ScaleCommand(selectedObject, newScale);\r\n                commandManager.ExecuteCommand(scaleCommand);\r\n            }\r\n        }\r\n\r\n        // 撤销\r\n        if (Input.GetKeyDown(KeyCode.Z))\r\n        {\r\n            commandManager.Undo();\r\n        }\r\n\r\n        // 重做\r\n        if (Input.GetKeyDown(KeyCode.Y))\r\n        {\r\n            commandManager.Redo();\r\n        }\r\n\r\n        // 宏命令示例\r\n        if (Input.GetKeyDown(KeyCode.M))\r\n        {\r\n            if (selectedObject != null)\r\n            {\r\n                MacroCommand macro = new MacroCommand();\r\n                macro.AddCommand(new MoveCommand(selectedObject, selectedObject.transform.position + Vector3.up));\r\n                macro.AddCommand(new ScaleCommand(selectedObject, selectedObject.transform.localScale * 1.5f));\r\n                commandManager.ExecuteCommand(macro);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**使用场景：**\r\n- 编辑器撤销/重做\r\n- 游戏回放系统\r\n- 操作日志\r\n- 宏录制\r\n\r\n## 设计模式的最佳实践\r\n\r\n### 1. 何时使用设计模式\r\n\r\n**使用设计模式的情况：**\r\n- 代码重复度高\r\n- 类之间耦合严重\r\n- 扩展性差\r\n- 维护困难\r\n\r\n**避免过度设计的情况：**\r\n- 简单的一次性代码\r\n- 原型开发阶段\r\n- 团队不熟悉设计模式\r\n\r\n### 2. 设计模式的选择原则\r\n\r\n**SOLID原则：**\r\n- **S**ingle Responsibility Principle (单一职责原则)\r\n- **O**pen/Closed Principle (开闭原则)\r\n- **L**iskov Substitution Principle (里氏替换原则)\r\n- **I**nterface Segregation Principle (接口隔离原则)\r\n- **D**ependency Inversion Principle (依赖倒置原则)\r\n\r\n**实际应用：**\r\n```csharp\r\n// 违反单一职责原则\r\npublic class GameManager\r\n{\r\n    public void UpdatePlayer() { }\r\n    public void UpdateEnemy() { }\r\n    public void UpdateUI() { }\r\n    public void PlaySound() { }\r\n    public void SaveData() { }\r\n}\r\n\r\n// 符合单一职责原则\r\npublic class PlayerManager\r\n{\r\n    public void UpdatePlayer() { }\r\n}\r\n\r\npublic class EnemyManager\r\n{\r\n    public void UpdateEnemy() { }\r\n}\r\n\r\npublic class UIManager\r\n{\r\n    public void UpdateUI() { }\r\n}\r\n\r\npublic class AudioManager\r\n{\r\n    public void PlaySound() { }\r\n}\r\n\r\npublic class DataManager\r\n{\r\n    public void SaveData() { }\r\n}\r\n```\r\n\r\n### 3. 重构技巧\r\n\r\n**识别代码异味：**\r\n- 长方法\r\n- 大类\r\n- 重复代码\r\n- 数据泥团\r\n- 发散式变化\r\n\r\n**重构步骤：**\r\n1. 识别问题\r\n2. 选择合适的设计模式\r\n3. 逐步重构\r\n4. 测试验证\r\n\r\n## 总结与反思\r\n\r\n### 设计模式的价值\r\n\r\n1. **提高代码质量**：结构更清晰，维护更容易\r\n2. **提高开发效率**：复用解决方案，减少重复工作\r\n3. **提高团队协作**：统一的代码风格和架构\r\n4. **提高系统扩展性**：新功能更容易添加\r\n\r\n### 我的学习心得\r\n\r\n1. **从问题出发**：不要为了使用设计模式而使用设计模式\r\n2. **循序渐进**：从简单的设计模式开始学习\r\n3. **实践为主**：理论结合实践，多写代码\r\n4. **持续改进**：代码重构是一个持续的过程\r\n\r\n### 给其他\"废柴\"的建议\r\n\r\n1. **不要害怕重构**：好的代码是重构出来的\r\n2. **学习经典案例**：研究优秀开源项目的设计模式应用\r\n3. **保持简单**：能用简单方案解决的问题，不要用复杂的设计模式\r\n4. **团队协作**：与团队成员讨论设计模式的应用\r\n\r\n## 参考资料\r\n\r\n- [设计模式：可复用面向对象软件的基础](https://book.douban.com/subject/1052241/)\r\n- [Head First设计模式](https://book.douban.com/subject/2243615/)\r\n- [重构：改善既有代码的设计](https://book.douban.com/subject/4262627/)\r\n- [Clean Code](https://book.douban.com/subject/4199741/)\r\n\r\n## 结语\r\n\r\n设计模式不是银弹，而是工具。关键是要在合适的地方使用合适的设计模式，而不是为了使用设计模式而使用设计模式。\r\n\r\n记住，好的代码是重构出来的。不要害怕重构，不要害怕犯错，每一次重构都是学习的机会。从简单的设计模式开始，逐步掌握更复杂的设计模式，最终成为代码架构的\"艺术家\"。\r\n\r\n## 实用小贴士\r\n\r\n### 🎯 设计模式学习路径\r\n- [ ] 理解基本概念（SOLID原则）\r\n- [ ] 掌握常用模式（单例、观察者、工厂）\r\n- [ ] 学习高级模式（策略、命令、状态）\r\n- [ ] 实践项目应用（重构现有代码）\r\n- [ ] 团队协作推广（分享经验）\r\n\r\n### 🚀 快速开始\r\n```csharp\r\n// 1. 识别代码问题\r\n// 2. 选择合适的设计模式\r\n// 3. 逐步重构代码\r\n// 4. 测试验证效果\r\n\r\n// 示例：将面条代码重构为单例模式\r\npublic class GameManager : MonoBehaviour\r\n{\r\n    private static GameManager _instance;\r\n    public static GameManager Instance =\u003e _instance;\r\n\r\n    void Awake()\r\n    {\r\n        if (_instance == null)\r\n        {\r\n            _instance = this;\r\n            DontDestroyOnLoad(gameObject);\r\n        }\r\n        else\r\n        {\r\n            Destroy(gameObject);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### 💡 进阶技巧\r\n- 使用依赖注入框架\r\n- 实现事件驱动架构\r\n- 应用微服务设计模式\r\n- 学习领域驱动设计\r\n- 掌握响应式编程模式\r\n"])</script><script>self.__next_f.push([1,"8:T7d9e,"])</script><script>self.__next_f.push([1,"\r\n# WebGPU深度探索：技术废柴的图形编程进化史\r\n\r\n\u003e 从\"Hello Triangle\"到\"实时渲染引擎\"，我的WebGPU技术探索之旅\r\n\r\n## 我与WebGPU的\"第一次亲密接触\"\r\n\r\n### 第一次\"翻车\"：WebGL的局限性\r\n\r\n还记得第一次尝试用WebGL做复杂3D渲染时，我信心满满地开始编码：\r\n\r\n```javascript\r\n// 我的第一个\"杰作\" - WebGL复杂渲染\r\nconst vertexShaderSource = `\r\n  attribute vec4 a_position;\r\n  attribute vec3 a_normal;\r\n  uniform mat4 u_modelViewMatrix;\r\n  uniform mat4 u_projectionMatrix;\r\n  uniform mat3 u_normalMatrix;\r\n  varying vec3 v_normal;\r\n  varying vec3 v_position;\r\n\r\n  void main() {\r\n    v_position = vec3(u_modelViewMatrix * a_position);\r\n    v_normal = normalize(u_normalMatrix * a_normal);\r\n    gl_Position = u_projectionMatrix * u_modelViewMatrix * a_position;\r\n  }\r\n`;\r\n\r\nconst fragmentShaderSource = `\r\n  precision mediump float;\r\n  varying vec3 v_normal;\r\n  varying vec3 v_position;\r\n  uniform vec3 u_lightPosition;\r\n  uniform vec3 u_lightColor;\r\n  uniform vec3 u_ambientColor;\r\n\r\n  void main() {\r\n    vec3 normal = normalize(v_normal);\r\n    vec3 lightDirection = normalize(u_lightPosition - v_position);\r\n    float diffuse = max(dot(normal, lightDirection), 0.0);\r\n    vec3 color = u_ambientColor + diffuse * u_lightColor;\r\n    gl_FragColor = vec4(color, 1.0);\r\n  }\r\n`;\r\n```\r\n\r\n结果呢？性能瓶颈、内存泄漏、渲染管线固定，复杂场景直接卡成PPT。导师看到后直接给我发了个\"🤦‍♂️\"的表情：\"你这是在做'WebGL性能灾难'吗？\"\r\n\r\n### 第二次尝试：WebGPU的觉醒\r\n\r\n好不容易接触了WebGPU，我又开始挑战现代图形编程：\r\n\r\n```javascript\r\n// 我的\"WebGPU现代渲染\"杰作\r\nconst device = await adapter.requestDevice();\r\nconst commandEncoder = device.createCommandEncoder();\r\n\r\n// 创建渲染管线\r\nconst renderPipeline = device.createRenderPipeline({\r\n  vertex: {\r\n    module: device.createShaderModule({\r\n      code: `\r\n        struct VertexOutput {\r\n          @builtin(position) position: vec4\u003cf32\u003e,\r\n          @location(0) color: vec4\u003cf32\u003e,\r\n        }\r\n\r\n        @vertex\r\n        fn vertex_main(@location(0) position: vec3\u003cf32\u003e) -\u003e VertexOutput {\r\n          var output: VertexOutput;\r\n          output.position = vec4\u003cf32\u003e(position, 1.0);\r\n          output.color = vec4\u003cf32\u003e(position * 0.5 + 0.5, 1.0);\r\n          return output;\r\n        }\r\n      `\r\n    }),\r\n    entryPoint: 'vertex_main'\r\n  },\r\n  fragment: {\r\n    module: device.createShaderModule({\r\n      code: `\r\n        @fragment\r\n        fn fragment_main(@location(0) color: vec4\u003cf32\u003e) -\u003e @location(0) vec4\u003cf32\u003e {\r\n          return color;\r\n        }\r\n      `\r\n    }),\r\n    entryPoint: 'fragment_main',\r\n    targets: [{\r\n      format: presentationFormat\r\n    }]\r\n  },\r\n  primitive: {\r\n    topology: 'triangle-list'\r\n  }\r\n});\r\n```\r\n\r\n这次更惨，虽然性能提升了，但代码复杂度直线上升，调试困难，错误信息晦涩难懂。我的\"现代渲染引擎\"变成了\"调试噩梦\"。\r\n\r\n### 觉醒时刻：WebGPU不是工具，是艺术\r\n\r\n经过无数次的\"翻车\"经历，我终于明白：WebGPU不仅仅是一个工具，更是一门艺术。每一个管线都需要精心设计，每一个资源都需要精确管理。\r\n\r\n## WebGPU核心技术：从原理到实践\r\n\r\n### 1. 架构设计：现代GPU编程的哲学\r\n\r\n#### 内存模型：显式内存管理\r\n\r\n**WebGPU内存层次结构：**\r\n\r\n```javascript\r\n// 内存类型定义\r\nconst memoryTypes = {\r\n  // 主机内存 (CPU可访问)\r\n  hostMemory: {\r\n    mappedAtCreation: true,    // 创建时可映射\r\n    copySrc: true,             // 可作为复制源\r\n    copyDst: true              // 可作为复制目标\r\n  },\r\n\r\n  // 设备内存 (GPU专用)\r\n  deviceMemory: {\r\n    uniform: true,             // 统一缓冲区\r\n    storage: true,             // 存储缓冲区\r\n    vertex: true,              // 顶点缓冲区\r\n    index: true,               // 索引缓冲区\r\n    indirect: true,            // 间接绘制缓冲区\r\n    queryResolve: true         // 查询解析缓冲区\r\n  },\r\n\r\n  // 共享内存 (CPU/GPU共享)\r\n  sharedMemory: {\r\n    mappedAtCreation: false,   // 创建时不可映射\r\n    copySrc: true,             // 可作为复制源\r\n    copyDst: true              // 可作为复制目标\r\n  }\r\n};\r\n\r\n// 内存分配策略\r\nclass MemoryManager {\r\n  constructor(device) {\r\n    this.device = device;\r\n    this.buffers = new Map();\r\n    this.textures = new Map();\r\n  }\r\n\r\n  // 创建顶点缓冲区\r\n  createVertexBuffer(data, usage = GPUBufferUsage.VERTEX) {\r\n    const buffer = this.device.createBuffer({\r\n      size: data.byteLength,\r\n      usage: usage | GPUBufferUsage.COPY_DST,\r\n      mappedAtCreation: true\r\n    });\r\n\r\n    new Float32Array(buffer.getMappedRange()).set(data);\r\n    buffer.unmap();\r\n\r\n    this.buffers.set(buffer, { type: 'vertex', data });\r\n    return buffer;\r\n  }\r\n\r\n  // 创建统一缓冲区\r\n  createUniformBuffer(data) {\r\n    const buffer = this.device.createBuffer({\r\n      size: data.byteLength,\r\n      usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST\r\n    });\r\n\r\n    this.device.queue.writeBuffer(buffer, 0, data);\r\n    this.buffers.set(buffer, { type: 'uniform', data });\r\n    return buffer;\r\n  }\r\n\r\n  // 创建存储缓冲区\r\n  createStorageBuffer(data) {\r\n    const buffer = this.device.createBuffer({\r\n      size: data.byteLength,\r\n      usage: GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST\r\n    });\r\n\r\n    this.device.queue.writeBuffer(buffer, 0, data);\r\n    this.buffers.set(buffer, { type: 'storage', data });\r\n    return buffer;\r\n  }\r\n\r\n  // 内存清理\r\n  dispose() {\r\n    for (const [buffer] of this.buffers) {\r\n      buffer.destroy();\r\n    }\r\n    for (const [texture] of this.textures) {\r\n      texture.destroy();\r\n    }\r\n    this.buffers.clear();\r\n    this.textures.clear();\r\n  }\r\n}\r\n```\r\n\r\n#### 渲染管线：可编程渲染架构\r\n\r\n**现代渲染管线设计：**\r\n\r\n```javascript\r\n// 渲染管线构建器\r\nclass RenderPipelineBuilder {\r\n  constructor(device) {\r\n    this.device = device;\r\n    this.vertexState = {};\r\n    this.fragmentState = {};\r\n    this.primitiveState = {};\r\n    this.depthStencilState = {};\r\n    this.multisampleState = {};\r\n  }\r\n\r\n  // 设置顶点着色器\r\n  setVertexShader(module, entryPoint = 'vertex_main') {\r\n    this.vertexState = {\r\n      module,\r\n      entryPoint,\r\n      buffers: []\r\n    };\r\n    return this;\r\n  }\r\n\r\n  // 添加顶点缓冲区布局\r\n  addVertexBuffer(layout) {\r\n    this.vertexState.buffers.push(layout);\r\n    return this;\r\n  }\r\n\r\n  // 设置片段着色器\r\n  setFragmentShader(module, entryPoint = 'fragment_main', targets = []) {\r\n    this.fragmentState = {\r\n      module,\r\n      entryPoint,\r\n      targets\r\n    };\r\n    return this;\r\n  }\r\n\r\n  // 设置图元拓扑\r\n  setPrimitiveTopology(topology = 'triangle-list') {\r\n    this.primitiveState = {\r\n      topology,\r\n      stripIndexFormat: undefined,\r\n      frontFace: 'ccw',\r\n      cullMode: 'back'\r\n    };\r\n    return this;\r\n  }\r\n\r\n  // 设置深度模板测试\r\n  setDepthStencil(depthWriteEnabled = true, depthCompare = 'less') {\r\n    this.depthStencilState = {\r\n      depthWriteEnabled,\r\n      depthCompare,\r\n      format: 'depth24plus'\r\n    };\r\n    return this;\r\n  }\r\n\r\n  // 构建渲染管线\r\n  build() {\r\n    return this.device.createRenderPipeline({\r\n      vertex: this.vertexState,\r\n      fragment: this.fragmentState,\r\n      primitive: this.primitiveState,\r\n      depthStencil: this.depthStencilState,\r\n      multisample: this.multisampleState\r\n    });\r\n  }\r\n}\r\n\r\n// 使用示例\r\nconst pipeline = new RenderPipelineBuilder(device)\r\n  .setVertexShader(vertexShaderModule)\r\n  .addVertexBuffer({\r\n    arrayStride: 24, // 3个float32 (位置) + 3个float32 (法线)\r\n    attributes: [\r\n      { format: 'float32x3', offset: 0, shaderLocation: 0 },  // 位置\r\n      { format: 'float32x3', offset: 12, shaderLocation: 1 }  // 法线\r\n    ]\r\n  })\r\n  .setFragmentShader(fragmentShaderModule, 'fragment_main', [{\r\n    format: presentationFormat\r\n  }])\r\n  .setPrimitiveTopology('triangle-list')\r\n  .setDepthStencil()\r\n  .build();\r\n```\r\n\r\n### 2. 着色器编程：现代GPU计算的艺术\r\n\r\n#### WGSL语言：WebGPU着色器语言\r\n\r\n**基础着色器结构：**\r\n\r\n```wgsl\r\n// 顶点着色器：几何变换与数据传递\r\nstruct VertexInput {\r\n  @location(0) position: vec3\u003cf32\u003e,\r\n  @location(1) normal: vec3\u003cf32\u003e,\r\n  @location(2) texCoord: vec2\u003cf32\u003e,\r\n  @location(3) color: vec4\u003cf32\u003e\r\n};\r\n\r\nstruct VertexOutput {\r\n  @builtin(position) position: vec4\u003cf32\u003e,\r\n  @location(0) worldPosition: vec3\u003cf32\u003e,\r\n  @location(1) normal: vec3\u003cf32\u003e,\r\n  @location(2) texCoord: vec2\u003cf32\u003e,\r\n  @location(3) color: vec4\u003cf32\u003e\r\n};\r\n\r\nstruct Uniforms {\r\n  modelViewProjection: mat4x4\u003cf32\u003e,\r\n  model: mat4x4\u003cf32\u003e,\r\n  normalMatrix: mat3x3\u003cf32\u003e,\r\n  lightPosition: vec3\u003cf32\u003e,\r\n  lightColor: vec3\u003cf32\u003e,\r\n  ambientColor: vec3\u003cf32\u003e\r\n};\r\n\r\n@group(0) @binding(0) var\u003cuniform\u003e uniforms: Uniforms;\r\n\r\n@vertex\r\nfn vertex_main(input: VertexInput) -\u003e VertexOutput {\r\n  var output: VertexOutput;\r\n\r\n  // 世界空间位置\r\n  output.worldPosition = vec3\u003cf32\u003e(uniforms.model * vec4\u003cf32\u003e(input.position, 1.0));\r\n\r\n  // 裁剪空间位置\r\n  output.position = uniforms.modelViewProjection * vec4\u003cf32\u003e(input.position, 1.0);\r\n\r\n  // 法线变换\r\n  output.normal = uniforms.normalMatrix * input.normal;\r\n\r\n  // 传递纹理坐标和颜色\r\n  output.texCoord = input.texCoord;\r\n  output.color = input.color;\r\n\r\n  return output;\r\n}\r\n```\r\n\r\n```wgsl\r\n// 片段着色器：光照计算与材质渲染\r\n@fragment\r\nfn fragment_main(input: VertexOutput) -\u003e @location(0) vec4\u003cf32\u003e {\r\n  // 法线归一化\r\n  let normal = normalize(input.normal);\r\n\r\n  // 光照方向\r\n  let lightDirection = normalize(uniforms.lightPosition - input.worldPosition);\r\n\r\n  // 漫反射计算\r\n  let diffuse = max(dot(normal, lightDirection), 0.0);\r\n\r\n  // 环境光\r\n  let ambient = uniforms.ambientColor;\r\n\r\n  // 最终颜色\r\n  let finalColor = ambient + diffuse * uniforms.lightColor;\r\n\r\n  return vec4\u003cf32\u003e(finalColor * input.color.rgb, input.color.a);\r\n}\r\n```\r\n\r\n#### 高级着色器技巧：PBR材质系统\r\n\r\n**基于物理的渲染 (PBR)：**\r\n\r\n```wgsl\r\n// PBR材质结构\r\nstruct Material {\r\n  albedo: vec3\u003cf32\u003e,      // 基础颜色\r\n  metallic: f32,          // 金属度\r\n  roughness: f32,         // 粗糙度\r\n  ao: f32,                // 环境光遮蔽\r\n  emissive: vec3\u003cf32\u003e     // 自发光\r\n};\r\n\r\n// PBR光照函数\r\nfn calculatePBR(\r\n  worldPos: vec3\u003cf32\u003e,\r\n  normal: vec3\u003cf32\u003e,\r\n  viewDir: vec3\u003cf32\u003e,\r\n  lightDir: vec3\u003cf32\u003e,\r\n  lightColor: vec3\u003cf32\u003e,\r\n  material: Material\r\n) -\u003e vec3\u003cf32\u003e {\r\n  // 半程向量\r\n  let halfwayDir = normalize(viewDir + lightDir);\r\n\r\n  // 基础反射率\r\n  let F0 = mix(vec3\u003cf32\u003e(0.04), material.albedo, material.metallic);\r\n\r\n  // 法线分布函数 (GGX/Trowbridge-Reitz)\r\n  let NdotH = max(dot(normal, halfwayDir), 0.0);\r\n  let alpha = material.roughness * material.roughness;\r\n  let alpha2 = alpha * alpha;\r\n  let denom = NdotH * NdotH * (alpha2 - 1.0) + 1.0;\r\n  let NDF = alpha2 / (PI * denom * denom);\r\n\r\n  // 几何函数 (Schlick-GGX)\r\n  let NdotV = max(dot(normal, viewDir), 0.0);\r\n  let NdotL = max(dot(normal, lightDir), 0.0);\r\n  let k = (material.roughness + 1.0) * (material.roughness + 1.0) / 8.0;\r\n  let G1_v = NdotV / (NdotV * (1.0 - k) + k);\r\n  let G1_l = NdotL / (NdotL * (1.0 - k) + k);\r\n  let G = G1_v * G1_l;\r\n\r\n  // Fresnel方程 (Schlick近似)\r\n  let F = F0 + (1.0 - F0) * pow(1.0 - max(dot(halfwayDir, viewDir), 0.0), 5.0);\r\n\r\n  // Cook-Torrance BRDF\r\n  let numerator = NDF * G * F;\r\n  let denominator = 4.0 * NdotV * NdotL + 0.0001;\r\n  let specular = numerator / denominator;\r\n\r\n  // 漫反射项\r\n  let kS = F;\r\n  let kD = vec3\u003cf32\u003e(1.0) - kS;\r\n  kD *= 1.0 - material.metallic;\r\n\r\n  // 最终颜色\r\n  let Lo = (kD * material.albedo / PI + specular) * lightColor * NdotL;\r\n\r\n  return Lo;\r\n}\r\n\r\n// PBR片段着色器\r\n@fragment\r\nfn pbr_fragment_main(input: VertexOutput) -\u003e @location(0) vec4\u003cf32\u003e {\r\n  let material = Material(\r\n    albedo: input.albedo,\r\n    metallic: input.metallic,\r\n    roughness: input.roughness,\r\n    ao: input.ao,\r\n    emissive: input.emissive\r\n  );\r\n\r\n  let normal = normalize(input.normal);\r\n  let viewDir = normalize(uniforms.cameraPosition - input.worldPosition);\r\n\r\n  // 计算所有光源的贡献\r\n  var Lo = vec3\u003cf32\u003e(0.0);\r\n\r\n  for (var i = 0u; i \u003c uniforms.lightCount; i++) {\r\n    let light = lights[i];\r\n    let lightDir = normalize(light.position - input.worldPosition);\r\n    let distance = length(light.position - input.worldPosition);\r\n    let attenuation = 1.0 / (1.0 + light.linear * distance + light.quadratic * distance * distance);\r\n\r\n    Lo += calculatePBR(\r\n      input.worldPosition,\r\n      normal,\r\n      viewDir,\r\n      lightDir,\r\n      light.color * attenuation,\r\n      material\r\n    );\r\n  }\r\n\r\n  // 环境光\r\n  let ambient = uniforms.ambientColor * material.albedo * material.ao;\r\n\r\n  // 最终颜色\r\n  let color = ambient + Lo + material.emissive;\r\n\r\n  // HDR色调映射\r\n  color = color / (color + vec3\u003cf32\u003e(1.0));\r\n\r\n  // Gamma校正\r\n  color = pow(color, vec3\u003cf32\u003e(1.0 / 2.2));\r\n\r\n  return vec4\u003cf32\u003e(color, 1.0);\r\n}\r\n```\r\n\r\n### 3. 计算着色器：GPU并行计算的威力\r\n\r\n#### 通用计算：超越图形渲染\r\n\r\n**粒子系统计算着色器：**\r\n\r\n```wgsl\r\n// 粒子数据结构\r\nstruct Particle {\r\n  position: vec3\u003cf32\u003e,\r\n  velocity: vec3\u003cf32\u003e,\r\n  life: f32,\r\n  maxLife: f32,\r\n  color: vec4\u003cf32\u003e\r\n};\r\n\r\n// 计算着色器：粒子更新\r\n@group(0) @binding(0) var\u003cstorage, read_write\u003e particles: array\u003cParticle\u003e;\r\n@group(0) @binding(1) var\u003cuniform\u003e deltaTime: f32;\r\n@group(0) @binding(2) var\u003cuniform\u003e gravity: vec3\u003cf32\u003e;\r\n@group(0) @binding(3) var\u003cuniform\u003e emitterPosition: vec3\u003cf32\u003e;\r\n\r\n@compute @workgroup_size(256)\r\nfn update_particles(@builtin(global_invocation_id) globalId: vec3\u003cu32\u003e) {\r\n  let index = globalId.x;\r\n  if (index \u003e= arrayLength(\u0026particles)) {\r\n    return;\r\n  }\r\n\r\n  var particle = particles[index];\r\n\r\n  // 更新生命值\r\n  particle.life -= deltaTime;\r\n\r\n  // 如果粒子死亡，重新生成\r\n  if (particle.life \u003c= 0.0) {\r\n    particle.position = emitterPosition;\r\n    particle.velocity = vec3\u003cf32\u003e(\r\n      random_f32() * 2.0 - 1.0,\r\n      random_f32() * 2.0 + 1.0,\r\n      random_f32() * 2.0 - 1.0\r\n    ) * 5.0;\r\n    particle.life = particle.maxLife;\r\n    particle.color = vec4\u003cf32\u003e(1.0, 0.5, 0.0, 1.0);\r\n  } else {\r\n    // 应用重力\r\n    particle.velocity += gravity * deltaTime;\r\n\r\n    // 更新位置\r\n    particle.position += particle.velocity * deltaTime;\r\n\r\n    // 更新颜色（基于生命值）\r\n    let lifeRatio = particle.life / particle.maxLife;\r\n    particle.color.a = lifeRatio;\r\n    particle.color.rgb = mix(vec3\u003cf32\u003e(1.0, 0.5, 0.0), vec3\u003cf32\u003e(1.0, 0.0, 0.0), 1.0 - lifeRatio);\r\n  }\r\n\r\n  particles[index] = particle;\r\n}\r\n\r\n// 随机数生成函数\r\nfn random_f32() -\u003e f32 {\r\n  // 简单的伪随机数生成\r\n  return fract(sin(globalId.x * 12.9898 + globalId.y * 78.233) * 43758.5453);\r\n}\r\n```\r\n\r\n**图像处理计算着色器：**\r\n\r\n```wgsl\r\n// 图像处理：高斯模糊\r\n@group(0) @binding(0) var inputTexture: texture_2d\u003cf32\u003e;\r\n@group(0) @binding(1) var outputTexture: texture_storage_2d\u003crgba8unorm, write\u003e;\r\n@group(0) @binding(2) var\u003cuniform\u003e kernelSize: u32;\r\n@group(0) @binding(3) var\u003cuniform\u003e sigma: f32;\r\n\r\n@compute @workgroup_size(16, 16)\r\nfn gaussian_blur(@builtin(global_invocation_id) globalId: vec3\u003cu32\u003e) {\r\n  let texCoord = vec2\u003ci32\u003e(globalId.xy);\r\n  let textureSize = textureDimensions(inputTexture);\r\n\r\n  if (texCoord.x \u003e= textureSize.x || texCoord.y \u003e= textureSize.y) {\r\n    return;\r\n  }\r\n\r\n  var result = vec4\u003cf32\u003e(0.0);\r\n  var totalWeight = 0.0;\r\n\r\n  // 计算高斯核\r\n  for (var i = -i32(kernelSize); i \u003c= i32(kernelSize); i++) {\r\n    for (var j = -i32(kernelSize); j \u003c= i32(kernelSize); j++) {\r\n      let offset = vec2\u003ci32\u003e(i, j);\r\n      let sampleCoord = texCoord + offset;\r\n\r\n      // 边界检查\r\n      if (sampleCoord.x \u003e= 0 \u0026\u0026 sampleCoord.x \u003c textureSize.x \u0026\u0026\r\n          sampleCoord.y \u003e= 0 \u0026\u0026 sampleCoord.y \u003c textureSize.y) {\r\n\r\n        // 高斯权重\r\n        let distance = sqrt(f32(i * i + j * j));\r\n        let weight = exp(-(distance * distance) / (2.0 * sigma * sigma));\r\n\r\n        result += textureLoad(inputTexture, sampleCoord, 0) * weight;\r\n        totalWeight += weight;\r\n      }\r\n    }\r\n  }\r\n\r\n  // 归一化\r\n  result /= totalWeight;\r\n\r\n  textureStore(outputTexture, texCoord, result);\r\n}\r\n```\r\n\r\n### 4. 性能优化：现代图形编程的精髓\r\n\r\n#### 渲染优化策略\r\n\r\n**实例化渲染：**\r\n\r\n```javascript\r\n// 实例化渲染管理器\r\nclass InstancedRenderer {\r\n  constructor(device, pipeline, vertexBuffer, indexBuffer) {\r\n    this.device = device;\r\n    this.pipeline = pipeline;\r\n    this.vertexBuffer = vertexBuffer;\r\n    this.indexBuffer = indexBuffer;\r\n    this.instanceBuffer = null;\r\n    this.instanceCount = 0;\r\n  }\r\n\r\n  // 设置实例数据\r\n  setInstanceData(instanceData) {\r\n    if (this.instanceBuffer) {\r\n      this.instanceBuffer.destroy();\r\n    }\r\n\r\n    this.instanceBuffer = this.device.createBuffer({\r\n      size: instanceData.byteLength,\r\n      usage: GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST,\r\n      mappedAtCreation: true\r\n    });\r\n\r\n    new Float32Array(this.instanceBuffer.getMappedRange()).set(instanceData);\r\n    this.instanceBuffer.unmap();\r\n\r\n    this.instanceCount = instanceData.length / 16; // 假设每个实例16个float\r\n  }\r\n\r\n  // 执行实例化渲染\r\n  render(renderPassEncoder) {\r\n    renderPassEncoder.setPipeline(this.pipeline);\r\n    renderPassEncoder.setVertexBuffer(0, this.vertexBuffer);\r\n    renderPassEncoder.setVertexBuffer(1, this.instanceBuffer);\r\n    renderPassEncoder.setIndexBuffer(this.indexBuffer, 'uint16');\r\n    renderPassEncoder.drawIndexed(this.indexCount, this.instanceCount);\r\n  }\r\n}\r\n\r\n// 使用示例：渲染大量立方体\r\nconst instanceData = new Float32Array(1000 * 16); // 1000个实例\r\nfor (let i = 0; i \u003c 1000; i++) {\r\n  const offset = i * 16;\r\n  // 模型矩阵 (4x4)\r\n  const matrix = mat4.create();\r\n  mat4.translate(matrix, matrix, [\r\n    (Math.random() - 0.5) * 20,\r\n    (Math.random() - 0.5) * 20,\r\n    (Math.random() - 0.5) * 20\r\n  ]);\r\n  mat4.scale(matrix, matrix, [0.5, 0.5, 0.5]);\r\n\r\n  instanceData.set(matrix, offset);\r\n}\r\n\r\ninstancedRenderer.setInstanceData(instanceData);\r\n```\r\n\r\n**渲染状态管理：**\r\n\r\n```javascript\r\n// 渲染状态管理器\r\nclass RenderStateManager {\r\n  constructor(device) {\r\n    this.device = device;\r\n    this.currentPipeline = null;\r\n    this.currentBindGroup = null;\r\n    this.currentVertexBuffers = [];\r\n    this.currentIndexBuffer = null;\r\n  }\r\n\r\n  // 设置渲染管线\r\n  setPipeline(pipeline) {\r\n    if (this.currentPipeline !== pipeline) {\r\n      this.renderPassEncoder.setPipeline(pipeline);\r\n      this.currentPipeline = pipeline;\r\n    }\r\n  }\r\n\r\n  // 设置绑定组\r\n  setBindGroup(index, bindGroup) {\r\n    if (this.currentBindGroup !== bindGroup) {\r\n      this.renderPassEncoder.setBindGroup(index, bindGroup);\r\n      this.currentBindGroup = bindGroup;\r\n    }\r\n  }\r\n\r\n  // 设置顶点缓冲区\r\n  setVertexBuffer(slot, buffer, offset = 0, size = undefined) {\r\n    const key = `${slot}-${buffer}-${offset}-${size}`;\r\n    if (!this.currentVertexBuffers.includes(key)) {\r\n      this.renderPassEncoder.setVertexBuffer(slot, buffer, offset, size);\r\n      this.currentVertexBuffers.push(key);\r\n    }\r\n  }\r\n\r\n  // 设置索引缓冲区\r\n  setIndexBuffer(buffer, format = 'uint16', offset = 0, size = undefined) {\r\n    const key = `${buffer}-${format}-${offset}-${size}`;\r\n    if (this.currentIndexBuffer !== key) {\r\n      this.renderPassEncoder.setIndexBuffer(buffer, format, offset, size);\r\n      this.currentIndexBuffer = key;\r\n    }\r\n  }\r\n\r\n  // 重置状态\r\n  reset() {\r\n    this.currentPipeline = null;\r\n    this.currentBindGroup = null;\r\n    this.currentVertexBuffers = [];\r\n    this.currentIndexBuffer = null;\r\n  }\r\n}\r\n```\r\n\r\n#### 内存优化策略\r\n\r\n**资源池管理：**\r\n\r\n```javascript\r\n// 资源池管理器\r\nclass ResourcePool {\r\n  constructor(device) {\r\n    this.device = device;\r\n    this.bufferPool = new Map();\r\n    this.texturePool = new Map();\r\n    this.samplerPool = new Map();\r\n  }\r\n\r\n  // 获取缓冲区\r\n  getBuffer(size, usage) {\r\n    const key = `${size}-${usage}`;\r\n\r\n    if (this.bufferPool.has(key)) {\r\n      const buffers = this.bufferPool.get(key);\r\n      if (buffers.length \u003e 0) {\r\n        return buffers.pop();\r\n      }\r\n    }\r\n\r\n    return this.device.createBuffer({ size, usage });\r\n  }\r\n\r\n  // 归还缓冲区\r\n  returnBuffer(buffer, size, usage) {\r\n    const key = `${size}-${usage}`;\r\n\r\n    if (!this.bufferPool.has(key)) {\r\n      this.bufferPool.set(key, []);\r\n    }\r\n\r\n    this.bufferPool.get(key).push(buffer);\r\n  }\r\n\r\n  // 获取纹理\r\n  getTexture(descriptor) {\r\n    const key = JSON.stringify(descriptor);\r\n\r\n    if (this.texturePool.has(key)) {\r\n      const textures = this.texturePool.get(key);\r\n      if (textures.length \u003e 0) {\r\n        return textures.pop();\r\n      }\r\n    }\r\n\r\n    return this.device.createTexture(descriptor);\r\n  }\r\n\r\n  // 归还纹理\r\n  returnTexture(texture, descriptor) {\r\n    const key = JSON.stringify(descriptor);\r\n\r\n    if (!this.texturePool.has(key)) {\r\n      this.texturePool.set(key, []);\r\n    }\r\n\r\n    this.texturePool.get(key).push(texture);\r\n  }\r\n\r\n  // 清理资源池\r\n  clear() {\r\n    for (const [key, buffers] of this.bufferPool) {\r\n      for (const buffer of buffers) {\r\n        buffer.destroy();\r\n      }\r\n    }\r\n\r\n    for (const [key, textures] of this.texturePool) {\r\n      for (const texture of textures) {\r\n        texture.destroy();\r\n      }\r\n    }\r\n\r\n    this.bufferPool.clear();\r\n    this.texturePool.clear();\r\n  }\r\n}\r\n```\r\n\r\n## 实战应用：从理论到实践\r\n\r\n### 1. 实时渲染引擎架构\r\n\r\n**现代渲染引擎设计：**\r\n\r\n```javascript\r\n// 渲染引擎核心\r\nclass WebGPURenderer {\r\n  constructor(canvas) {\r\n    this.canvas = canvas;\r\n    this.device = null;\r\n    this.context = null;\r\n    this.commandEncoder = null;\r\n    this.renderPassEncoder = null;\r\n\r\n    this.scenes = new Map();\r\n    this.materials = new Map();\r\n    this.textures = new Map();\r\n    this.meshes = new Map();\r\n\r\n    this.resourcePool = new ResourcePool();\r\n    this.stateManager = new RenderStateManager();\r\n  }\r\n\r\n  // 初始化渲染器\r\n  async initialize() {\r\n    if (!navigator.gpu) {\r\n      throw new Error('WebGPU not supported');\r\n    }\r\n\r\n    const adapter = await navigator.gpu.requestAdapter();\r\n    this.device = await adapter.requestDevice();\r\n\r\n    this.context = this.canvas.getContext('webgpu');\r\n    const format = navigator.gpu.getPreferredCanvasFormat();\r\n\r\n    this.context.configure({\r\n      device: this.device,\r\n      format: format,\r\n      alphaMode: 'premultiplied'\r\n    });\r\n  }\r\n\r\n  // 创建场景\r\n  createScene(name) {\r\n    const scene = {\r\n      objects: [],\r\n      lights: [],\r\n      camera: null,\r\n      ambient: [0.1, 0.1, 0.1]\r\n    };\r\n\r\n    this.scenes.set(name, scene);\r\n    return scene;\r\n  }\r\n\r\n  // 添加渲染对象\r\n  addObject(sceneName, object) {\r\n    const scene = this.scenes.get(sceneName);\r\n    if (scene) {\r\n      scene.objects.push(object);\r\n    }\r\n  }\r\n\r\n  // 渲染场景\r\n  render(sceneName) {\r\n    const scene = this.scenes.get(sceneName);\r\n    if (!scene) return;\r\n\r\n    this.commandEncoder = this.device.createCommandEncoder();\r\n\r\n    const renderPassDescriptor = {\r\n      colorAttachments: [{\r\n        view: this.context.getCurrentTexture().createView(),\r\n        clearValue: { r: 0.1, g: 0.1, b: 0.1, a: 1.0 },\r\n        loadOp: 'clear',\r\n        storeOp: 'store'\r\n      }]\r\n    };\r\n\r\n    this.renderPassEncoder = this.commandEncoder.beginRenderPass(renderPassDescriptor);\r\n    this.stateManager.renderPassEncoder = this.renderPassEncoder;\r\n\r\n    // 渲染所有对象\r\n    for (const object of scene.objects) {\r\n      this.renderObject(object, scene);\r\n    }\r\n\r\n    this.renderPassEncoder.end();\r\n    this.device.queue.submit([this.commandEncoder.finish()]);\r\n  }\r\n\r\n  // 渲染单个对象\r\n  renderObject(object, scene) {\r\n    const mesh = this.meshes.get(object.meshId);\r\n    const material = this.materials.get(object.materialId);\r\n\r\n    if (!mesh || !material) return;\r\n\r\n    // 设置渲染管线\r\n    this.stateManager.setPipeline(material.pipeline);\r\n\r\n    // 设置绑定组\r\n    this.stateManager.setBindGroup(0, material.bindGroup);\r\n\r\n    // 设置顶点缓冲区\r\n    this.stateManager.setVertexBuffer(0, mesh.vertexBuffer);\r\n    if (mesh.indexBuffer) {\r\n      this.stateManager.setIndexBuffer(mesh.indexBuffer);\r\n    }\r\n\r\n    // 绘制\r\n    if (mesh.indexBuffer) {\r\n      this.renderPassEncoder.drawIndexed(mesh.indexCount);\r\n    } else {\r\n      this.renderPassEncoder.draw(mesh.vertexCount);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### 2. 高级渲染效果\r\n\r\n**后处理效果系统：**\r\n\r\n```javascript\r\n// 后处理效果管理器\r\nclass PostProcessManager {\r\n  constructor(renderer) {\r\n    this.renderer = renderer;\r\n    this.effects = [];\r\n    this.intermediateTextures = [];\r\n  }\r\n\r\n  // 添加后处理效果\r\n  addEffect(effect) {\r\n    this.effects.push(effect);\r\n  }\r\n\r\n  // 执行后处理\r\n  process(inputTexture, outputTexture) {\r\n    let currentInput = inputTexture;\r\n    let currentOutput = null;\r\n\r\n    for (let i = 0; i \u003c this.effects.length; i++) {\r\n      const effect = this.effects[i];\r\n      const isLast = i === this.effects.length - 1;\r\n\r\n      if (isLast) {\r\n        currentOutput = outputTexture;\r\n      } else {\r\n        currentOutput = this.getIntermediateTexture();\r\n      }\r\n\r\n      effect.render(currentInput, currentOutput);\r\n\r\n      if (!isLast) {\r\n        currentInput = currentOutput;\r\n      }\r\n    }\r\n  }\r\n\r\n  // 获取中间纹理\r\n  getIntermediateTexture() {\r\n    if (this.intermediateTextures.length \u003e 0) {\r\n      return this.intermediateTextures.pop();\r\n    }\r\n\r\n    return this.renderer.device.createTexture({\r\n      size: [this.renderer.canvas.width, this.renderer.canvas.height],\r\n      format: 'rgba8unorm',\r\n      usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.TEXTURE_BINDING\r\n    });\r\n  }\r\n}\r\n\r\n// 模糊效果\r\nclass BlurEffect {\r\n  constructor(renderer, radius = 5) {\r\n    this.renderer = renderer;\r\n    this.radius = radius;\r\n    this.pipeline = this.createPipeline();\r\n  }\r\n\r\n  createPipeline() {\r\n    return this.renderer.device.createRenderPipeline({\r\n      vertex: {\r\n        module: this.renderer.device.createShaderModule({\r\n          code: `\r\n            @vertex\r\n            fn vertex_main(@builtin(vertex_index) vertex_index: u32) -\u003e @builtin(position) vec4\u003cf32\u003e {\r\n              var pos = array\u003cvec2\u003cf32\u003e, 6\u003e(\r\n                vec2\u003cf32\u003e(-1.0, -1.0),\r\n                vec2\u003cf32\u003e( 1.0, -1.0),\r\n                vec2\u003cf32\u003e(-1.0,  1.0),\r\n                vec2\u003cf32\u003e(-1.0,  1.0),\r\n                vec2\u003cf32\u003e( 1.0, -1.0),\r\n                vec2\u003cf32\u003e( 1.0,  1.0)\r\n              );\r\n              return vec4\u003cf32\u003e(pos[vertex_index], 0.0, 1.0);\r\n            }\r\n          `\r\n        }),\r\n        entryPoint: 'vertex_main'\r\n      },\r\n      fragment: {\r\n        module: this.renderer.device.createShaderModule({\r\n          code: `\r\n            @group(0) @binding(0) var inputTexture: texture_2d\u003cf32\u003e;\r\n            @group(0) @binding(1) var inputSampler: sampler;\r\n            @group(0) @binding(2) var\u003cuniform\u003e radius: f32;\r\n\r\n            @fragment\r\n            fn fragment_main(@builtin(position) position: vec4\u003cf32\u003e) -\u003e @location(0) vec4\u003cf32\u003e {\r\n              let texCoord = position.xy / vec2\u003cf32\u003e(textureDimensions(inputTexture));\r\n              var result = vec4\u003cf32\u003e(0.0);\r\n              var totalWeight = 0.0;\r\n\r\n              for (var i = -i32(radius); i \u003c= i32(radius); i++) {\r\n                for (var j = -i32(radius); j \u003c= i32(radius); j++) {\r\n                  let offset = vec2\u003cf32\u003e(f32(i), f32(j)) / vec2\u003cf32\u003e(textureDimensions(inputTexture));\r\n                  let sampleCoord = texCoord + offset;\r\n                  let distance = sqrt(f32(i * i + j * j));\r\n                  let weight = exp(-(distance * distance) / (2.0 * radius * radius));\r\n\r\n                  result += textureSample(inputTexture, inputSampler, sampleCoord) * weight;\r\n                  totalWeight += weight;\r\n                }\r\n              }\r\n\r\n              return result / totalWeight;\r\n            }\r\n          `\r\n        }),\r\n        entryPoint: 'fragment_main',\r\n        targets: [{\r\n          format: 'rgba8unorm'\r\n        }]\r\n      },\r\n      primitive: {\r\n        topology: 'triangle-list'\r\n      }\r\n    });\r\n  }\r\n\r\n  render(inputTexture, outputTexture) {\r\n    const commandEncoder = this.renderer.device.createCommandEncoder();\r\n    const renderPass = commandEncoder.beginRenderPass({\r\n      colorAttachments: [{\r\n        view: outputTexture.createView(),\r\n        clearValue: { r: 0, g: 0, b: 0, a: 1 },\r\n        loadOp: 'clear',\r\n        storeOp: 'store'\r\n      }]\r\n    });\r\n\r\n    renderPass.setPipeline(this.pipeline);\r\n    renderPass.setBindGroup(0, this.createBindGroup(inputTexture));\r\n    renderPass.draw(6);\r\n    renderPass.end();\r\n\r\n    this.renderer.device.queue.submit([commandEncoder.finish()]);\r\n  }\r\n\r\n  createBindGroup(inputTexture) {\r\n    return this.renderer.device.createBindGroup({\r\n      layout: this.pipeline.getBindGroupLayout(0),\r\n      entries: [\r\n        {\r\n          binding: 0,\r\n          resource: inputTexture.createView()\r\n        },\r\n        {\r\n          binding: 1,\r\n          resource: this.renderer.device.createSampler({\r\n            magFilter: 'linear',\r\n            minFilter: 'linear'\r\n          })\r\n        },\r\n        {\r\n          binding: 2,\r\n          resource: this.renderer.device.createBuffer({\r\n            size: 4,\r\n            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST\r\n          })\r\n        }\r\n      ]\r\n    });\r\n  }\r\n}\r\n```\r\n\r\n## 总结与反思\r\n\r\n### WebGPU的技术价值\r\n\r\n1. **性能提升**：相比WebGL有显著的性能提升\r\n2. **功能强大**：支持现代GPU的所有特性\r\n3. **开发友好**：提供更清晰的API设计\r\n4. **未来导向**：为Web图形编程指明方向\r\n\r\n### 我的学习心得\r\n\r\n1. **从基础开始**：先掌握WebGPU的基本概念和API\r\n2. **实践为主**：在实际项目中应用和优化\r\n3. **持续学习**：关注WebGPU的最新发展和最佳实践\r\n4. **性能优先**：始终关注性能优化和资源管理\r\n\r\n### 给其他\"废柴\"的建议\r\n\r\n1. **不要害怕复杂**：WebGPU虽然复杂，但学习曲线是值得的\r\n2. **保持耐心**：图形编程需要时间和实践\r\n3. **学习他人**：参考优秀的WebGPU项目和教程\r\n4. **记录总结**：建立自己的WebGPU知识库\r\n\r\n## 参考资料\r\n\r\n- [WebGPU官方文档](https://www.w3.org/TR/webgpu/)\r\n- [WebGPU示例](https://webgpu.github.io/webgpu-samples/)\r\n- [WGSL规范](https://www.w3.org/TR/WGSL/)\r\n- [WebGPU最佳实践](https://web.dev/webgpu/)\r\n\r\n## 结语\r\n\r\nWebGPU代表了Web图形编程的未来，虽然学习曲线较陡，但带来的性能提升和功能扩展是值得的。\r\n\r\n记住，好的图形程序不是一蹴而就的，而是通过不断优化和改进得来的。不要害怕犯错，不要害怕尝试，每一次优化都是学习的机会。\r\n\r\n## 实用小贴士\r\n\r\n### 🎯 WebGPU学习路径\r\n- [ ] 掌握基础概念（设备、适配器、队列）\r\n- [ ] 学习着色器编程（WGSL语言）\r\n- [ ] 实践渲染管线（顶点、片段着色器）\r\n- [ ] 探索计算着色器（通用计算）\r\n- [ ] 优化性能体验（资源管理、渲染优化）\r\n\r\n### 🚀 快速开始\r\n```javascript\r\n// 1. 检查WebGPU支持\r\nif (!navigator.gpu) {\r\n  console.error('WebGPU not supported');\r\n  return;\r\n}\r\n\r\n// 2. 获取适配器\r\nconst adapter = await navigator.gpu.requestAdapter();\r\n\r\n// 3. 创建设备\r\nconst device = await adapter.requestDevice();\r\n\r\n// 4. 配置画布\r\nconst context = canvas.getContext('webgpu');\r\ncontext.configure({\r\n  device: device,\r\n  format: navigator.gpu.getPreferredCanvasFormat()\r\n});\r\n\r\n// 5. 开始渲染\r\n// ... 渲染代码\r\n```\r\n\r\n### 💡 进阶技巧\r\n- 使用计算着色器进行并行计算\r\n- 实现PBR材质系统\r\n- 优化渲染性能\r\n- 集成后处理效果\r\n- 构建完整的渲染引擎\r\n"])</script><script>self.__next_f.push([1,"9:T385b,"])</script><script>self.__next_f.push([1,"\r\n# VuePress博客搭建完全指南：技术废柴的建站选择与实战之旅\r\n\r\n\u003e 从\"哪个框架最好\"到\"完整博客部署\"，我的博客框架选择与实战进化史\r\n\r\n## 我与博客框架的\"相爱相杀\"\r\n\r\n### 初遇：被\"最好\"的框架坑惨了\r\n\r\n记得刚开始搭建博客时，我犯了一个经典错误：盲目追求\"最好\"的框架。\r\n\r\n\"Hexo最流行，就用Hexo！\"\r\n\"WordPress功能最强大，必须用WordPress！\"\r\n\"VuePress最现代化，肯定选VuePress！\"\r\n\r\n结果呢？每个框架都试了一遍，每个都踩了一堆坑，最后发现根本没有\"最好\"的框架，只有\"最适合\"的框架。\r\n\r\n### 觉醒：从盲目跟风到理性选择\r\n\r\n经过无数次的\"翻车\"经历，我终于明白了一个道理：选择博客框架就像选择女朋友，不是看谁最漂亮，而是看谁最适合你。\r\n\r\n## 博客框架深度对比：我的选择标准\r\n\r\n### 静态博客 vs 动态博客：本质区别\r\n\r\n**静态博客特点：**\r\n- 🚀 速度快：预生成HTML，直接部署\r\n- 🔒 安全性高：无数据库，攻击面小\r\n- 💰 成本低：可部署到免费平台\r\n- 🛠️ 定制性强：完全控制代码\r\n\r\n**动态博客特点：**\r\n- 📝 内容管理方便：后台编辑界面\r\n- 🔄 实时更新：内容即时生效\r\n- 👥 用户交互：评论、用户系统\r\n- 📊 功能丰富：插件生态完善\r\n\r\n### 主流框架对比分析\r\n\r\n#### 1. Hexo：Node.js生态的\"老大哥\"\r\n\r\n**优势分析：**\r\n```javascript\r\n// 生态丰富度：★★★★★\r\n// 主题数量：1000+ 主题\r\n// 插件生态：500+ 插件\r\n// 中文社区：非常活跃\r\n\r\n// 性能表现：★★★☆☆\r\n// 构建速度：中等\r\n// 运行时性能：良好\r\n// 内存占用：中等\r\n```\r\n\r\n**我的踩坑经历：**\r\n```bash\r\n# 第一次尝试Hexo\r\nnpm install hexo-cli -g\r\nhexo init my-blog\r\ncd my-blog\r\nnpm install\r\n\r\n# 遇到问题：主题配置复杂\r\n# 解决方案：仔细阅读主题文档，理解配置结构\r\n```\r\n\r\n**适用场景：**\r\n- 想要丰富主题选择的用户\r\n- 需要强大插件生态的项目\r\n- 喜欢Node.js技术栈的开发者\r\n\r\n#### 2. VuePress：Vue生态的\"新贵\"\r\n\r\n**优势分析：**\r\n```javascript\r\n// 现代化程度：★★★★★\r\n// Vue.js集成：原生支持\r\n// 组件化开发：完全支持\r\n// 性能表现：优秀\r\n\r\n// 学习曲线：★★★☆☆\r\n// Vue.js要求：需要基础\r\n// 配置复杂度：中等\r\n// 文档质量：优秀\r\n```\r\n\r\n**我的踩坑经历：**\r\n```javascript\r\n// 第一次配置VuePress\r\nmodule.exports = {\r\n  title: '我的博客',\r\n  description: '技术废柴的博客',\r\n  themeConfig: {\r\n    nav: [\r\n      { text: '首页', link: '/' },\r\n      { text: '博客', link: '/blog/' }\r\n    ]\r\n  }\r\n}\r\n\r\n// 遇到问题：Vue组件语法不熟悉\r\n// 解决方案：学习Vue.js基础语法\r\n```\r\n\r\n**适用场景：**\r\n- Vue.js开发者\r\n- 需要高度定制的项目\r\n- 重视性能的用户\r\n\r\n#### 3. Hugo：Go语言的\"速度之王\"\r\n\r\n**优势分析：**\r\n```go\r\n// 构建速度：★★★★★\r\n// 编译速度：极快\r\n// 运行时性能：优秀\r\n// 内存占用：极低\r\n\r\n// 生态系统：★★★☆☆\r\n// 主题数量：中等\r\n// 插件生态：有限\r\n// 学习资源：相对较少\r\n```\r\n\r\n**我的踩坑经历：**\r\n```bash\r\n# 第一次使用Hugo\r\nhugo new site my-blog\r\ncd my-blog\r\ngit clone https://github.com/theme/theme themes/theme\r\necho 'theme = \"theme\"' \u003e\u003e config.toml\r\n\r\n# 遇到问题：Go模板语法复杂\r\n# 解决方案：学习Go模板语法基础\r\n```\r\n\r\n**适用场景：**\r\n- 追求极致性能的用户\r\n- 大型网站项目\r\n- 喜欢Go语言的开发者\r\n\r\n#### 4. WordPress：功能强大的\"老牌选手\"\r\n\r\n**优势分析：**\r\n```php\r\n// 功能丰富度：★★★★★\r\n// 插件数量：50000+ 插件\r\n// 主题数量：10000+ 主题\r\n// 用户友好度：极高\r\n\r\n// 性能表现：★★☆☆☆\r\n// 加载速度：较慢\r\n// 资源占用：较高\r\n// 维护成本：较高\r\n```\r\n\r\n**我的踩坑经历：**\r\n```sql\r\n-- 数据库配置问题\r\nCREATE DATABASE wordpress;\r\nGRANT ALL PRIVILEGES ON wordpress.* TO 'user'@'localhost';\r\nFLUSH PRIVILEGES;\r\n\r\n-- 遇到问题：数据库连接失败\r\n-- 解决方案：检查数据库配置和权限\r\n```\r\n\r\n**适用场景：**\r\n- 非技术用户\r\n- 需要丰富功能的网站\r\n- 有服务器资源的用户\r\n\r\n## 我的最终选择：VuePress\r\n\r\n### 为什么选择VuePress？\r\n\r\n**技术栈匹配：**\r\n```javascript\r\n// 我的技术栈\r\nconst myTechStack = {\r\n  frontend: ['Vue.js', 'JavaScript', 'CSS'],\r\n  buildTools: ['Webpack', 'Babel'],\r\n  deployment: ['GitHub Pages', 'Vercel']\r\n}\r\n\r\n// VuePress的优势\r\nconst vuepressAdvantages = {\r\n  vueIntegration: '原生Vue.js支持',\r\n  componentSystem: '完整的组件化开发',\r\n  performance: '优秀的性能表现',\r\n  customization: '高度可定制'\r\n}\r\n```\r\n\r\n**项目需求匹配：**\r\n```javascript\r\n// 我的博客需求\r\nconst blogRequirements = {\r\n  contentType: '技术文档 + 博客文章',\r\n  customization: '高度定制化',\r\n  performance: '快速加载',\r\n  maintenance: '低维护成本'\r\n}\r\n\r\n// VuePress满足度\r\nconst satisfaction = {\r\n  contentManagement: '★★★★★', // MDX支持\r\n  customization: '★★★★★',     // Vue组件\r\n  performance: '★★★★★',        // 静态生成\r\n  maintenance: '★★★★☆'         // 配置相对简单\r\n}\r\n```\r\n\r\n### VuePress实战配置\r\n\r\n#### 1. 项目初始化\r\n\r\n```bash\r\n# 创建项目\r\nmkdir my-vuepress-blog\r\ncd my-vuepress-blog\r\n\r\n# 初始化package.json\r\nnpm init -y\r\n\r\n# 安装VuePress\r\nnpm install vuepress@next\r\n\r\n# 创建文档目录\r\nmkdir docs\r\n```\r\n\r\n#### 2. 基础配置\r\n\r\n```javascript\r\n// docs/.vuepress/config.js\r\nmodule.exports = {\r\n  title: '技术废柴的博客',\r\n  description: '记录我的技术学习之路',\r\n\r\n  // 主题配置\r\n  themeConfig: {\r\n    // 导航栏\r\n    nav: [\r\n      { text: '首页', link: '/' },\r\n      { text: '博客', link: '/blog/' },\r\n      { text: '项目', link: '/projects/' },\r\n      { text: '关于', link: '/about/' }\r\n    ],\r\n\r\n    // 侧边栏\r\n    sidebar: {\r\n      '/blog/': [\r\n        {\r\n          title: 'AI技术',\r\n          children: [\r\n            '/blog/ai/',\r\n            '/blog/ai/ai-prompt-guide-chatgpt.md',\r\n            '/blog/ai/photo-to-cartoon-gan.md'\r\n          ]\r\n        },\r\n        {\r\n          title: '游戏开发',\r\n          children: [\r\n            '/blog/game-dev/',\r\n            '/blog/game-dev/unity-robot-simulation.md',\r\n            '/blog/game-dev/cpp-games-with-sfml.md'\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  },\r\n\r\n  // 插件配置\r\n  plugins: [\r\n    '@vuepress/back-to-top',\r\n    '@vuepress/medium-zoom',\r\n    '@vuepress/last-updated'\r\n  ]\r\n}\r\n```\r\n\r\n#### 3. 自定义主题\r\n\r\n```vue\r\n\u003c!-- docs/.vuepress/components/MyHeader.vue --\u003e\r\n\u003ctemplate\u003e\r\n  \u003cheader class=\"my-header\"\u003e\r\n    \u003cdiv class=\"header-content\"\u003e\r\n      \u003ch1 class=\"site-title\"\u003e{{ siteTitle }}\u003c/h1\u003e\r\n      \u003cnav class=\"main-nav\"\u003e\r\n        \u003crouter-link\r\n          v-for=\"item in navItems\"\r\n          :key=\"item.text\"\r\n          :to=\"item.link\"\r\n          class=\"nav-item\"\r\n        \u003e\r\n          {{ item.text }}\r\n        \u003c/router-link\u003e\r\n      \u003c/nav\u003e\r\n    \u003c/div\u003e\r\n  \u003c/header\u003e\r\n\u003c/template\u003e\r\n\r\n\u003cscript\u003e\r\nexport default {\r\n  name: 'MyHeader',\r\n  data() {\r\n    return {\r\n      siteTitle: '技术废柴的博客',\r\n      navItems: [\r\n        { text: '首页', link: '/' },\r\n        { text: '博客', link: '/blog/' },\r\n        { text: '项目', link: '/projects/' },\r\n        { text: '关于', link: '/about/' }\r\n      ]\r\n    }\r\n  }\r\n}\r\n\u003c/script\u003e\r\n\r\n\u003cstyle scoped\u003e\r\n.my-header {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  padding: 1rem 0;\r\n}\r\n\r\n.header-content {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.site-title {\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.main-nav {\r\n  display: flex;\r\n  gap: 2rem;\r\n}\r\n\r\n.nav-item {\r\n  color: white;\r\n  text-decoration: none;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.nav-item:hover {\r\n  opacity: 0.8;\r\n}\r\n\u003c/style\u003e\r\n```\r\n\r\n### 部署配置\r\n\r\n#### GitHub Pages部署\r\n\r\n```yaml\r\n# .github/workflows/deploy.yml\r\nname: Deploy VuePress site to Pages\r\n\r\non:\r\n  push:\r\n    branches: [main]\r\n  workflow_dispatch:\r\n\r\npermissions:\r\n  contents: read\r\n  pages: write\r\n  id-token: write\r\n\r\nconcurrency:\r\n  group: \"pages\"\r\n  cancel-in-progress: false\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout\r\n        uses: actions/checkout@v4\r\n        with:\r\n          fetch-depth: 0\r\n\r\n      - name: Setup Node\r\n        uses: actions/setup-node@v4\r\n        with:\r\n          node-version: \"18\"\r\n          cache: 'npm'\r\n\r\n      - name: Setup Pages\r\n        uses: actions/configure-pages@v4\r\n\r\n      - name: Install dependencies\r\n        run: npm ci\r\n\r\n      - name: Build with VuePress\r\n        run: npm run docs:build\r\n\r\n      - name: Upload artifact\r\n        uses: actions/upload-pages-artifact@v3\r\n        with:\r\n          path: docs/.vuepress/dist\r\n\r\n  deploy:\r\n    environment:\r\n      name: github-pages\r\n      url: ${{ steps.deployment.outputs.page_url }}\r\n    runs-on: ubuntu-latest\r\n    needs: build\r\n    steps:\r\n      - name: Deploy to GitHub Pages\r\n        id: deployment\r\n        uses: actions/deploy-pages@v4\r\n```\r\n\r\n#### Vercel部署\r\n\r\n```json\r\n// vercel.json\r\n{\r\n  \"buildCommand\": \"npm run docs:build\",\r\n  \"outputDirectory\": \"docs/.vuepress/dist\",\r\n  \"framework\": \"vuepress\",\r\n  \"installCommand\": \"npm install\"\r\n}\r\n```\r\n\r\n## 踩坑经验总结\r\n\r\n### 1. 配置文件的坑\r\n\r\n**问题：** 配置文件语法错误导致构建失败\r\n```javascript\r\n// 错误示例\r\nmodule.exports = {\r\n  title: '我的博客',\r\n  description: '技术废柴的博客',\r\n  themeConfig: {\r\n    nav: [\r\n      { text: '首页', link: '/' }  // 缺少逗号\r\n      { text: '博客', link: '/blog/' }\r\n    ]\r\n  }\r\n}\r\n\r\n// 正确示例\r\nmodule.exports = {\r\n  title: '我的博客',\r\n  description: '技术废柴的博客',\r\n  themeConfig: {\r\n    nav: [\r\n      { text: '首页', link: '/' },\r\n      { text: '博客', link: '/blog/' }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n**解决方案：**\r\n- 使用ESLint检查语法\r\n- 使用VSCode的VuePress插件\r\n- 仔细检查JSON语法\r\n\r\n### 2. 路由配置的坑\r\n\r\n**问题：** 侧边栏配置不匹配导致页面404\r\n```javascript\r\n// 错误示例：路径不匹配\r\nsidebar: {\r\n  '/blog/': [\r\n    '/blog/ai/ai-prompt-guide-chatgpt.md'  // 实际文件不存在\r\n  ]\r\n}\r\n\r\n// 正确示例：确保路径存在\r\nsidebar: {\r\n  '/blog/': [\r\n    '/blog/ai/ai-prompt-guide-chatgpt.md'  // 文件确实存在\r\n  ]\r\n}\r\n```\r\n\r\n**解决方案：**\r\n- 使用相对路径\r\n- 检查文件是否存在\r\n- 使用VuePress的路径解析\r\n\r\n### 3. 主题定制的坑\r\n\r\n**问题：** 自定义组件样式冲突\r\n```vue\r\n\u003c!-- 问题：全局样式污染 --\u003e\r\n\u003cstyle\u003e\r\n.my-component {\r\n  color: red;\r\n}\r\n\u003c/style\u003e\r\n\r\n\u003c!-- 解决：使用scoped样式 --\u003e\r\n\u003cstyle scoped\u003e\r\n.my-component {\r\n  color: red;\r\n}\r\n\u003c/style\u003e\r\n```\r\n\r\n**解决方案：**\r\n- 使用scoped样式\r\n- 使用CSS Modules\r\n- 避免全局样式污染\r\n\r\n## 性能优化技巧\r\n\r\n### 1. 图片优化\r\n\r\n```javascript\r\n// 使用VuePress的图片优化\r\nmodule.exports = {\r\n  plugins: [\r\n    [\r\n      '@vuepress/medium-zoom',\r\n      {\r\n        selector: '.content img',\r\n        options: {\r\n          margin: 16\r\n        }\r\n      }\r\n    ]\r\n  ]\r\n}\r\n```\r\n\r\n### 2. 代码分割\r\n\r\n```javascript\r\n// 配置代码分割\r\nmodule.exports = {\r\n  chainWebpack: (config, isServer) =\u003e {\r\n    if (!isServer) {\r\n      config.optimization.splitChunks({\r\n        chunks: 'all',\r\n        cacheGroups: {\r\n          vendor: {\r\n            test: /[\\\\/]node_modules[\\\\/]/,\r\n            name: 'vendors',\r\n            chunks: 'all'\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### 3. 缓存策略\r\n\r\n```javascript\r\n// 配置缓存\r\nmodule.exports = {\r\n  head: [\r\n    ['link', { rel: 'dns-prefetch', href: '//fonts.googleapis.com' }],\r\n    ['link', { rel: 'preconnect', href: 'https://fonts.gstatic.com', crossorigin: true }]\r\n  ]\r\n}\r\n```\r\n\r\n## 总结与反思\r\n\r\n### 技术选型的思考\r\n\r\n经过这次博客搭建的经历，我深刻理解了一个道理：**技术选型不是选择最好的，而是选择最适合的**。\r\n\r\n**我的选择标准：**\r\n1. **技术栈匹配度**：是否与现有技术栈兼容\r\n2. **学习成本**：是否值得投入时间学习\r\n3. **维护成本**：长期维护是否简单\r\n4. **扩展性**：未来需求变化是否容易扩展\r\n\r\n### VuePress的优势与局限\r\n\r\n**优势：**\r\n- ✅ Vue.js生态集成\r\n- ✅ 组件化开发\r\n- ✅ 性能优秀\r\n- ✅ 高度可定制\r\n\r\n**局限：**\r\n- ❌ 学习曲线相对陡峭\r\n- ❌ 主题相对较少\r\n- ❌ 配置相对复杂\r\n\r\n### 给其他\"废柴\"的建议\r\n\r\n1. **明确需求**：先想清楚你要什么，再选择技术\r\n2. **循序渐进**：从简单开始，逐步复杂化\r\n3. **实践为主**：理论结合实践，边学边做\r\n4. **持续优化**：技术选型不是一锤子买卖\r\n\r\n## 参考资料\r\n\r\n- [VuePress官方文档](https://v2.vuepress.vuejs.org/)\r\n- [Vue.js官方文档](https://vuejs.org/)\r\n- [GitHub Pages部署指南](https://pages.github.com/)\r\n- [Vercel部署指南](https://vercel.com/docs)\r\n\r\n## 结语\r\n\r\n博客搭建不是终点，而是起点。选择VuePress只是我技术学习路上的一个小小选择，重要的是在这个过程中学会了如何做技术选型，如何权衡利弊，如何从\"技术废柴\"成长为\"技术达人\"。\r\n\r\n记住，没有最好的框架，只有最适合的框架。选择VuePress，是因为它最适合我的需求和技术栈。你的选择可能不同，但选择的过程和思考是相通的。\r\n\r\n## 实用小贴士\r\n\r\n### 🎯 技术选型清单\r\n- [ ] 明确项目需求\r\n- [ ] 评估技术栈匹配度\r\n- [ ] 计算学习成本\r\n- [ ] 考虑维护成本\r\n- [ ] 测试实际效果\r\n\r\n### 🚀 快速开始\r\n```bash\r\n# 1. 创建项目\r\nmkdir my-blog \u0026\u0026 cd my-blog\r\n\r\n# 2. 初始化\r\nnpm init -y\r\nnpm install vuepress@next\r\n\r\n# 3. 创建文档\r\nmkdir docs\r\necho '# Hello VuePress' \u003e docs/README.md\r\n\r\n# 4. 启动开发服务器\r\nnpx vuepress dev docs\r\n\r\n# 5. 构建生产版本\r\nnpx vuepress build docs\r\n```\r\n\r\n### 💡 进阶技巧\r\n- 使用Vue组件增强功能\r\n- 配置自动化部署\r\n- 优化性能和SEO\r\n- 添加评论系统\r\n- 集成分析工具\r\n"])</script><script>self.__next_f.push([1,"a:T2ff2,"])</script><script>self.__next_f.push([1,"\r\n# 🐳 Windows 10家庭版安装Docker：一个技术废柴的容器化踩坑之旅\r\n\r\n## 容器化：从\"不可能\"到\"真香\"\r\n\r\n还记得第一次听说Docker时的困惑吗？\"容器化？那不是装东西的盒子吗？\"当时的我完全无法理解这个概念。\r\n\r\n直到有一天，我在部署一个项目时遇到了\"环境依赖地狱\"——在我的电脑上运行正常，在服务器上却各种报错。那一刻，我深刻理解了容器化的价值。\r\n\r\n## 方案对比：选择最适合的安装方式\r\n\r\n### 方案一：Docker Desktop（推荐）\r\n\r\n**优点**：\r\n- 图形化界面，易于使用\r\n- 自动配置，一键安装\r\n- 集成工具丰富（Docker Compose、Kubernetes等）\r\n- 官方支持，更新及时\r\n\r\n**缺点**：\r\n- 资源占用较大（约2GB内存）\r\n- 启动时间较长（30-60秒）\r\n- 某些高级功能受限\r\n- 需要Windows 10专业版或更高版本\r\n\r\n**我的体验**：\r\n```\r\n安装时间：15分钟\r\n配置难度：⭐☆☆☆☆\r\n使用体验：⭐⭐⭐⭐⭐\r\n稳定性：⭐⭐⭐⭐⭐\r\n```\r\n\r\n### 方案二：Docker Toolbox（备选）\r\n\r\n**优点**：\r\n- 支持Windows 7/8/10\r\n- 资源占用较小（约1GB内存）\r\n- 启动相对较快\r\n- 兼容性好\r\n\r\n**缺点**：\r\n- 基于VirtualBox，性能较差\r\n- 界面简陋，功能有限\r\n- 配置复杂，需要手动设置\r\n- 官方已停止维护\r\n\r\n**我的体验**：\r\n```\r\n安装时间：30分钟\r\n配置难度：⭐⭐⭐☆☆\r\n使用体验：⭐⭐☆☆☆\r\n稳定性：⭐⭐⭐☆☆\r\n```\r\n\r\n### 方案三：WSL2 + Docker（高级）\r\n\r\n**优点**：\r\n- 性能优秀，接近原生Linux\r\n- 资源占用适中\r\n- 功能完整，支持所有Docker特性\r\n- 与Linux开发环境一致\r\n\r\n**缺点**：\r\n- 配置复杂，需要多个步骤\r\n- 需要Windows 10 2004或更高版本\r\n- 学习成本较高\r\n- 调试相对困难\r\n\r\n**我的体验**：\r\n```\r\n安装时间：45分钟\r\n配置难度：⭐⭐⭐⭐☆\r\n使用体验：⭐⭐⭐⭐⭐\r\n稳定性：⭐⭐⭐⭐☆\r\n```\r\n\r\n## 我的选择：Docker Desktop + 家庭版破解\r\n\r\n### 为什么选择这个方案？\r\n\r\n1. **易用性优先**：作为初学者，我需要简单易用的工具\r\n2. **学习成本低**：图形化界面降低了学习门槛\r\n3. **功能完整**：满足我的大部分需求\r\n4. **社区支持好**：遇到问题容易找到解决方案\r\n\r\n### 安装过程：从\"不可能\"到\"成功\"\r\n\r\n#### 第一步：破解家庭版限制\r\n\r\n**问题**：Windows 10家庭版不支持Hyper-V\r\n\r\n**解决方案**：修改注册表伪装专业版\r\n\r\n```cmd\r\n# 以管理员身份运行CMD\r\nREG ADD \"HKEY_LOCAL_MACHINE\\software\\Microsoft\\Windows NT\\CurrentVersion\" /v EditionId /T REG_EXPAND_SZ /d Professional /F\r\n\r\n# 启用Hyper-V功能\r\ndism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL\r\n\r\n# 重启系统\r\nshutdown /r /t 0\r\n```\r\n\r\n**我的踩坑经历**：\r\n- 第一次：权限不足，修改失败\r\n- 第二次：功能启用失败，系统版本不支持\r\n- 第三次：重启后蓝屏，需要恢复注册表\r\n- 第四次：成功！Hyper-V正常启动\r\n\r\n#### 第二步：安装Docker Desktop\r\n\r\n**下载地址**：\r\n- 官网：https://www.docker.com/products/docker-desktop\r\n- 国内镜像：https://hub-mirror.c.163.com/\r\n\r\n**安装步骤**：\r\n1. 下载Docker Desktop安装包\r\n2. 以管理员身份运行安装程序\r\n3. 取消勾选\"Use Windows containers\"\r\n4. 完成安装后重启系统\r\n\r\n**我的踩坑经历**：\r\n- 第一次：下载速度慢，使用国内镜像解决\r\n- 第二次：安装失败，检查系统要求\r\n- 第三次：启动失败，检查Hyper-V状态\r\n- 第四次：成功！Docker Desktop正常运行\r\n\r\n#### 第三步：配置镜像加速\r\n\r\n**问题**：镜像下载速度慢\r\n\r\n**解决方案**：配置国内镜像源\r\n\r\n```json\r\n{\r\n  \"registry-mirrors\": [\r\n    \"https://hub-mirror.c.163.com/\",\r\n    \"https://registry.cn-hangzhou.aliyuncs.com/\",\r\n    \"https://mirror.ccs.tencentyun.com/\"\r\n  ],\r\n  \"insecure-registries\": [],\r\n  \"debug\": false,\r\n  \"experimental\": false\r\n}\r\n```\r\n\r\n**效果对比**：\r\n- 配置前：下载速度 100KB/s\r\n- 配置后：下载速度 2MB/s\r\n- 提升效果：20倍！\r\n\r\n## 实战对比：不同方案的性能测试\r\n\r\n### 测试环境\r\n- 硬件：Intel i7-8700K, 16GB RAM, SSD\r\n- 系统：Windows 10家庭版（破解后）\r\n- 测试镜像：nginx:latest\r\n\r\n### 性能对比结果\r\n\r\n| 方案 | 启动时间 | 内存占用 | CPU使用率 | 网络性能 | 磁盘性能 |\r\n|------|----------|----------|-----------|----------|----------|\r\n| Docker Desktop | 35秒 | 512MB | 5% | 100% | 100% |\r\n| Docker Toolbox | 25秒 | 256MB | 15% | 60% | 70% |\r\n| WSL2 + Docker | 20秒 | 384MB | 8% | 95% | 95% |\r\n\r\n### 我的分析\r\n\r\n**Docker Desktop**：\r\n- 启动时间较长，但功能最完整\r\n- 内存占用较大，但性能优秀\r\n- 适合日常开发和测试\r\n\r\n**Docker Toolbox**：\r\n- 启动较快，但性能较差\r\n- 资源占用小，但功能有限\r\n- 适合老旧系统或临时使用\r\n\r\n**WSL2 + Docker**：\r\n- 启动最快，性能接近原生\r\n- 配置复杂，但体验最佳\r\n- 适合专业开发环境\r\n\r\n## 常见问题：我的\"血泪史\"\r\n\r\n### 问题一：与VMware冲突\r\n\r\n**现象**：安装Hyper-V后，VMware无法启动\r\n\r\n**错误信息**：\r\n```\r\nVMware Workstation and Device/Credential Guard are not compatible.\r\n```\r\n\r\n**解决方案**：\r\n```cmd\r\n# 禁用Device Guard\r\nbcdedit /set hypervisorlaunchtype off\r\n\r\n# 重启系统\r\nshutdown /r /t 0\r\n\r\n# 重新启用Hyper-V（如果需要）\r\nbcdedit /set hypervisorlaunchtype auto\r\n```\r\n\r\n**我的选择**：暂时禁用VMware，专注Docker学习\r\n\r\n### 问题二：端口冲突\r\n\r\n**现象**：Docker容器无法启动，提示端口被占用\r\n\r\n**错误信息**：\r\n```\r\nError response from daemon: driver failed programming external connectivity on endpoint: Bind for 0.0.0.0:80 failed: port is already allocated\r\n```\r\n\r\n**解决方案**：\r\n```bash\r\n# 查看端口占用\r\nnetstat -ano | findstr :80\r\n\r\n# 修改Docker端口配置\r\n# 在Docker Desktop设置中修改端口映射\r\n```\r\n\r\n**我的经验**：使用非标准端口，避免冲突\r\n\r\n### 问题三：磁盘空间不足\r\n\r\n**现象**：Docker镜像和容器占用大量磁盘空间\r\n\r\n**解决方案**：\r\n```bash\r\n# 清理未使用的镜像\r\ndocker image prune -a\r\n\r\n# 清理未使用的容器\r\ndocker container prune\r\n\r\n# 清理未使用的数据卷\r\ndocker volume prune\r\n\r\n# 清理整个系统\r\ndocker system prune -a\r\n```\r\n\r\n**我的策略**：定期清理，保持磁盘空间充足\r\n\r\n## 最佳实践：我的Docker使用技巧\r\n\r\n### 技巧一：镜像管理\r\n\r\n**本地镜像优化**：\r\n```bash\r\n# 使用多阶段构建减小镜像大小\r\nFROM node:16-alpine AS builder\r\nWORKDIR /app\r\nCOPY package*.json ./\r\nRUN npm ci --only=production\r\n\r\nFROM node:16-alpine\r\nWORKDIR /app\r\nCOPY --from=builder /app/node_modules ./node_modules\r\nCOPY . .\r\nEXPOSE 3000\r\nCMD [\"npm\", \"start\"]\r\n```\r\n\r\n**镜像标签管理**：\r\n```bash\r\n# 给镜像添加有意义的标签\r\ndocker build -t myapp:v1.0 .\r\ndocker tag myapp:v1.0 myapp:latest\r\ndocker tag myapp:v1.0 myapp:stable\r\n```\r\n\r\n### 技巧二：数据持久化\r\n\r\n**数据卷使用**：\r\n```bash\r\n# 创建命名数据卷\r\ndocker volume create mydata\r\n\r\n# 运行容器时挂载数据卷\r\ndocker run -d --name myapp \\\r\n  -v mydata:/app/data \\\r\n  -p 3000:3000 \\\r\n  myapp:latest\r\n```\r\n\r\n**目录挂载**：\r\n```bash\r\n# 挂载本地目录\r\ndocker run -d --name myapp \\\r\n  -v /host/path:/container/path \\\r\n  -p 3000:3000 \\\r\n  myapp:latest\r\n```\r\n\r\n### 技巧三：网络配置\r\n\r\n**自定义网络**：\r\n```bash\r\n# 创建自定义网络\r\ndocker network create mynetwork\r\n\r\n# 运行容器时指定网络\r\ndocker run -d --name web \\\r\n  --network mynetwork \\\r\n  nginx:latest\r\n\r\ndocker run -d --name db \\\r\n  --network mynetwork \\\r\n  mysql:8.0\r\n```\r\n\r\n**端口映射**：\r\n```bash\r\n# 基本端口映射\r\ndocker run -d --name myapp \\\r\n  -p 8080:80 \\\r\n  nginx:latest\r\n\r\n# 指定IP地址\r\ndocker run -d --name myapp \\\r\n  -p 127.0.0.1:8080:80 \\\r\n  nginx:latest\r\n```\r\n\r\n## 项目实战：我的第一个Docker项目\r\n\r\n### 项目背景：个人博客系统\r\n\r\n**技术栈**：\r\n- 前端：React + TypeScript\r\n- 后端：Node.js + Express\r\n- 数据库：MySQL\r\n- 缓存：Redis\r\n- 反向代理：Nginx\r\n\r\n### Docker化过程\r\n\r\n**1. 前端容器化**：\r\n```dockerfile\r\n# Dockerfile.frontend\r\nFROM node:16-alpine AS builder\r\nWORKDIR /app\r\nCOPY package*.json ./\r\nRUN npm ci\r\nCOPY . .\r\nRUN npm run build\r\n\r\nFROM nginx:alpine\r\nCOPY --from=builder /app/build /usr/share/nginx/html\r\nCOPY nginx.conf /etc/nginx/nginx.conf\r\nEXPOSE 80\r\n```\r\n\r\n**2. 后端容器化**：\r\n```dockerfile\r\n# Dockerfile.backend\r\nFROM node:16-alpine\r\nWORKDIR /app\r\nCOPY package*.json ./\r\nRUN npm ci --only=production\r\nCOPY . .\r\nEXPOSE 3000\r\nCMD [\"npm\", \"start\"]\r\n```\r\n\r\n**3. Docker Compose配置**：\r\n```yaml\r\n# docker-compose.yml\r\nversion: '3.8'\r\nservices:\r\n  frontend:\r\n    build: ./frontend\r\n    ports:\r\n      - \"80:80\"\r\n    depends_on:\r\n      - backend\r\n\r\n  backend:\r\n    build: ./backend\r\n    ports:\r\n      - \"3000:3000\"\r\n    environment:\r\n      - DB_HOST=db\r\n      - REDIS_HOST=redis\r\n    depends_on:\r\n      - db\r\n      - redis\r\n\r\n  db:\r\n    image: mysql:8.0\r\n    environment:\r\n      - MYSQL_ROOT_PASSWORD=password\r\n      - MYSQL_DATABASE=blog\r\n    volumes:\r\n      - db_data:/var/lib/mysql\r\n\r\n  redis:\r\n    image: redis:6-alpine\r\n    volumes:\r\n      - redis_data:/data\r\n\r\nvolumes:\r\n  db_data:\r\n  redis_data:\r\n```\r\n\r\n### 部署效果\r\n\r\n**部署前**：\r\n- 环境配置：2小时\r\n- 依赖安装：30分钟\r\n- 启动时间：5分钟\r\n- 总时间：2小时35分钟\r\n\r\n**部署后**：\r\n- 环境配置：0分钟（已容器化）\r\n- 依赖安装：0分钟（已打包）\r\n- 启动时间：30秒\r\n- 总时间：30秒\r\n\r\n**效率提升**：500倍！\r\n\r\n## 总结与反思：容器化的价值\r\n\r\n### 我的认知转变\r\n\r\n**从\"不理解\"到\"离不开\"**：\r\n- 初期：认为容器化是多余的复杂性\r\n- 中期：开始理解容器化的价值\r\n- 现在：无法想象没有容器化的开发\r\n\r\n**从\"手动部署\"到\"一键部署\"**：\r\n- 初期：每次部署都要重新配置环境\r\n- 中期：使用脚本自动化部署\r\n- 现在：Docker Compose一键启动\r\n\r\n### 技术收获\r\n\r\n1. **环境一致性**：开发、测试、生产环境完全一致\r\n2. **部署效率**：从小时级缩短到分钟级\r\n3. **资源隔离**：不同应用互不影响\r\n4. **版本管理**：镜像版本化，便于回滚\r\n\r\n### 未来计划\r\n\r\n1. **学习Kubernetes**：掌握容器编排技术\r\n2. **探索微服务**：将单体应用拆分为微服务\r\n3. **自动化部署**：集成CI/CD流水线\r\n4. **监控告警**：建立容器监控体系\r\n\r\n## 参考资料\r\n\r\n### 官方文档\r\n- [Docker官方文档](https://docs.docker.com/)\r\n- [Docker Desktop用户指南](https://docs.docker.com/desktop/)\r\n- [Docker Compose文档](https://docs.docker.com/compose/)\r\n\r\n### 实用工具\r\n- [Docker Hub](https://hub.docker.com/)：镜像仓库\r\n- [Docker Desktop](https://www.docker.com/products/docker-desktop)：桌面版\r\n- [Portainer](https://www.portainer.io/)：Docker管理界面\r\n\r\n### 学习资源\r\n- [Docker入门教程](https://www.runoob.com/docker/docker-tutorial.html)\r\n- [Docker最佳实践](https://docs.docker.com/develop/dev-best-practices/)\r\n- [容器化部署指南](https://www.cnblogs.com/cmt/p/14553189.html)\r\n\r\n## 结语\r\n\r\n从\"这Hyper-V怎么开启\"到\"我的Docker终于能跑了\"，这个过程让我深刻理解了容器化的价值和意义。\r\n\r\nDocker不仅仅是一个工具，更是一种思维方式。它教会了我如何更好地管理应用、环境和部署流程。\r\n\r\n虽然学习过程中遇到了很多困难，但每一次\"翻车\"都是成长的机会。现在，Docker已经成为我开发工作中不可或缺的一部分。\r\n\r\n记住，容器化不是万能的，但它确实能解决很多传统部署方式的问题。关键是要根据自己的需求选择合适的方案，并持续学习和改进。\r\n\r\n---\r\n\r\n\u003e 💡 **实用小贴士**：当你遇到Docker问题时，不要慌张。Docker有强大的社区支持，几乎任何问题都能找到解决方案。最重要的是保持耐心和学习的热情！\r\n\r\n*\"在容器的世界里，让技术废柴也能成为容器化专家！\"* 🐳\r\n\r\n"])</script><script>self.__next_f.push([1,"c:[\"设计模式\",\"编程技巧\",\"代码架构\",\"软件工程\",\"最佳实践\",\"跨界探索\"]\nd:T61c9,"])</script><script>self.__next_f.push([1,"\r\n# 设计模式实战：技术废柴的代码重构之旅\r\n\r\n\u003e 从\"面条代码\"到\"优雅架构\"，我的设计模式进化史\r\n\r\n## 我与设计模式的\"相爱相杀\"\r\n\r\n### 第一次\"翻车\"：面条代码的诞生\r\n\r\n还记得第一次写游戏管理系统时，我信心满满地开始编码：\r\n\r\n```csharp\r\n// 我的第一个\"杰作\" - 面条代码\r\npublic class GameController : MonoBehaviour\r\n{\r\n    public int playerHealth = 100;\r\n    public int playerScore = 0;\r\n    public bool isGamePaused = false;\r\n    public string currentLevel = \"Level1\";\r\n    public float gameTime = 0f;\r\n\r\n    // 玩家相关\r\n    public void TakeDamage(int damage) {\r\n        playerHealth -= damage;\r\n        if (playerHealth \u003c= 0) {\r\n            GameOver();\r\n        }\r\n    }\r\n\r\n    public void AddScore(int points) {\r\n        playerScore += points;\r\n        UpdateUI();\r\n    }\r\n\r\n    public void PauseGame() {\r\n        isGamePaused = true;\r\n        Time.timeScale = 0;\r\n    }\r\n\r\n    public void ResumeGame() {\r\n        isGamePaused = false;\r\n        Time.timeScale = 1;\r\n    }\r\n\r\n    // UI相关\r\n    public void UpdateUI() {\r\n        // 更新所有UI元素\r\n        healthText.text = \"Health: \" + playerHealth;\r\n        scoreText.text = \"Score: \" + playerScore;\r\n        levelText.text = \"Level: \" + currentLevel;\r\n        timeText.text = \"Time: \" + gameTime;\r\n    }\r\n\r\n    // 音频相关\r\n    public void PlaySound(string soundName) {\r\n        // 播放音效\r\n    }\r\n\r\n    // 场景相关\r\n    public void LoadLevel(string levelName) {\r\n        // 加载场景\r\n    }\r\n\r\n    // 数据相关\r\n    public void SaveGame() {\r\n        // 保存游戏数据\r\n    }\r\n\r\n    public void LoadGame() {\r\n        // 加载游戏数据\r\n    }\r\n\r\n    // 网络相关\r\n    public void SendScoreToServer() {\r\n        // 发送分数到服务器\r\n    }\r\n}\r\n```\r\n\r\n结果呢？这个类越来越大，功能越来越混乱，维护起来痛苦不堪。导师看到后直接给我发了个\"🤦‍♂️\"的表情：\"你这是在做'面条代码'吗？\"\r\n\r\n### 第二次尝试：过度设计的\"灾难\"\r\n\r\n好不容易学会了设计模式，我又开始\"过度设计\"：\r\n\r\n```csharp\r\n// 我的\"过度设计\"杰作\r\npublic interface IGameState {\r\n    void Enter();\r\n    void Exit();\r\n    void Update();\r\n}\r\n\r\npublic abstract class AbstractGameState : IGameState {\r\n    protected GameStateMachine stateMachine;\r\n\r\n    public virtual void Enter() {}\r\n    public virtual void Exit() {}\r\n    public virtual void Update() {}\r\n}\r\n\r\npublic class PlayingState : AbstractGameState {\r\n    public override void Enter() {\r\n        // 进入游戏状态\r\n    }\r\n}\r\n\r\npublic class PausedState : AbstractGameState {\r\n    public override void Enter() {\r\n        // 进入暂停状态\r\n    }\r\n}\r\n\r\npublic class GameOverState : AbstractGameState {\r\n    public override void Enter() {\r\n        // 进入游戏结束状态\r\n    }\r\n}\r\n\r\npublic class GameStateMachine {\r\n    private IGameState currentState;\r\n    private Dictionary\u003cType, IGameState\u003e states;\r\n\r\n    public void ChangeState\u003cT\u003e() where T : IGameState {\r\n        // 状态切换逻辑\r\n    }\r\n}\r\n\r\n// 工厂模式\r\npublic interface IGameObjectFactory {\r\n    GameObject CreateGameObject(string type);\r\n}\r\n\r\npublic class GameObjectFactory : IGameObjectFactory {\r\n    public GameObject CreateGameObject(string type) {\r\n        // 创建游戏对象\r\n    }\r\n}\r\n\r\n// 观察者模式\r\npublic interface IObserver {\r\n    void OnNotify(string eventName, object data);\r\n}\r\n\r\npublic class GameEventSystem {\r\n    private Dictionary\u003cstring, List\u003cIObserver\u003e\u003e observers;\r\n\r\n    public void AddObserver(string eventName, IObserver observer) {\r\n        // 添加观察者\r\n    }\r\n\r\n    public void Notify(string eventName, object data) {\r\n        // 通知观察者\r\n    }\r\n}\r\n```\r\n\r\n这次更惨，为了一个简单的游戏管理系统，我写了十几个类和接口，代码复杂度直线上升。我的\"优雅架构\"变成了\"过度设计\"的灾难。\r\n\r\n### 觉醒时刻：设计模式不是银弹，是工具\r\n\r\n经过无数次的\"翻车\"经历，我终于明白：设计模式不是银弹，而是工具。关键是要在合适的地方使用合适的设计模式，而不是为了使用设计模式而使用设计模式。\r\n\r\n## 实用设计模式：从问题到解决方案\r\n\r\n### 1. 单例模式：全局管理器的救星\r\n\r\n#### 问题场景：游戏管理器\r\n\r\n**问题描述：**\r\n- 需要全局访问游戏状态\r\n- 避免创建多个实例\r\n- 跨场景保持数据\r\n\r\n**解决方案：**\r\n\r\n```csharp\r\npublic class GameManager : MonoBehaviour\r\n{\r\n    // 私有静态实例\r\n    private static GameManager _instance;\r\n\r\n    // 公共访问点\r\n    public static GameManager Instance\r\n    {\r\n        get\r\n        {\r\n            if (_instance == null)\r\n            {\r\n                _instance = FindObjectOfType\u003cGameManager\u003e();\r\n\r\n                if (_instance == null)\r\n                {\r\n                    GameObject go = new GameObject(\"GameManager\");\r\n                    _instance = go.AddComponent\u003cGameManager\u003e();\r\n                    DontDestroyOnLoad(go);\r\n                }\r\n            }\r\n            return _instance;\r\n        }\r\n    }\r\n\r\n    // 游戏数据\r\n    public int PlayerHealth { get; private set; } = 100;\r\n    public int PlayerScore { get; private set; } = 0;\r\n    public bool IsGamePaused { get; private set; } = false;\r\n\r\n    // 游戏方法\r\n    public void TakeDamage(int damage)\r\n    {\r\n        PlayerHealth = Mathf.Max(0, PlayerHealth - damage);\r\n        if (PlayerHealth \u003c= 0)\r\n        {\r\n            GameOver();\r\n        }\r\n    }\r\n\r\n    public void AddScore(int points)\r\n    {\r\n        PlayerScore += points;\r\n    }\r\n\r\n    public void PauseGame()\r\n    {\r\n        IsGamePaused = true;\r\n        Time.timeScale = 0;\r\n    }\r\n\r\n    public void ResumeGame()\r\n    {\r\n        IsGamePaused = false;\r\n        Time.timeScale = 1;\r\n    }\r\n\r\n    private void GameOver()\r\n    {\r\n        // 游戏结束逻辑\r\n        Debug.Log(\"Game Over!\");\r\n    }\r\n}\r\n\r\n// 使用示例\r\npublic class PlayerController : MonoBehaviour\r\n{\r\n    void Update()\r\n    {\r\n        if (Input.GetKeyDown(KeyCode.Space))\r\n        {\r\n            GameManager.Instance.AddScore(10);\r\n        }\r\n\r\n        if (Input.GetKeyDown(KeyCode.P))\r\n        {\r\n            if (GameManager.Instance.IsGamePaused)\r\n                GameManager.Instance.ResumeGame();\r\n            else\r\n                GameManager.Instance.PauseGame();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**使用场景：**\r\n- 游戏管理器\r\n- 音频管理器\r\n- 配置管理器\r\n- 网络管理器\r\n\r\n### 2. 观察者模式：解耦事件系统\r\n\r\n#### 问题场景：UI更新和游戏事件\r\n\r\n**问题描述：**\r\n- 游戏状态变化时需要更新多个UI\r\n- 避免直接依赖\r\n- 支持动态添加/移除监听者\r\n\r\n**解决方案：**\r\n\r\n```csharp\r\n// 事件系统\r\npublic class GameEventSystem\r\n{\r\n    private static GameEventSystem _instance;\r\n    public static GameEventSystem Instance\r\n    {\r\n        get\r\n        {\r\n            if (_instance == null)\r\n                _instance = new GameEventSystem();\r\n            return _instance;\r\n        }\r\n    }\r\n\r\n    private Dictionary\u003cstring, List\u003cAction\u003cobject\u003e\u003e\u003e _events;\r\n\r\n    private GameEventSystem()\r\n    {\r\n        _events = new Dictionary\u003cstring, List\u003cAction\u003cobject\u003e\u003e\u003e();\r\n    }\r\n\r\n    public void Subscribe(string eventName, Action\u003cobject\u003e callback)\r\n    {\r\n        if (!_events.ContainsKey(eventName))\r\n            _events[eventName] = new List\u003cAction\u003cobject\u003e\u003e();\r\n\r\n        _events[eventName].Add(callback);\r\n    }\r\n\r\n    public void Unsubscribe(string eventName, Action\u003cobject\u003e callback)\r\n    {\r\n        if (_events.ContainsKey(eventName))\r\n            _events[eventName].Remove(callback);\r\n    }\r\n\r\n    public void Publish(string eventName, object data = null)\r\n    {\r\n        if (_events.ContainsKey(eventName))\r\n        {\r\n            foreach (var callback in _events[eventName])\r\n            {\r\n                callback?.Invoke(data);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// 使用示例\r\npublic class HealthUI : MonoBehaviour\r\n{\r\n    public Text healthText;\r\n\r\n    void Start()\r\n    {\r\n        // 订阅健康值变化事件\r\n        GameEventSystem.Instance.Subscribe(\"HealthChanged\", OnHealthChanged);\r\n    }\r\n\r\n    void OnDestroy()\r\n    {\r\n        // 取消订阅\r\n        GameEventSystem.Instance.Unsubscribe(\"HealthChanged\", OnHealthChanged);\r\n    }\r\n\r\n    void OnHealthChanged(object data)\r\n    {\r\n        int health = (int)data;\r\n        healthText.text = $\"Health: {health}\";\r\n    }\r\n}\r\n\r\npublic class ScoreUI : MonoBehaviour\r\n{\r\n    public Text scoreText;\r\n\r\n    void Start()\r\n    {\r\n        // 订阅分数变化事件\r\n        GameEventSystem.Instance.Subscribe(\"ScoreChanged\", OnScoreChanged);\r\n    }\r\n\r\n    void OnDestroy()\r\n    {\r\n        GameEventSystem.Instance.Unsubscribe(\"ScoreChanged\", OnScoreChanged);\r\n    }\r\n\r\n    void OnScoreChanged(object data)\r\n    {\r\n        int score = (int)data;\r\n        scoreText.text = $\"Score: {score}\";\r\n    }\r\n}\r\n\r\n// 在GameManager中发布事件\r\npublic class GameManager : MonoBehaviour\r\n{\r\n    public void TakeDamage(int damage)\r\n    {\r\n        PlayerHealth = Mathf.Max(0, PlayerHealth - damage);\r\n\r\n        // 发布健康值变化事件\r\n        GameEventSystem.Instance.Publish(\"HealthChanged\", PlayerHealth);\r\n\r\n        if (PlayerHealth \u003c= 0)\r\n        {\r\n            GameEventSystem.Instance.Publish(\"GameOver\");\r\n        }\r\n    }\r\n\r\n    public void AddScore(int points)\r\n    {\r\n        PlayerScore += points;\r\n\r\n        // 发布分数变化事件\r\n        GameEventSystem.Instance.Publish(\"ScoreChanged\", PlayerScore);\r\n    }\r\n}\r\n```\r\n\r\n**使用场景：**\r\n- UI更新\r\n- 游戏事件处理\r\n- 成就系统\r\n- 音频播放\r\n\r\n### 3. 工厂模式：对象创建的优雅方式\r\n\r\n#### 问题场景：游戏对象创建\r\n\r\n**问题描述：**\r\n- 需要创建不同类型的游戏对象\r\n- 创建逻辑复杂\r\n- 需要统一管理\r\n\r\n**解决方案：**\r\n\r\n```csharp\r\n// 游戏对象基类\r\npublic abstract class GameObject\r\n{\r\n    public string Name { get; set; }\r\n    public Vector3 Position { get; set; }\r\n\r\n    public abstract void Initialize();\r\n    public abstract void Update();\r\n}\r\n\r\n// 具体游戏对象\r\npublic class Player : GameObject\r\n{\r\n    public int Health { get; set; }\r\n    public float Speed { get; set; }\r\n\r\n    public override void Initialize()\r\n    {\r\n        Health = 100;\r\n        Speed = 5f;\r\n        Debug.Log($\"Player {Name} initialized with {Health} health\");\r\n    }\r\n\r\n    public override void Update()\r\n    {\r\n        // 玩家更新逻辑\r\n    }\r\n}\r\n\r\npublic class Enemy : GameObject\r\n{\r\n    public int Damage { get; set; }\r\n    public float AttackRange { get; set; }\r\n\r\n    public override void Initialize()\r\n    {\r\n        Damage = 10;\r\n        AttackRange = 2f;\r\n        Debug.Log($\"Enemy {Name} initialized with {Damage} damage\");\r\n    }\r\n\r\n    public override void Update()\r\n    {\r\n        // 敌人更新逻辑\r\n    }\r\n}\r\n\r\npublic class Item : GameObject\r\n{\r\n    public string ItemType { get; set; }\r\n    public int Value { get; set; }\r\n\r\n    public override void Initialize()\r\n    {\r\n        Value = 50;\r\n        Debug.Log($\"Item {Name} of type {ItemType} initialized\");\r\n    }\r\n\r\n    public override void Update()\r\n    {\r\n        // 物品更新逻辑\r\n    }\r\n}\r\n\r\n// 工厂类\r\npublic class GameObjectFactory\r\n{\r\n    public static GameObject CreateGameObject(string type, string name, Vector3 position)\r\n    {\r\n        GameObject gameObject = null;\r\n\r\n        switch (type.ToLower())\r\n        {\r\n            case \"player\":\r\n                gameObject = new Player();\r\n                break;\r\n            case \"enemy\":\r\n                gameObject = new Enemy();\r\n                break;\r\n            case \"item\":\r\n                gameObject = new Item();\r\n                break;\r\n            default:\r\n                throw new ArgumentException($\"Unknown game object type: {type}\");\r\n        }\r\n\r\n        gameObject.Name = name;\r\n        gameObject.Position = position;\r\n        gameObject.Initialize();\r\n\r\n        return gameObject;\r\n    }\r\n}\r\n\r\n// 使用示例\r\npublic class GameController : MonoBehaviour\r\n{\r\n    void Start()\r\n    {\r\n        // 创建玩家\r\n        var player = GameObjectFactory.CreateGameObject(\"player\", \"Hero\", new Vector3(0, 0, 0));\r\n\r\n        // 创建敌人\r\n        var enemy = GameObjectFactory.CreateGameObject(\"enemy\", \"Goblin\", new Vector3(5, 0, 0));\r\n\r\n        // 创建物品\r\n        var item = GameObjectFactory.CreateGameObject(\"item\", \"HealthPotion\", new Vector3(2, 0, 0));\r\n    }\r\n}\r\n```\r\n\r\n**使用场景：**\r\n- 游戏对象创建\r\n- 武器系统\r\n- 道具系统\r\n- 敌人生成\r\n\r\n### 4. 策略模式：算法的灵活切换\r\n\r\n#### 问题场景：AI行为系统\r\n\r\n**问题描述：**\r\n- 敌人有不同的行为模式\r\n- 需要动态切换行为\r\n- 避免大量的if-else语句\r\n\r\n**解决方案：**\r\n\r\n```csharp\r\n// 行为策略接口\r\npublic interface IAIBehavior\r\n{\r\n    void Execute(GameObject target);\r\n}\r\n\r\n// 具体行为策略\r\npublic class AggressiveBehavior : IAIBehavior\r\n{\r\n    public void Execute(GameObject target)\r\n    {\r\n        Debug.Log(\"Aggressive: Charging at target!\");\r\n        // 攻击行为逻辑\r\n    }\r\n}\r\n\r\npublic class DefensiveBehavior : IAIBehavior\r\n{\r\n    public void Execute(GameObject target)\r\n    {\r\n        Debug.Log(\"Defensive: Keeping distance from target!\");\r\n        // 防御行为逻辑\r\n    }\r\n}\r\n\r\npublic class StealthBehavior : IAIBehavior\r\n{\r\n    public void Execute(GameObject target)\r\n    {\r\n        Debug.Log(\"Stealth: Sneaking around target!\");\r\n        // 潜行行为逻辑\r\n    }\r\n}\r\n\r\npublic class PatrolBehavior : IAIBehavior\r\n{\r\n    public void Execute(GameObject target)\r\n    {\r\n        Debug.Log(\"Patrol: Patrolling the area!\");\r\n        // 巡逻行为逻辑\r\n    }\r\n}\r\n\r\n// AI控制器\r\npublic class AIController\r\n{\r\n    private IAIBehavior currentBehavior;\r\n    private GameObject target;\r\n\r\n    public void SetBehavior(IAIBehavior behavior)\r\n    {\r\n        currentBehavior = behavior;\r\n    }\r\n\r\n    public void SetTarget(GameObject newTarget)\r\n    {\r\n        target = newTarget;\r\n    }\r\n\r\n    public void Update()\r\n    {\r\n        if (currentBehavior != null \u0026\u0026 target != null)\r\n        {\r\n            currentBehavior.Execute(target);\r\n        }\r\n    }\r\n}\r\n\r\n// 使用示例\r\npublic class EnemyAI : MonoBehaviour\r\n{\r\n    private AIController aiController;\r\n    private GameObject player;\r\n\r\n    void Start()\r\n    {\r\n        aiController = new AIController();\r\n        player = GameObject.FindGameObjectWithTag(\"Player\");\r\n        aiController.SetTarget(player);\r\n\r\n        // 根据敌人类型设置行为\r\n        SetBehaviorByType();\r\n    }\r\n\r\n    void Update()\r\n    {\r\n        aiController.Update();\r\n    }\r\n\r\n    void SetBehaviorByType()\r\n    {\r\n        string enemyType = gameObject.tag;\r\n\r\n        switch (enemyType)\r\n        {\r\n            case \"AggressiveEnemy\":\r\n                aiController.SetBehavior(new AggressiveBehavior());\r\n                break;\r\n            case \"DefensiveEnemy\":\r\n                aiController.SetBehavior(new DefensiveBehavior());\r\n                break;\r\n            case \"StealthEnemy\":\r\n                aiController.SetBehavior(new StealthBehavior());\r\n                break;\r\n            case \"PatrolEnemy\":\r\n                aiController.SetBehavior(new PatrolBehavior());\r\n                break;\r\n        }\r\n    }\r\n\r\n    // 动态切换行为\r\n    public void SwitchToAggressive()\r\n    {\r\n        aiController.SetBehavior(new AggressiveBehavior());\r\n    }\r\n\r\n    public void SwitchToDefensive()\r\n    {\r\n        aiController.SetBehavior(new DefensiveBehavior());\r\n    }\r\n}\r\n```\r\n\r\n**使用场景：**\r\n- AI行为系统\r\n- 武器系统\r\n- 支付系统\r\n- 排序算法\r\n\r\n### 5. 命令模式：操作的历史记录\r\n\r\n#### 问题场景：撤销/重做系统\r\n\r\n**问题描述：**\r\n- 需要支持撤销/重做操作\r\n- 操作可以组合\r\n- 支持宏命令\r\n\r\n**解决方案：**\r\n\r\n```csharp\r\n// 命令接口\r\npublic interface ICommand\r\n{\r\n    void Execute();\r\n    void Undo();\r\n}\r\n\r\n// 具体命令\r\npublic class MoveCommand : ICommand\r\n{\r\n    private GameObject target;\r\n    private Vector3 oldPosition;\r\n    private Vector3 newPosition;\r\n\r\n    public MoveCommand(GameObject target, Vector3 newPosition)\r\n    {\r\n        this.target = target;\r\n        this.oldPosition = target.transform.position;\r\n        this.newPosition = newPosition;\r\n    }\r\n\r\n    public void Execute()\r\n    {\r\n        target.transform.position = newPosition;\r\n        Debug.Log($\"Moved {target.name} to {newPosition}\");\r\n    }\r\n\r\n    public void Undo()\r\n    {\r\n        target.transform.position = oldPosition;\r\n        Debug.Log($\"Undid move of {target.name} back to {oldPosition}\");\r\n    }\r\n}\r\n\r\npublic class ScaleCommand : ICommand\r\n{\r\n    private GameObject target;\r\n    private Vector3 oldScale;\r\n    private Vector3 newScale;\r\n\r\n    public ScaleCommand(GameObject target, Vector3 newScale)\r\n    {\r\n        this.target = target;\r\n        this.oldScale = target.transform.localScale;\r\n        this.newScale = newScale;\r\n    }\r\n\r\n    public void Execute()\r\n    {\r\n        target.transform.localScale = newScale;\r\n        Debug.Log($\"Scaled {target.name} to {newScale}\");\r\n    }\r\n\r\n    public void Undo()\r\n    {\r\n        target.transform.localScale = oldScale;\r\n        Debug.Log($\"Undid scale of {target.name} back to {oldScale}\");\r\n    }\r\n}\r\n\r\n// 宏命令\r\npublic class MacroCommand : ICommand\r\n{\r\n    private List\u003cICommand\u003e commands;\r\n\r\n    public MacroCommand()\r\n    {\r\n        commands = new List\u003cICommand\u003e();\r\n    }\r\n\r\n    public void AddCommand(ICommand command)\r\n    {\r\n        commands.Add(command);\r\n    }\r\n\r\n    public void Execute()\r\n    {\r\n        foreach (var command in commands)\r\n        {\r\n            command.Execute();\r\n        }\r\n    }\r\n\r\n    public void Undo()\r\n    {\r\n        // 反向执行命令\r\n        for (int i = commands.Count - 1; i \u003e= 0; i--)\r\n        {\r\n            commands[i].Undo();\r\n        }\r\n    }\r\n}\r\n\r\n// 命令管理器\r\npublic class CommandManager\r\n{\r\n    private Stack\u003cICommand\u003e undoStack;\r\n    private Stack\u003cICommand\u003e redoStack;\r\n\r\n    public CommandManager()\r\n    {\r\n        undoStack = new Stack\u003cICommand\u003e();\r\n        redoStack = new Stack\u003cICommand\u003e();\r\n    }\r\n\r\n    public void ExecuteCommand(ICommand command)\r\n    {\r\n        command.Execute();\r\n        undoStack.Push(command);\r\n        redoStack.Clear(); // 新命令会清空重做栈\r\n    }\r\n\r\n    public void Undo()\r\n    {\r\n        if (undoStack.Count \u003e 0)\r\n        {\r\n            ICommand command = undoStack.Pop();\r\n            command.Undo();\r\n            redoStack.Push(command);\r\n        }\r\n    }\r\n\r\n    public void Redo()\r\n    {\r\n        if (redoStack.Count \u003e 0)\r\n        {\r\n            ICommand command = redoStack.Pop();\r\n            command.Execute();\r\n            undoStack.Push(command);\r\n        }\r\n    }\r\n}\r\n\r\n// 使用示例\r\npublic class GameEditor : MonoBehaviour\r\n{\r\n    private CommandManager commandManager;\r\n    private GameObject selectedObject;\r\n\r\n    void Start()\r\n    {\r\n        commandManager = new CommandManager();\r\n    }\r\n\r\n    void Update()\r\n    {\r\n        // 移动命令\r\n        if (Input.GetKeyDown(KeyCode.W))\r\n        {\r\n            if (selectedObject != null)\r\n            {\r\n                Vector3 newPosition = selectedObject.transform.position + Vector3.forward;\r\n                ICommand moveCommand = new MoveCommand(selectedObject, newPosition);\r\n                commandManager.ExecuteCommand(moveCommand);\r\n            }\r\n        }\r\n\r\n        // 缩放命令\r\n        if (Input.GetKeyDown(KeyCode.S))\r\n        {\r\n            if (selectedObject != null)\r\n            {\r\n                Vector3 newScale = selectedObject.transform.localScale * 1.2f;\r\n                ICommand scaleCommand = new ScaleCommand(selectedObject, newScale);\r\n                commandManager.ExecuteCommand(scaleCommand);\r\n            }\r\n        }\r\n\r\n        // 撤销\r\n        if (Input.GetKeyDown(KeyCode.Z))\r\n        {\r\n            commandManager.Undo();\r\n        }\r\n\r\n        // 重做\r\n        if (Input.GetKeyDown(KeyCode.Y))\r\n        {\r\n            commandManager.Redo();\r\n        }\r\n\r\n        // 宏命令示例\r\n        if (Input.GetKeyDown(KeyCode.M))\r\n        {\r\n            if (selectedObject != null)\r\n            {\r\n                MacroCommand macro = new MacroCommand();\r\n                macro.AddCommand(new MoveCommand(selectedObject, selectedObject.transform.position + Vector3.up));\r\n                macro.AddCommand(new ScaleCommand(selectedObject, selectedObject.transform.localScale * 1.5f));\r\n                commandManager.ExecuteCommand(macro);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**使用场景：**\r\n- 编辑器撤销/重做\r\n- 游戏回放系统\r\n- 操作日志\r\n- 宏录制\r\n\r\n## 设计模式的最佳实践\r\n\r\n### 1. 何时使用设计模式\r\n\r\n**使用设计模式的情况：**\r\n- 代码重复度高\r\n- 类之间耦合严重\r\n- 扩展性差\r\n- 维护困难\r\n\r\n**避免过度设计的情况：**\r\n- 简单的一次性代码\r\n- 原型开发阶段\r\n- 团队不熟悉设计模式\r\n\r\n### 2. 设计模式的选择原则\r\n\r\n**SOLID原则：**\r\n- **S**ingle Responsibility Principle (单一职责原则)\r\n- **O**pen/Closed Principle (开闭原则)\r\n- **L**iskov Substitution Principle (里氏替换原则)\r\n- **I**nterface Segregation Principle (接口隔离原则)\r\n- **D**ependency Inversion Principle (依赖倒置原则)\r\n\r\n**实际应用：**\r\n```csharp\r\n// 违反单一职责原则\r\npublic class GameManager\r\n{\r\n    public void UpdatePlayer() { }\r\n    public void UpdateEnemy() { }\r\n    public void UpdateUI() { }\r\n    public void PlaySound() { }\r\n    public void SaveData() { }\r\n}\r\n\r\n// 符合单一职责原则\r\npublic class PlayerManager\r\n{\r\n    public void UpdatePlayer() { }\r\n}\r\n\r\npublic class EnemyManager\r\n{\r\n    public void UpdateEnemy() { }\r\n}\r\n\r\npublic class UIManager\r\n{\r\n    public void UpdateUI() { }\r\n}\r\n\r\npublic class AudioManager\r\n{\r\n    public void PlaySound() { }\r\n}\r\n\r\npublic class DataManager\r\n{\r\n    public void SaveData() { }\r\n}\r\n```\r\n\r\n### 3. 重构技巧\r\n\r\n**识别代码异味：**\r\n- 长方法\r\n- 大类\r\n- 重复代码\r\n- 数据泥团\r\n- 发散式变化\r\n\r\n**重构步骤：**\r\n1. 识别问题\r\n2. 选择合适的设计模式\r\n3. 逐步重构\r\n4. 测试验证\r\n\r\n## 总结与反思\r\n\r\n### 设计模式的价值\r\n\r\n1. **提高代码质量**：结构更清晰，维护更容易\r\n2. **提高开发效率**：复用解决方案，减少重复工作\r\n3. **提高团队协作**：统一的代码风格和架构\r\n4. **提高系统扩展性**：新功能更容易添加\r\n\r\n### 我的学习心得\r\n\r\n1. **从问题出发**：不要为了使用设计模式而使用设计模式\r\n2. **循序渐进**：从简单的设计模式开始学习\r\n3. **实践为主**：理论结合实践，多写代码\r\n4. **持续改进**：代码重构是一个持续的过程\r\n\r\n### 给其他\"废柴\"的建议\r\n\r\n1. **不要害怕重构**：好的代码是重构出来的\r\n2. **学习经典案例**：研究优秀开源项目的设计模式应用\r\n3. **保持简单**：能用简单方案解决的问题，不要用复杂的设计模式\r\n4. **团队协作**：与团队成员讨论设计模式的应用\r\n\r\n## 参考资料\r\n\r\n- [设计模式：可复用面向对象软件的基础](https://book.douban.com/subject/1052241/)\r\n- [Head First设计模式](https://book.douban.com/subject/2243615/)\r\n- [重构：改善既有代码的设计](https://book.douban.com/subject/4262627/)\r\n- [Clean Code](https://book.douban.com/subject/4199741/)\r\n\r\n## 结语\r\n\r\n设计模式不是银弹，而是工具。关键是要在合适的地方使用合适的设计模式，而不是为了使用设计模式而使用设计模式。\r\n\r\n记住，好的代码是重构出来的。不要害怕重构，不要害怕犯错，每一次重构都是学习的机会。从简单的设计模式开始，逐步掌握更复杂的设计模式，最终成为代码架构的\"艺术家\"。\r\n\r\n## 实用小贴士\r\n\r\n### 🎯 设计模式学习路径\r\n- [ ] 理解基本概念（SOLID原则）\r\n- [ ] 掌握常用模式（单例、观察者、工厂）\r\n- [ ] 学习高级模式（策略、命令、状态）\r\n- [ ] 实践项目应用（重构现有代码）\r\n- [ ] 团队协作推广（分享经验）\r\n\r\n### 🚀 快速开始\r\n```csharp\r\n// 1. 识别代码问题\r\n// 2. 选择合适的设计模式\r\n// 3. 逐步重构代码\r\n// 4. 测试验证效果\r\n\r\n// 示例：将面条代码重构为单例模式\r\npublic class GameManager : MonoBehaviour\r\n{\r\n    private static GameManager _instance;\r\n    public static GameManager Instance =\u003e _instance;\r\n\r\n    void Awake()\r\n    {\r\n        if (_instance == null)\r\n        {\r\n            _instance = this;\r\n            DontDestroyOnLoad(gameObject);\r\n        }\r\n        else\r\n        {\r\n            Destroy(gameObject);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### 💡 进阶技巧\r\n- 使用依赖注入框架\r\n- 实现事件驱动架构\r\n- 应用微服务设计模式\r\n- 学习领域驱动设计\r\n- 掌握响应式编程模式\r\n"])</script><script>self.__next_f.push([1,"b:{\"id\":\"design-patterns-practical\",\"title\":\"🎨 设计模式实战：技术废柴的代码重构之旅\",\"description\":\"从混乱代码到优雅架构，分享我在设计模式学习过程中的实用技巧和实战经验，记录技术废柴在软件工程领域的成长轨迹。\",\"date\":\"2023-12-28\",\"readTime\":\"18分钟\",\"tags\":\"$c\",\"category\":\"计算机技术\",\"slug\":\"design-patterns-practical\",\"featured\":false,\"author\":\"LJoson\",\"status\":\"published\",\"content\":\"$d\",\"excerpt\":\"\\r\\n 设计模式实战：技术废柴的代码重构之旅\\r\\n\\r\\n\u003e 从\\\"面条代码\\\"到\\\"优雅架构\\\"，我的设计模式进化史\\r\\n\\r\\n 我与设计模式的\\\"相爱相杀\\\"\\r\\n\\r\\n 第一次\\\"翻车\\\"：面条代码的诞生\\r\\n\\r\\n还记得第一次写游戏管理系统时，我信心满满地开始编码：\\r\\n\\r\\ncsharp\\r\\n// 我的第一个\\\"杰作\\\" - 面条代码\\r\\npublic class GameController : MonoBehaviour\\r\\n{\\r\\n...\"}\nf:[\"slug\",\"design-patterns-practical\",\"d\"]\n1b:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L2\",null,{\"buildId\":\"build-1756572638459\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"blog\",\"design-patterns-practical\",\"\"],\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"design-patterns-practical\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"design-patterns-practical\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"design-patterns-practical\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L3\",[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-cyber-bg-900\",\"children\":[\"$\",\"div\",null,{\"className\":\"relative overflow-hidden\",\"children\":[[\"$\",\"div\",null,{\"className\":\"absolute inset-0 bg-gradient-to-br from-fail-red/5 via-fail-orange/3 to-fail-purple/5\"}],[\"$\",\"div\",null,{\"className\":\"relative z-10\",\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto px-4 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"grid grid-cols-1 lg:grid-cols-4 gap-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"lg:col-span-3 w-full\",\"children\":[\"$\",\"$L4\",null,{\"post\":{\"id\":\"design-patterns-practical\",\"title\":\"🎨 设计模式实战：技术废柴的代码重构之旅\",\"description\":\"从混乱代码到优雅架构，分享我在设计模式学习过程中的实用技巧和实战经验，记录技术废柴在软件工程领域的成长轨迹。\",\"date\":\"2023-12-28\",\"readTime\":\"18分钟\",\"tags\":[\"设计模式\",\"编程技巧\",\"代码架构\",\"软件工程\",\"最佳实践\",\"跨界探索\"],\"category\":\"计算机技术\",\"slug\":\"design-patterns-practical\",\"featured\":false,\"author\":\"LJoson\",\"status\":\"published\",\"content\":\"$5\",\"excerpt\":\"\\r\\n 设计模式实战：技术废柴的代码重构之旅\\r\\n\\r\\n\u003e 从\\\"面条代码\\\"到\\\"优雅架构\\\"，我的设计模式进化史\\r\\n\\r\\n 我与设计模式的\\\"相爱相杀\\\"\\r\\n\\r\\n 第一次\\\"翻车\\\"：面条代码的诞生\\r\\n\\r\\n还记得第一次写游戏管理系统时，我信心满满地开始编码：\\r\\n\\r\\ncsharp\\r\\n// 我的第一个\\\"杰作\\\" - 面条代码\\r\\npublic class GameController : MonoBehaviour\\r\\n{\\r\\n...\"}}]}],[\"$\",\"div\",null,{\"className\":\"lg:col-span-1\",\"children\":[\"$\",\"div\",null,{\"className\":\"sticky top-24\",\"children\":[\"$\",\"$L6\",null,{}]}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto px-4 pb-16\",\"children\":[\"$\",\"$L7\",null,{\"posts\":[{\"id\":\"webgpu-3d-rendering\",\"title\":\"⚡ WebGPU深度探索：技术废柴的图形编程进化史\",\"description\":\"从WebGL到WebGPU，从基础概念到高级特性，深入解析下一代图形API的技术原理和实际应用，记录技术废柴在图形编程领域的成长轨迹。\",\"date\":\"2024-01-05\",\"readTime\":\"18分钟\",\"tags\":[\"WebGPU\",\"WebGL\",\"3D渲染\",\"图形API\",\"JavaScript\",\"TypeScript\",\"Web技术\",\"GPU编程\",\"跨界探索\"],\"category\":\"计算机技术\",\"slug\":\"webgpu-3d-rendering\",\"featured\":true,\"author\":\"LJoson\",\"status\":\"published\",\"content\":\"$8\",\"excerpt\":\"\\r\\n WebGPU深度探索：技术废柴的图形编程进化史\\r\\n\\r\\n\u003e 从\\\"Hello Triangle\\\"到\\\"实时渲染引擎\\\"，我的WebGPU技术探索之旅\\r\\n\\r\\n 我与WebGPU的\\\"第一次亲密接触\\\"\\r\\n\\r\\n 第一次\\\"翻车\\\"：WebGL的局限性\\r\\n\\r\\n还记得第一次尝试用WebGL做复杂3D渲染时，我信心满满地开始编码：\\r\\n\\r\\njavascript\\r\\n// 我的第一个\\\"杰作\\\" - WebGL复杂渲染\\r\\nco...\"},{\"id\":\"vuepress-blog-guide\",\"title\":\"📝 VuePress博客搭建完全指南：技术废柴的建站选择与实战之旅\",\"description\":\"从框架选择到完整部署，从Hexo到VuePress，深度对比各种博客框架的优劣并实战搭建。记录我在博客搭建过程中的技术选型思考和实战踩坑经验，记录技术废柴在前端开发领域的成长轨迹。\",\"date\":\"2021-02-13\",\"readTime\":\"25分钟\",\"tags\":[\"VuePress\",\"静态博客\",\"前端开发\",\"Vue\",\"GitHub Pages\",\"技术废柴\",\"建站指南\",\"框架对比\",\"实战教程\",\"跨界探索\"],\"category\":\"计算机技术\",\"slug\":\"vuepress-blog-guide\",\"featured\":true,\"author\":\"LJoson\",\"status\":\"published\",\"content\":\"$9\",\"excerpt\":\"\\r\\n VuePress博客搭建完全指南：技术废柴的建站选择与实战之旅\\r\\n\\r\\n\u003e 从\\\"哪个框架最好\\\"到\\\"完整博客部署\\\"，我的博客框架选择与实战进化史\\r\\n\\r\\n 我与博客框架的\\\"相爱相杀\\\"\\r\\n\\r\\n 初遇：被\\\"最好\\\"的框架坑惨了\\r\\n\\r\\n记得刚开始搭建博客时，我犯了一个经典错误：盲目追求\\\"最好\\\"的框架。\\r\\n\\r\\n\\\"Hexo最流行，就用Hexo！\\\"\\r\\n\\\"WordPress功能最强大，必须用WordPress！\\\"...\"},{\"id\":\"docker-windows-installation\",\"title\":\"🐳 Windows 10家庭版安装Docker：一个技术废柴的容器化踩坑之旅\",\"description\":\"从'这Hyper-V怎么开启'到'我的Docker终于能跑了'，分享我在Windows容器化领域的真实探索经历，记录技术废柴在系统配置领域的成长轨迹。\",\"date\":\"2020-10-17\",\"readTime\":\"20分钟\",\"tags\":[\"Docker\",\"Windows\",\"虚拟化\",\"容器\",\"Hyper-V\",\"Linux\",\"系统配置\",\"跨界探索\"],\"category\":\"计算机技术\",\"slug\":\"docker-windows-installation\",\"featured\":true,\"author\":\"LJoson\",\"status\":\"published\",\"content\":\"$a\",\"excerpt\":\"\\r\\n 🐳 Windows 10家庭版安装Docker：一个技术废柴的容器化踩坑之旅\\r\\n\\r\\n 容器化：从\\\"不可能\\\"到\\\"真香\\\"\\r\\n\\r\\n还记得第一次听说Docker时的困惑吗？\\\"容器化？那不是装东西的盒子吗？\\\"当时的我完全无法理解这个概念。\\r\\n\\r\\n直到有一天，我在部署一个项目时遇到了\\\"环境依赖地狱\\\"——在我的电脑上运行正常，在服务器上却各种报错。那一刻，我深刻理解了容器化的价值。\\r\\n\\r\\n 方案对比：选...\"}],\"currentPost\":\"$b\"}]}]]}]]}]}],null],null],null]},[null,[\"$\",\"$Le\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"$f\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L10\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$Le\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L10\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3689037f0d92e8a5.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"zh-CN\",\"className\":\"scroll-smooth\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.svg\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-touch-icon.svg\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/manifest.json\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#ff6b6b\"}],[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"WebSite\\\",\\\"name\\\":\\\"LJoson 的废柴小窝\\\",\\\"description\\\":\\\"从技术废柴到跨界探索者的进化之路\\\",\\\"url\\\":\\\"https://ljoson.com\\\",\\\"author\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"LJoson\\\",\\\"url\\\":\\\"https://ljoson.com\\\"},\\\"publisher\\\":{\\\"@type\\\":\\\"Organization\\\",\\\"name\\\":\\\"GlimmerLab\\\",\\\"url\\\":\\\"https://glimmerlab.com\\\"}}\"}}]]}],[\"$\",\"body\",null,{\"className\":\"bg-cyber-bg-900 text-white antialiased font-sans selection:bg-fail-red/20 selection:text-white\",\"children\":[[\"$\",\"$L11\",null,{\"children\":[\"$\",\"$L12\",null,{\"children\":[\"$\",\"$L13\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen flex flex-col relative\",\"children\":[[\"$\",\"div\",null,{\"className\":\"fixed inset-0 pointer-events-none\",\"children\":[[\"$\",\"div\",null,{\"className\":\"absolute inset-0 bg-gradient-to-br from-fail-red/5 via-transparent to-fail-purple/5\"}],[\"$\",\"div\",null,{\"className\":\"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(255,107,107,0.1),transparent_50%)]\"}]]}],[\"$\",\"div\",null,{\"className\":\"relative z-10 flex flex-col min-h-screen\",\"children\":[[\"$\",\"$L14\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$Le\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$15\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$L10\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"$L16\",null,{}],\"notFoundStyles\":[]}]}],[\"$\",\"$L17\",null,{}]]}]]}]}]}]}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              // 性能监控\\n              if (typeof window !== 'undefined') {\\n                window.addEventListener('load', () =\u003e {\\n                  if ('performance' in window) {\\n                    const perfData = performance.getEntriesByType('navigation')[0];\\n                    if (perfData) {\\n                      console.log('页面加载性能:', {\\n                        'DOM内容加载': perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart + 'ms',\\n                        '页面完全加载': perfData.loadEventEnd - perfData.loadEventStart + 'ms',\\n                        '首次内容绘制': performance.getEntriesByName('first-contentful-paint')[0]?.startTime + 'ms'\\n                      });\\n                    }\\n                  }\\n                });\\n              }\\n            \"}}]]}]]}]],null],[[\"$\",\"$L18\",null,{}],[],[]]],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L19\"],\"globalErrorComponent\":\"$1a\",\"missingSlots\":\"$W1b\"}]\n"])</script><script>self.__next_f.push([1,"19:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"🎨 设计模式实战：技术废柴的代码重构之旅 - LJoson 的\\\"废柴\\\"小窝 | LJoson 的\\\"废柴\\\"小窝\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"从混乱代码到优雅架构，分享我在设计模式学习过程中的实用技巧和实战经验，记录技术废柴在软件工程领域的成长轨迹。\"}],[\"$\",\"meta\",\"4\",{\"name\":\"author\",\"content\":\"LJoson\"}],[\"$\",\"meta\",\"5\",{\"name\":\"keywords\",\"content\":\"设计模式, 编程技巧, 代码架构, 软件工程, 最佳实践, 跨界探索\"}],[\"$\",\"meta\",\"6\",{\"name\":\"creator\",\"content\":\"LJoson\"}],[\"$\",\"meta\",\"7\",{\"name\":\"publisher\",\"content\":\"LJoson\"}],[\"$\",\"meta\",\"8\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"9\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"meta\",\"10\",{\"name\":\"theme-color\",\"content\":\"#ff6b6b\"}],[\"$\",\"meta\",\"11\",{\"name\":\"color-scheme\",\"content\":\"dark\"}],[\"$\",\"meta\",\"12\",{\"name\":\"viewport-fit\",\"content\":\"cover\"}],[\"$\",\"link\",\"13\",{\"rel\":\"canonical\",\"href\":\"https://ljoson.com/\"}],[\"$\",\"meta\",\"14\",{\"name\":\"format-detection\",\"content\":\"telephone=no, address=no, email=no\"}],[\"$\",\"meta\",\"15\",{\"name\":\"google-site-verification\",\"content\":\"your-google-verification-code\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:title\",\"content\":\"🎨 设计模式实战：技术废柴的代码重构之旅\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:description\",\"content\":\"从混乱代码到优雅架构，分享我在设计模式学习过程中的实用技巧和实战经验，记录技术废柴在软件工程领域的成长轨迹。\"}],[\"$\",\"meta\",\"18\",{\"property\":\"og:image\",\"content\":\"https://ljoson.com/api/og?title=%F0%9F%8E%A8%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AE%9E%E6%88%98%EF%BC%9A%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E6%9E%84%E4%B9%8B%E6%97%85\u0026description=%E4%BB%8E%E6%B7%B7%E4%B9%B1%E4%BB%A3%E7%A0%81%E5%88%B0%E4%BC%98%E9%9B%85%E6%9E%B6%E6%9E%84%EF%BC%8C%E5%88%86%E4%BA%AB%E6%88%91%E5%9C%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7%E5%92%8C%E5%AE%9E%E6%88%98%E7%BB%8F%E9%AA%8C%EF%BC%8C%E8%AE%B0%E5%BD%95%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E5%9C%A8%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E9%A2%86%E5%9F%9F%E7%9A%84%E6%88%90%E9%95%BF%E8%BD%A8%E8%BF%B9%E3%80%82\"}],[\"$\",\"meta\",\"19\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"20\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"21\",{\"property\":\"og:image:alt\",\"content\":\"🎨 设计模式实战：技术废柴的代码重构之旅\"}],[\"$\",\"meta\",\"22\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"23\",{\"property\":\"article:published_time\",\"content\":\"2023-12-28\"}],[\"$\",\"meta\",\"24\",{\"property\":\"article:author\",\"content\":\"LJoson\"}],[\"$\",\"meta\",\"25\",{\"property\":\"article:tag\",\"content\":\"设计模式\"}],[\"$\",\"meta\",\"26\",{\"property\":\"article:tag\",\"content\":\"编程技巧\"}],[\"$\",\"meta\",\"27\",{\"property\":\"article:tag\",\"content\":\"代码架构\"}],[\"$\",\"meta\",\"28\",{\"property\":\"article:tag\",\"content\":\"软件工程\"}],[\"$\",\"meta\",\"29\",{\"property\":\"article:tag\",\"content\":\"最佳实践\"}],[\"$\",\"meta\",\"30\",{\"property\":\"article:tag\",\"content\":\"跨界探索\"}],[\"$\",\"meta\",\"31\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"32\",{\"name\":\"twitter:title\",\"content\":\"🎨 设计模式实战：技术废柴的代码重构之旅\"}],[\"$\",\"meta\",\"33\",{\"name\":\"twitter:description\",\"content\":\"从混乱代码到优雅架构，分享我在设计模式学习过程中的实用技巧和实战经验，记录技术废柴在软件工程领域的成长轨迹。\"}],[\"$\",\"meta\",\"34\",{\"name\":\"twitter:image\",\"content\":\"https://ljoson.com/api/og?title=%F0%9F%8E%A8%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AE%9E%E6%88%98%EF%BC%9A%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E6%9E%84%E4%B9%8B%E6%97%85\u0026description=%E4%BB%8E%E6%B7%B7%E4%B9%B1%E4%BB%A3%E7%A0%81%E5%88%B0%E4%BC%98%E9%9B%85%E6%9E%B6%E6%9E%84%EF%BC%8C%E5%88%86%E4%BA%AB%E6%88%91%E5%9C%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7%E5%92%8C%E5%AE%9E%E6%88%98%E7%BB%8F%E9%AA%8C%EF%BC%8C%E8%AE%B0%E5%BD%95%E6%8A%80%E6%9C%AF%E5%BA%9F%E6%9F%B4%E5%9C%A8%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E9%A2%86%E5%9F%9F%E7%9A%84%E6%88%90%E9%95%BF%E8%BD%A8%E8%BF%B9%E3%80%82\"}]]\n"])</script><script>self.__next_f.push([1,"3:null\n"])</script></body></html>